(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function bp(t,e){const n=new Set(t.split(","));return r=>n.has(r)}const Tt={},zo=[],dr=()=>{},wC=()=>!1,yh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Cp=t=>t.startsWith("onUpdate:"),Gt=Object.assign,Pp=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},IC=Object.prototype.hasOwnProperty,nt=(t,e)=>IC.call(t,e),Pe=Array.isArray,Qo=t=>vh(t)==="[object Map]",u0=t=>vh(t)==="[object Set]",Fe=t=>typeof t=="function",Lt=t=>typeof t=="string",lo=t=>typeof t=="symbol",Rt=t=>t!==null&&typeof t=="object",c0=t=>(Rt(t)||Fe(t))&&Fe(t.then)&&Fe(t.catch),l0=Object.prototype.toString,vh=t=>l0.call(t),TC=t=>vh(t).slice(8,-1),h0=t=>vh(t)==="[object Object]",xp=t=>Lt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,du=bp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Eh=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},AC=/-(\w)/g,Wr=Eh(t=>t.replace(AC,(e,n)=>n?n.toUpperCase():"")),RC=/\B([A-Z])/g,ho=Eh(t=>t.replace(RC,"-$1").toLowerCase()),wh=Eh(t=>t.charAt(0).toUpperCase()+t.slice(1)),hd=Eh(t=>t?`on${wh(t)}`:""),as=(t,e)=>!Object.is(t,e),Ml=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},f0=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Vd=t=>{const e=parseFloat(t);return isNaN(e)?t:e},SC=t=>{const e=Lt(t)?Number(t):NaN;return isNaN(e)?t:e};let F_;const d0=()=>F_||(F_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Op(t){if(Pe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Lt(r)?xC(r):Op(r);if(i)for(const o in i)e[o]=i[o]}return e}else if(Lt(t)||Rt(t))return t}const bC=/;(?![^(]*\))/g,CC=/:([^]+)/,PC=/\/\*[^]*?\*\//g;function xC(t){const e={};return t.replace(PC,"").split(bC).forEach(n=>{if(n){const r=n.split(CC);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function pi(t){let e="";if(Lt(t))e=t;else if(Pe(t))for(let n=0;n<t.length;n++){const r=pi(t[n]);r&&(e+=r+" ")}else if(Rt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const OC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",DC=bp(OC);function p0(t){return!!t||t===""}const pr=t=>Lt(t)?t:t==null?"":Pe(t)||Rt(t)&&(t.toString===l0||!Fe(t.toString))?JSON.stringify(t,g0,2):String(t),g0=(t,e)=>e&&e.__v_isRef?g0(t,e.value):Qo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],o)=>(n[fd(r,o)+" =>"]=i,n),{})}:u0(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>fd(n))}:lo(e)?fd(e):Rt(e)&&!Pe(e)&&!h0(e)?String(e):e,fd=(t,e="")=>{var n;return lo(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Yn;class m0{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Yn,!e&&Yn&&(this.index=(Yn.scopes||(Yn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Yn;try{return Yn=this,e()}finally{Yn=n}}}on(){Yn=this}off(){Yn=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function _0(t){return new m0(t)}function NC(t,e=Yn){e&&e.active&&e.effects.push(t)}function y0(){return Yn}function kC(t){Yn&&Yn.cleanups.push(t)}let Xs;class Dp{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,NC(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,ds();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(LC(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),ps()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=es,n=Xs;try{return es=!0,Xs=this,this._runnings++,U_(this),this.fn()}finally{B_(this),this._runnings--,Xs=n,es=e}}stop(){this.active&&(U_(this),B_(this),this.onStop&&this.onStop(),this.active=!1)}}function LC(t){return t.value}function U_(t){t._trackId++,t._depsLength=0}function B_(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)v0(t.deps[e],t);t.deps.length=t._depsLength}}function v0(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let es=!0,Fd=0;const E0=[];function ds(){E0.push(es),es=!1}function ps(){const t=E0.pop();es=t===void 0?!0:t}function Np(){Fd++}function kp(){for(Fd--;!Fd&&Ud.length;)Ud.shift()()}function w0(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&v0(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Ud=[];function I0(t,e,n){Np();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&Ud.push(r.scheduler)))}kp()}const T0=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Yl=new WeakMap,Js=Symbol(""),Bd=Symbol("");function jn(t,e,n){if(es&&Xs){let r=Yl.get(t);r||Yl.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=T0(()=>r.delete(n))),w0(Xs,i)}}function fi(t,e,n,r,i,o){const u=Yl.get(t);if(!u)return;let h=[];if(e==="clear")h=[...u.values()];else if(n==="length"&&Pe(t)){const f=Number(r);u.forEach((p,m)=>{(m==="length"||!lo(m)&&m>=f)&&h.push(p)})}else switch(n!==void 0&&h.push(u.get(n)),e){case"add":Pe(t)?xp(n)&&h.push(u.get("length")):(h.push(u.get(Js)),Qo(t)&&h.push(u.get(Bd)));break;case"delete":Pe(t)||(h.push(u.get(Js)),Qo(t)&&h.push(u.get(Bd)));break;case"set":Qo(t)&&h.push(u.get(Js));break}Np();for(const f of h)f&&I0(f,4);kp()}function MC(t,e){const n=Yl.get(t);return n&&n.get(e)}const VC=bp("__proto__,__v_isRef,__isVue"),A0=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(lo)),$_=FC();function FC(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=rt(this);for(let o=0,u=this.length;o<u;o++)jn(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(rt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){ds(),Np();const r=rt(this)[e].apply(this,n);return kp(),ps(),r}}),t}function UC(t){lo(t)||(t=String(t));const e=rt(this);return jn(e,"has",t),e.hasOwnProperty(t)}class R0{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?JC:P0:o?C0:b0).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const u=Pe(e);if(!i){if(u&&nt($_,n))return Reflect.get($_,n,r);if(n==="hasOwnProperty")return UC}const h=Reflect.get(e,n,r);return(lo(n)?A0.has(n):VC(n))||(i||jn(e,"get",n),o)?h:Bt(h)?u&&xp(n)?h:h.value:Rt(h)?i?O0(h):da(h):h}}class S0 extends R0{constructor(e=!1){super(!1,e)}set(e,n,r,i){let o=e[n];if(!this._isShallow){const f=Su(o);if(!Xl(r)&&!Su(r)&&(o=rt(o),r=rt(r)),!Pe(e)&&Bt(o)&&!Bt(r))return f?!1:(o.value=r,!0)}const u=Pe(e)&&xp(n)?Number(n)<e.length:nt(e,n),h=Reflect.set(e,n,r,i);return e===rt(i)&&(u?as(r,o)&&fi(e,"set",n,r):fi(e,"add",n,r)),h}deleteProperty(e,n){const r=nt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&fi(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!lo(n)||!A0.has(n))&&jn(e,"has",n),r}ownKeys(e){return jn(e,"iterate",Pe(e)?"length":Js),Reflect.ownKeys(e)}}class BC extends R0{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const $C=new S0,qC=new BC,HC=new S0(!0);const Lp=t=>t,Ih=t=>Reflect.getPrototypeOf(t);function Il(t,e,n=!1,r=!1){t=t.__v_raw;const i=rt(t),o=rt(e);n||(as(e,o)&&jn(i,"get",e),jn(i,"get",o));const{has:u}=Ih(i),h=r?Lp:n?Fp:bu;if(u.call(i,e))return h(t.get(e));if(u.call(i,o))return h(t.get(o));t!==i&&t.get(e)}function Tl(t,e=!1){const n=this.__v_raw,r=rt(n),i=rt(t);return e||(as(t,i)&&jn(r,"has",t),jn(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Al(t,e=!1){return t=t.__v_raw,!e&&jn(rt(t),"iterate",Js),Reflect.get(t,"size",t)}function q_(t){t=rt(t);const e=rt(this);return Ih(e).has.call(e,t)||(e.add(t),fi(e,"add",t,t)),this}function H_(t,e){e=rt(e);const n=rt(this),{has:r,get:i}=Ih(n);let o=r.call(n,t);o||(t=rt(t),o=r.call(n,t));const u=i.call(n,t);return n.set(t,e),o?as(e,u)&&fi(n,"set",t,e):fi(n,"add",t,e),this}function W_(t){const e=rt(this),{has:n,get:r}=Ih(e);let i=n.call(e,t);i||(t=rt(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&fi(e,"delete",t,void 0),o}function j_(){const t=rt(this),e=t.size!==0,n=t.clear();return e&&fi(t,"clear",void 0,void 0),n}function Rl(t,e){return function(r,i){const o=this,u=o.__v_raw,h=rt(u),f=e?Lp:t?Fp:bu;return!t&&jn(h,"iterate",Js),u.forEach((p,m)=>r.call(i,f(p),f(m),o))}}function Sl(t,e,n){return function(...r){const i=this.__v_raw,o=rt(i),u=Qo(o),h=t==="entries"||t===Symbol.iterator&&u,f=t==="keys"&&u,p=i[t](...r),m=n?Lp:e?Fp:bu;return!e&&jn(o,"iterate",f?Bd:Js),{next(){const{value:v,done:E}=p.next();return E?{value:v,done:E}:{value:h?[m(v[0]),m(v[1])]:m(v),done:E}},[Symbol.iterator](){return this}}}}function Fi(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function WC(){const t={get(o){return Il(this,o)},get size(){return Al(this)},has:Tl,add:q_,set:H_,delete:W_,clear:j_,forEach:Rl(!1,!1)},e={get(o){return Il(this,o,!1,!0)},get size(){return Al(this)},has:Tl,add:q_,set:H_,delete:W_,clear:j_,forEach:Rl(!1,!0)},n={get(o){return Il(this,o,!0)},get size(){return Al(this,!0)},has(o){return Tl.call(this,o,!0)},add:Fi("add"),set:Fi("set"),delete:Fi("delete"),clear:Fi("clear"),forEach:Rl(!0,!1)},r={get(o){return Il(this,o,!0,!0)},get size(){return Al(this,!0)},has(o){return Tl.call(this,o,!0)},add:Fi("add"),set:Fi("set"),delete:Fi("delete"),clear:Fi("clear"),forEach:Rl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Sl(o,!1,!1),n[o]=Sl(o,!0,!1),e[o]=Sl(o,!1,!0),r[o]=Sl(o,!0,!0)}),[t,n,e,r]}const[jC,KC,GC,zC]=WC();function Mp(t,e){const n=e?t?zC:GC:t?KC:jC;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(nt(n,i)&&i in r?n:r,i,o)}const QC={get:Mp(!1,!1)},YC={get:Mp(!1,!0)},XC={get:Mp(!0,!1)};const b0=new WeakMap,C0=new WeakMap,P0=new WeakMap,JC=new WeakMap;function ZC(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function eP(t){return t.__v_skip||!Object.isExtensible(t)?0:ZC(TC(t))}function da(t){return Su(t)?t:Vp(t,!1,$C,QC,b0)}function x0(t){return Vp(t,!1,HC,YC,C0)}function O0(t){return Vp(t,!0,qC,XC,P0)}function Vp(t,e,n,r,i){if(!Rt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const u=eP(t);if(u===0)return t;const h=new Proxy(t,u===2?r:n);return i.set(t,h),h}function Zs(t){return Su(t)?Zs(t.__v_raw):!!(t&&t.__v_isReactive)}function Su(t){return!!(t&&t.__v_isReadonly)}function Xl(t){return!!(t&&t.__v_isShallow)}function D0(t){return t?!!t.__v_raw:!1}function rt(t){const e=t&&t.__v_raw;return e?rt(e):t}function Th(t){return Object.isExtensible(t)&&f0(t,"__v_skip",!0),t}const bu=t=>Rt(t)?da(t):t,Fp=t=>Rt(t)?O0(t):t;class N0{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Dp(()=>e(this._value),()=>Vl(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=rt(this);return(!e._cacheable||e.effect.dirty)&&as(e._value,e._value=e.effect.run())&&Vl(e,4),k0(e),e.effect._dirtyLevel>=2&&Vl(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function tP(t,e,n=!1){let r,i;const o=Fe(t);return o?(r=t,i=dr):(r=t.get,i=t.set),new N0(r,i,o||!i,n)}function k0(t){var e;es&&Xs&&(t=rt(t),w0(Xs,(e=t.dep)!=null?e:t.dep=T0(()=>t.dep=void 0,t instanceof N0?t:void 0)))}function Vl(t,e=4,n){t=rt(t);const r=t.dep;r&&I0(r,e)}function Bt(t){return!!(t&&t.__v_isRef===!0)}function on(t){return L0(t,!1)}function nP(t){return L0(t,!0)}function L0(t,e){return Bt(t)?t:new rP(t,e)}class rP{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:rt(e),this._value=n?e:bu(e)}get value(){return k0(this),this._value}set value(e){const n=this.__v_isShallow||Xl(e)||Su(e);e=n?e:rt(e),as(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:bu(e),Vl(this,4))}}function an(t){return Bt(t)?t.value:t}const iP={get:(t,e,n)=>an(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Bt(i)&&!Bt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function M0(t){return Zs(t)?t:new Proxy(t,iP)}function V0(t){const e=Pe(t)?new Array(t.length):{};for(const n in t)e[n]=oP(t,n);return e}class sP{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return MC(rt(this._object),this._key)}}function oP(t,e,n){const r=t[e];return Bt(r)?r:new sP(t,e,n)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ts(t,e,n,r){try{return r?t(...r):t()}catch(i){Ah(i,e,n)}}function gr(t,e,n,r){if(Fe(t)){const i=ts(t,e,n,r);return i&&c0(i)&&i.catch(o=>{Ah(o,e,n)}),i}if(Pe(t)){const i=[];for(let o=0;o<t.length;o++)i.push(gr(t[o],e,n,r));return i}}function Ah(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const u=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const p=o.ec;if(p){for(let m=0;m<p.length;m++)if(p[m](t,u,h)===!1)return}o=o.parent}const f=e.appContext.config.errorHandler;if(f){ds(),ts(f,null,10,[t,u,h]),ps();return}}aP(t,n,i,r)}function aP(t,e,n,r=!0){console.error(t)}let Cu=!1,$d=!1;const Cn=[];let Fr=0;const Yo=[];let Wi=null,Ks=0;const F0=Promise.resolve();let Up=null;function Bp(t){const e=Up||F0;return t?e.then(this?t.bind(this):t):e}function uP(t){let e=Fr+1,n=Cn.length;for(;e<n;){const r=e+n>>>1,i=Cn[r],o=Pu(i);o<t||o===t&&i.pre?e=r+1:n=r}return e}function $p(t){(!Cn.length||!Cn.includes(t,Cu&&t.allowRecurse?Fr+1:Fr))&&(t.id==null?Cn.push(t):Cn.splice(uP(t.id),0,t),U0())}function U0(){!Cu&&!$d&&($d=!0,Up=F0.then($0))}function cP(t){const e=Cn.indexOf(t);e>Fr&&Cn.splice(e,1)}function lP(t){Pe(t)?Yo.push(...t):(!Wi||!Wi.includes(t,t.allowRecurse?Ks+1:Ks))&&Yo.push(t),U0()}function K_(t,e,n=Cu?Fr+1:0){for(;n<Cn.length;n++){const r=Cn[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Cn.splice(n,1),n--,r()}}}function B0(t){if(Yo.length){const e=[...new Set(Yo)].sort((n,r)=>Pu(n)-Pu(r));if(Yo.length=0,Wi){Wi.push(...e);return}for(Wi=e,Ks=0;Ks<Wi.length;Ks++)Wi[Ks]();Wi=null,Ks=0}}const Pu=t=>t.id==null?1/0:t.id,hP=(t,e)=>{const n=Pu(t)-Pu(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function $0(t){$d=!1,Cu=!0,Cn.sort(hP);try{for(Fr=0;Fr<Cn.length;Fr++){const e=Cn[Fr];e&&e.active!==!1&&ts(e,null,14)}}finally{Fr=0,Cn.length=0,B0(),Cu=!1,Up=null,(Cn.length||Yo.length)&&$0()}}function fP(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Tt;let i=n;const o=e.startsWith("update:"),u=o&&e.slice(7);if(u&&u in r){const m=`${u==="modelValue"?"model":u}Modifiers`,{number:v,trim:E}=r[m]||Tt;E&&(i=n.map(C=>Lt(C)?C.trim():C)),v&&(i=n.map(Vd))}let h,f=r[h=hd(e)]||r[h=hd(Wr(e))];!f&&o&&(f=r[h=hd(ho(e))]),f&&gr(f,t,6,i);const p=r[h+"Once"];if(p){if(!t.emitted)t.emitted={};else if(t.emitted[h])return;t.emitted[h]=!0,gr(p,t,6,i)}}function q0(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let u={},h=!1;if(!Fe(t)){const f=p=>{const m=q0(p,e,!0);m&&(h=!0,Gt(u,m))};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!o&&!h?(Rt(t)&&r.set(t,null),null):(Pe(o)?o.forEach(f=>u[f]=null):Gt(u,o),Rt(t)&&r.set(t,u),u)}function Rh(t,e){return!t||!yh(e)?!1:(e=e.slice(2).replace(/Once$/,""),nt(t,e[0].toLowerCase()+e.slice(1))||nt(t,ho(e))||nt(t,e))}let Kt=null,Sh=null;function Jl(t){const e=Kt;return Kt=t,Sh=t&&t.type.__scopeId||null,e}function yi(t){Sh=t}function vi(){Sh=null}function Qe(t,e=Kt,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&oy(-1);const o=Jl(e);let u;try{u=t(...i)}finally{Jl(o),r._d&&oy(1)}return u};return r._n=!0,r._c=!0,r._d=!0,r}function dd(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:u,attrs:h,emit:f,render:p,renderCache:m,props:v,data:E,setupState:C,ctx:V,inheritAttrs:q}=t,$=Jl(t);let z,te;try{if(n.shapeFlag&4){const pe=i||r,ge=pe;z=Vr(p.call(ge,pe,m,v,C,E,V)),te=h}else{const pe=e;z=Vr(pe.length>1?pe(v,{attrs:h,slots:u,emit:f}):pe(v,null)),te=e.props?h:dP(h)}}catch(pe){_u.length=0,Ah(pe,t,1),z=De(Xn)}let ne=z;if(te&&q!==!1){const pe=Object.keys(te),{shapeFlag:ge}=ne;pe.length&&ge&7&&(o&&pe.some(Cp)&&(te=pP(te,o)),ne=cs(ne,te,!1,!0))}return n.dirs&&(ne=cs(ne,null,!1,!0),ne.dirs=ne.dirs?ne.dirs.concat(n.dirs):n.dirs),n.transition&&(ne.transition=n.transition),z=ne,Jl($),z}const dP=t=>{let e;for(const n in t)(n==="class"||n==="style"||yh(n))&&((e||(e={}))[n]=t[n]);return e},pP=(t,e)=>{const n={};for(const r in t)(!Cp(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function gP(t,e,n){const{props:r,children:i,component:o}=t,{props:u,children:h,patchFlag:f}=e,p=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?G_(r,u,p):!!u;if(f&8){const m=e.dynamicProps;for(let v=0;v<m.length;v++){const E=m[v];if(u[E]!==r[E]&&!Rh(p,E))return!0}}}else return(i||h)&&(!h||!h.$stable)?!0:r===u?!1:r?u?G_(r,u,p):!0:!!u;return!1}function G_(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!Rh(n,o))return!0}return!1}function mP({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const qp="components";function Ut(t,e){return W0(qp,t,!0,e)||t}const H0=Symbol.for("v-ndc");function _P(t){return Lt(t)?W0(qp,t,!1)||t:t||H0}function W0(t,e,n=!0,r=!1){const i=Kt||sn;if(i){const o=i.type;if(t===qp){const h=gx(o,!1);if(h&&(h===e||h===Wr(e)||h===wh(Wr(e))))return o}const u=z_(i[t]||o[t],e)||z_(i.appContext[t],e);return!u&&r?o:u}}function z_(t,e){return t&&(t[e]||t[Wr(e)]||t[wh(Wr(e))])}const yP=t=>t.__isSuspense;function vP(t,e){e&&e.pendingBranch?Pe(t)?e.effects.push(...t):e.effects.push(t):lP(t)}const EP=Symbol.for("v-scx"),wP=()=>Zn(EP),bl={};function eo(t,e,n){return j0(t,e,n)}function j0(t,e,{immediate:n,deep:r,flush:i,once:o,onTrack:u,onTrigger:h}=Tt){if(e&&o){const ue=e;e=(...N)=>{ue(...N),ge()}}const f=sn,p=ue=>r===!0?ue:zs(ue,r===!1?1:void 0);let m,v=!1,E=!1;if(Bt(t)?(m=()=>t.value,v=Xl(t)):Zs(t)?(m=()=>p(t),v=!0):Pe(t)?(E=!0,v=t.some(ue=>Zs(ue)||Xl(ue)),m=()=>t.map(ue=>{if(Bt(ue))return ue.value;if(Zs(ue))return p(ue);if(Fe(ue))return ts(ue,f,2)})):Fe(t)?e?m=()=>ts(t,f,2):m=()=>(C&&C(),gr(t,f,3,[V])):m=dr,e&&r){const ue=m;m=()=>zs(ue())}let C,V=ue=>{C=ne.onStop=()=>{ts(ue,f,4),C=ne.onStop=void 0}},q;if(Dh)if(V=dr,e?n&&gr(e,f,3,[m(),E?[]:void 0,V]):m(),i==="sync"){const ue=wP();q=ue.__watcherHandles||(ue.__watcherHandles=[])}else return dr;let $=E?new Array(t.length).fill(bl):bl;const z=()=>{if(!(!ne.active||!ne.dirty))if(e){const ue=ne.run();(r||v||(E?ue.some((N,A)=>as(N,$[A])):as(ue,$)))&&(C&&C(),gr(e,f,3,[ue,$===bl?void 0:E&&$[0]===bl?[]:$,V]),$=ue)}else ne.run()};z.allowRecurse=!!e;let te;i==="sync"?te=z:i==="post"?te=()=>$n(z,f&&f.suspense):(z.pre=!0,f&&(z.id=f.uid),te=()=>$p(z));const ne=new Dp(m,dr,te),pe=y0(),ge=()=>{ne.stop(),pe&&Pp(pe.effects,ne)};return e?n?z():$=ne.run():i==="post"?$n(ne.run.bind(ne),f&&f.suspense):ne.run(),q&&q.push(ge),ge}function IP(t,e,n){const r=this.proxy,i=Lt(t)?t.includes(".")?K0(r,t):()=>r[t]:t.bind(r,r);let o;Fe(e)?o=e:(o=e.handler,n=e);const u=Gu(this),h=j0(i,o.bind(r),n);return u(),h}function K0(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function zs(t,e=1/0,n){if(e<=0||!Rt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Bt(t))zs(t.value,e,n);else if(Pe(t))for(let r=0;r<t.length;r++)zs(t[r],e,n);else if(u0(t)||Qo(t))t.forEach(r=>{zs(r,e,n)});else if(h0(t))for(const r in t)zs(t[r],e,n);return t}function xu(t,e){if(Kt===null)return t;const n=Nh(Kt)||Kt.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,u,h,f=Tt]=e[i];o&&(Fe(o)&&(o={mounted:o,updated:o}),o.deep&&zs(u),r.push({dir:o,instance:n,value:u,oldValue:void 0,arg:h,modifiers:f}))}return t}function Bs(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let u=0;u<i.length;u++){const h=i[u];o&&(h.oldValue=o[u].value);let f=h.dir[r];f&&(ds(),gr(f,n,8,[t.el,h,t,e]),ps())}}const ji=Symbol("_leaveCb"),Cl=Symbol("_enterCb");function TP(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ph(()=>{t.isMounted=!0}),eE(()=>{t.isUnmounting=!0}),t}const fr=[Function,Array],G0={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:fr,onEnter:fr,onAfterEnter:fr,onEnterCancelled:fr,onBeforeLeave:fr,onLeave:fr,onAfterLeave:fr,onLeaveCancelled:fr,onBeforeAppear:fr,onAppear:fr,onAfterAppear:fr,onAppearCancelled:fr},AP={name:"BaseTransition",props:G0,setup(t,{slots:e}){const n=lx(),r=TP();return()=>{const i=e.default&&Q0(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const E of i)if(E.type!==Xn){o=E;break}}const u=rt(t),{mode:h}=u;if(r.isLeaving)return pd(o);const f=Q_(o);if(!f)return pd(o);const p=qd(f,u,r,n);Hd(f,p);const m=n.subTree,v=m&&Q_(m);if(v&&v.type!==Xn&&!Gs(f,v)){const E=qd(v,u,r,n);if(Hd(v,E),h==="out-in"&&f.type!==Xn)return r.isLeaving=!0,E.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},pd(o);h==="in-out"&&f.type!==Xn&&(E.delayLeave=(C,V,q)=>{const $=z0(r,v);$[String(v.key)]=v,C[ji]=()=>{V(),C[ji]=void 0,delete p.delayedLeave},p.delayedLeave=q})}return o}}},RP=AP;function z0(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function qd(t,e,n,r){const{appear:i,mode:o,persisted:u=!1,onBeforeEnter:h,onEnter:f,onAfterEnter:p,onEnterCancelled:m,onBeforeLeave:v,onLeave:E,onAfterLeave:C,onLeaveCancelled:V,onBeforeAppear:q,onAppear:$,onAfterAppear:z,onAppearCancelled:te}=e,ne=String(t.key),pe=z0(n,t),ge=(A,R)=>{A&&gr(A,r,9,R)},ue=(A,R)=>{const O=R[1];ge(A,R),Pe(A)?A.every(k=>k.length<=1)&&O():A.length<=1&&O()},N={mode:o,persisted:u,beforeEnter(A){let R=h;if(!n.isMounted)if(i)R=q||h;else return;A[ji]&&A[ji](!0);const O=pe[ne];O&&Gs(t,O)&&O.el[ji]&&O.el[ji](),ge(R,[A])},enter(A){let R=f,O=p,k=m;if(!n.isMounted)if(i)R=$||f,O=z||p,k=te||m;else return;let D=!1;const b=A[Cl]=ht=>{D||(D=!0,ht?ge(k,[A]):ge(O,[A]),N.delayedLeave&&N.delayedLeave(),A[Cl]=void 0)};R?ue(R,[A,b]):b()},leave(A,R){const O=String(t.key);if(A[Cl]&&A[Cl](!0),n.isUnmounting)return R();ge(v,[A]);let k=!1;const D=A[ji]=b=>{k||(k=!0,R(),b?ge(V,[A]):ge(C,[A]),A[ji]=void 0,pe[O]===t&&delete pe[O])};pe[O]=t,E?ue(E,[A,D]):D()},clone(A){return qd(A,e,n,r)}};return N}function pd(t){if(bh(t))return t=cs(t),t.children=null,t}function Q_(t){if(!bh(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Fe(n.default))return n.default()}}function Hd(t,e){t.shapeFlag&6&&t.component?Hd(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Q0(t,e=!1,n){let r=[],i=0;for(let o=0;o<t.length;o++){let u=t[o];const h=n==null?u.key:String(n)+String(u.key!=null?u.key:o);u.type===qn?(u.patchFlag&128&&i++,r=r.concat(Q0(u.children,e,h))):(e||u.type!==Xn)&&r.push(h!=null?cs(u,{key:h}):u)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Y0(t,e){return Fe(t)?Gt({name:t.name},e,{setup:t}):t}const pu=t=>!!t.type.__asyncLoader,bh=t=>t.type.__isKeepAlive;function X0(t,e){Z0(t,"a",e)}function J0(t,e){Z0(t,"da",e)}function Z0(t,e,n=sn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Ch(e,r,n),n){let i=n.parent;for(;i&&i.parent;)bh(i.parent.vnode)&&SP(r,e,n,i),i=i.parent}}function SP(t,e,n,r){const i=Ch(e,t,r,!0);xh(()=>{Pp(r[e],i)},n)}function Ch(t,e,n=sn,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...u)=>{if(n.isUnmounted)return;ds();const h=Gu(n),f=gr(e,n,t,u);return h(),ps(),f});return r?i.unshift(o):i.push(o),o}}const Ei=t=>(e,n=sn)=>(!Dh||t==="sp")&&Ch(t,(...r)=>e(...r),n),bP=Ei("bm"),Ph=Ei("m"),CP=Ei("bu"),PP=Ei("u"),eE=Ei("bum"),xh=Ei("um"),xP=Ei("sp"),OP=Ei("rtg"),DP=Ei("rtc");function NP(t,e=sn){Ch("ec",t,e)}function kP(t,e,n,r){let i;const o=n;if(Pe(t)||Lt(t)){i=new Array(t.length);for(let u=0,h=t.length;u<h;u++)i[u]=e(t[u],u,void 0,o)}else if(typeof t=="number"){i=new Array(t);for(let u=0;u<t;u++)i[u]=e(u+1,u,void 0,o)}else if(Rt(t))if(t[Symbol.iterator])i=Array.from(t,(u,h)=>e(u,h,void 0,o));else{const u=Object.keys(t);i=new Array(u.length);for(let h=0,f=u.length;h<f;h++){const p=u[h];i[h]=e(t[p],p,h,o)}}else i=[];return i}function us(t,e,n={},r,i){if(Kt.isCE||Kt.parent&&pu(Kt.parent)&&Kt.parent.isCE)return e!=="default"&&(n.name=e),De("slot",n,r&&r());let o=t[e];o&&o._c&&(o._d=!1),$e();const u=o&&tE(o(n)),h=un(qn,{key:n.key||u&&u.key||`_${e}`},u||(r?r():[]),u&&t._===1?64:-2);return o&&o._c&&(o._d=!0),h}function tE(t){return t.some(e=>eh(e)?!(e.type===Xn||e.type===qn&&!tE(e.children)):!0)?t:null}const Wd=t=>t?mE(t)?Nh(t)||t.proxy:Wd(t.parent):null,gu=Gt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Wd(t.parent),$root:t=>Wd(t.root),$emit:t=>t.emit,$options:t=>Hp(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,$p(t.update)}),$nextTick:t=>t.n||(t.n=Bp.bind(t.proxy)),$watch:t=>IP.bind(t)}),gd=(t,e)=>t!==Tt&&!t.__isScriptSetup&&nt(t,e),LP={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:u,type:h,appContext:f}=t;let p;if(e[0]!=="$"){const C=u[e];if(C!==void 0)switch(C){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(gd(r,e))return u[e]=1,r[e];if(i!==Tt&&nt(i,e))return u[e]=2,i[e];if((p=t.propsOptions[0])&&nt(p,e))return u[e]=3,o[e];if(n!==Tt&&nt(n,e))return u[e]=4,n[e];jd&&(u[e]=0)}}const m=gu[e];let v,E;if(m)return e==="$attrs"&&jn(t.attrs,"get",""),m(t);if((v=h.__cssModules)&&(v=v[e]))return v;if(n!==Tt&&nt(n,e))return u[e]=4,n[e];if(E=f.config.globalProperties,nt(E,e))return E[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return gd(i,e)?(i[e]=n,!0):r!==Tt&&nt(r,e)?(r[e]=n,!0):nt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},u){let h;return!!n[u]||t!==Tt&&nt(t,u)||gd(e,u)||(h=o[0])&&nt(h,u)||nt(r,u)||nt(gu,u)||nt(i.config.globalProperties,u)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:nt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Y_(t){return Pe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let jd=!0;function MP(t){const e=Hp(t),n=t.proxy,r=t.ctx;jd=!1,e.beforeCreate&&X_(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:u,watch:h,provide:f,inject:p,created:m,beforeMount:v,mounted:E,beforeUpdate:C,updated:V,activated:q,deactivated:$,beforeDestroy:z,beforeUnmount:te,destroyed:ne,unmounted:pe,render:ge,renderTracked:ue,renderTriggered:N,errorCaptured:A,serverPrefetch:R,expose:O,inheritAttrs:k,components:D,directives:b,filters:ht}=e;if(p&&VP(p,r,null),u)for(const Be in u){const ke=u[Be];Fe(ke)&&(r[Be]=ke.bind(n))}if(i){const Be=i.call(n,n);Rt(Be)&&(t.data=da(Be))}if(jd=!0,o)for(const Be in o){const ke=o[Be],xn=Fe(ke)?ke.bind(n,n):Fe(ke.get)?ke.get.bind(n,n):dr,yn=!Fe(ke)&&Fe(ke.set)?ke.set.bind(n):dr,Pt=Wt({get:xn,set:yn});Object.defineProperty(r,Be,{enumerable:!0,configurable:!0,get:()=>Pt.value,set:Et=>Pt.value=Et})}if(h)for(const Be in h)nE(h[Be],r,n,Be);if(f){const Be=Fe(f)?f.call(n):f;Reflect.ownKeys(Be).forEach(ke=>{Fl(ke,Be[ke])})}m&&X_(m,t,"c");function Ge(Be,ke){Pe(ke)?ke.forEach(xn=>Be(xn.bind(n))):ke&&Be(ke.bind(n))}if(Ge(bP,v),Ge(Ph,E),Ge(CP,C),Ge(PP,V),Ge(X0,q),Ge(J0,$),Ge(NP,A),Ge(DP,ue),Ge(OP,N),Ge(eE,te),Ge(xh,pe),Ge(xP,R),Pe(O))if(O.length){const Be=t.exposed||(t.exposed={});O.forEach(ke=>{Object.defineProperty(Be,ke,{get:()=>n[ke],set:xn=>n[ke]=xn})})}else t.exposed||(t.exposed={});ge&&t.render===dr&&(t.render=ge),k!=null&&(t.inheritAttrs=k),D&&(t.components=D),b&&(t.directives=b)}function VP(t,e,n=dr){Pe(t)&&(t=Kd(t));for(const r in t){const i=t[r];let o;Rt(i)?"default"in i?o=Zn(i.from||r,i.default,!0):o=Zn(i.from||r):o=Zn(i),Bt(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:u=>o.value=u}):e[r]=o}}function X_(t,e,n){gr(Pe(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function nE(t,e,n,r){const i=r.includes(".")?K0(n,r):()=>n[r];if(Lt(t)){const o=e[t];Fe(o)&&eo(i,o)}else if(Fe(t))eo(i,t.bind(n));else if(Rt(t))if(Pe(t))t.forEach(o=>nE(o,e,n,r));else{const o=Fe(t.handler)?t.handler.bind(n):e[t.handler];Fe(o)&&eo(i,o,t)}}function Hp(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:u}}=t.appContext,h=o.get(e);let f;return h?f=h:!i.length&&!n&&!r?f=e:(f={},i.length&&i.forEach(p=>Zl(f,p,u,!0)),Zl(f,e,u)),Rt(e)&&o.set(e,f),f}function Zl(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&Zl(t,o,n,!0),i&&i.forEach(u=>Zl(t,u,n,!0));for(const u in e)if(!(r&&u==="expose")){const h=FP[u]||n&&n[u];t[u]=h?h(t[u],e[u]):e[u]}return t}const FP={data:J_,props:Z_,emits:Z_,methods:ou,computed:ou,beforeCreate:Ln,created:Ln,beforeMount:Ln,mounted:Ln,beforeUpdate:Ln,updated:Ln,beforeDestroy:Ln,beforeUnmount:Ln,destroyed:Ln,unmounted:Ln,activated:Ln,deactivated:Ln,errorCaptured:Ln,serverPrefetch:Ln,components:ou,directives:ou,watch:BP,provide:J_,inject:UP};function J_(t,e){return e?t?function(){return Gt(Fe(t)?t.call(this,this):t,Fe(e)?e.call(this,this):e)}:e:t}function UP(t,e){return ou(Kd(t),Kd(e))}function Kd(t){if(Pe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ln(t,e){return t?[...new Set([].concat(t,e))]:e}function ou(t,e){return t?Gt(Object.create(null),t,e):e}function Z_(t,e){return t?Pe(t)&&Pe(e)?[...new Set([...t,...e])]:Gt(Object.create(null),Y_(t),Y_(e??{})):e}function BP(t,e){if(!t)return e;if(!e)return t;const n=Gt(Object.create(null),t);for(const r in e)n[r]=Ln(t[r],e[r]);return n}function rE(){return{app:null,config:{isNativeTag:wC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $P=0;function qP(t,e){return function(r,i=null){Fe(r)||(r=Gt({},r)),i!=null&&!Rt(i)&&(i=null);const o=rE(),u=new WeakSet;let h=!1;const f=o.app={_uid:$P++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:_x,get config(){return o.config},set config(p){},use(p,...m){return u.has(p)||(p&&Fe(p.install)?(u.add(p),p.install(f,...m)):Fe(p)&&(u.add(p),p(f,...m))),f},mixin(p){return o.mixins.includes(p)||o.mixins.push(p),f},component(p,m){return m?(o.components[p]=m,f):o.components[p]},directive(p,m){return m?(o.directives[p]=m,f):o.directives[p]},mount(p,m,v){if(!h){const E=De(r,i);return E.appContext=o,v===!0?v="svg":v===!1&&(v=void 0),m&&e?e(E,p):t(E,p,v),h=!0,f._container=p,p.__vue_app__=f,Nh(E.component)||E.component.proxy}},unmount(){h&&(t(null,f._container),delete f._container.__vue_app__)},provide(p,m){return o.provides[p]=m,f},runWithContext(p){const m=Xo;Xo=f;try{return p()}finally{Xo=m}}};return f}}let Xo=null;function Fl(t,e){if(sn){let n=sn.provides;const r=sn.parent&&sn.parent.provides;r===n&&(n=sn.provides=Object.create(r)),n[t]=e}}function Zn(t,e,n=!1){const r=sn||Kt;if(r||Xo){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Xo._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Fe(e)?e.call(r&&r.proxy):e}}function HP(){return!!(sn||Kt||Xo)}const iE={},sE=()=>Object.create(iE),oE=t=>Object.getPrototypeOf(t)===iE;function WP(t,e,n,r=!1){const i={},o=sE();t.propsDefaults=Object.create(null),aE(t,e,i,o);for(const u in t.propsOptions[0])u in i||(i[u]=void 0);n?t.props=r?i:x0(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function jP(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:u}}=t,h=rt(i),[f]=t.propsOptions;let p=!1;if((r||u>0)&&!(u&16)){if(u&8){const m=t.vnode.dynamicProps;for(let v=0;v<m.length;v++){let E=m[v];if(Rh(t.emitsOptions,E))continue;const C=e[E];if(f)if(nt(o,E))C!==o[E]&&(o[E]=C,p=!0);else{const V=Wr(E);i[V]=Gd(f,h,V,C,t,!1)}else C!==o[E]&&(o[E]=C,p=!0)}}}else{aE(t,e,i,o)&&(p=!0);let m;for(const v in h)(!e||!nt(e,v)&&((m=ho(v))===v||!nt(e,m)))&&(f?n&&(n[v]!==void 0||n[m]!==void 0)&&(i[v]=Gd(f,h,v,void 0,t,!0)):delete i[v]);if(o!==h)for(const v in o)(!e||!nt(e,v))&&(delete o[v],p=!0)}p&&fi(t.attrs,"set","")}function aE(t,e,n,r){const[i,o]=t.propsOptions;let u=!1,h;if(e)for(let f in e){if(du(f))continue;const p=e[f];let m;i&&nt(i,m=Wr(f))?!o||!o.includes(m)?n[m]=p:(h||(h={}))[m]=p:Rh(t.emitsOptions,f)||(!(f in r)||p!==r[f])&&(r[f]=p,u=!0)}if(o){const f=rt(n),p=h||Tt;for(let m=0;m<o.length;m++){const v=o[m];n[v]=Gd(i,f,v,p[v],t,!nt(p,v))}}return u}function Gd(t,e,n,r,i,o){const u=t[n];if(u!=null){const h=nt(u,"default");if(h&&r===void 0){const f=u.default;if(u.type!==Function&&!u.skipFactory&&Fe(f)){const{propsDefaults:p}=i;if(n in p)r=p[n];else{const m=Gu(i);r=p[n]=f.call(null,e),m()}}else r=f}u[0]&&(o&&!h?r=!1:u[1]&&(r===""||r===ho(n))&&(r=!0))}return r}function uE(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,u={},h=[];let f=!1;if(!Fe(t)){const m=v=>{f=!0;const[E,C]=uE(v,e,!0);Gt(u,E),C&&h.push(...C)};!n&&e.mixins.length&&e.mixins.forEach(m),t.extends&&m(t.extends),t.mixins&&t.mixins.forEach(m)}if(!o&&!f)return Rt(t)&&r.set(t,zo),zo;if(Pe(o))for(let m=0;m<o.length;m++){const v=Wr(o[m]);ey(v)&&(u[v]=Tt)}else if(o)for(const m in o){const v=Wr(m);if(ey(v)){const E=o[m],C=u[v]=Pe(E)||Fe(E)?{type:E}:Gt({},E);if(C){const V=ry(Boolean,C.type),q=ry(String,C.type);C[0]=V>-1,C[1]=q<0||V<q,(V>-1||nt(C,"default"))&&h.push(v)}}}const p=[u,h];return Rt(t)&&r.set(t,p),p}function ey(t){return t[0]!=="$"&&!du(t)}function ty(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function ny(t,e){return ty(t)===ty(e)}function ry(t,e){return Pe(e)?e.findIndex(n=>ny(n,t)):Fe(e)&&ny(e,t)?0:-1}const cE=t=>t[0]==="_"||t==="$stable",Wp=t=>Pe(t)?t.map(Vr):[Vr(t)],KP=(t,e,n)=>{if(e._n)return e;const r=Qe((...i)=>Wp(e(...i)),n);return r._c=!1,r},lE=(t,e,n)=>{const r=t._ctx;for(const i in t){if(cE(i))continue;const o=t[i];if(Fe(o))e[i]=KP(i,o,r);else if(o!=null){const u=Wp(o);e[i]=()=>u}}},hE=(t,e)=>{const n=Wp(e);t.slots.default=()=>n},GP=(t,e)=>{const n=t.slots=sE();if(t.vnode.shapeFlag&32){const r=e._;r?(Gt(n,e),f0(n,"_",r,!0)):lE(e,n)}else e&&hE(t,e)},zP=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,u=Tt;if(r.shapeFlag&32){const h=e._;h?n&&h===1?o=!1:(Gt(i,e),!n&&h===1&&delete i._):(o=!e.$stable,lE(e,i)),u=e}else e&&(hE(t,e),u={default:1});if(o)for(const h in i)!cE(h)&&u[h]==null&&delete i[h]};function zd(t,e,n,r,i=!1){if(Pe(t)){t.forEach((E,C)=>zd(E,e&&(Pe(e)?e[C]:e),n,r,i));return}if(pu(r)&&!i)return;const o=r.shapeFlag&4?Nh(r.component)||r.component.proxy:r.el,u=i?null:o,{i:h,r:f}=t,p=e&&e.r,m=h.refs===Tt?h.refs={}:h.refs,v=h.setupState;if(p!=null&&p!==f&&(Lt(p)?(m[p]=null,nt(v,p)&&(v[p]=null)):Bt(p)&&(p.value=null)),Fe(f))ts(f,h,12,[u,m]);else{const E=Lt(f),C=Bt(f);if(E||C){const V=()=>{if(t.f){const q=E?nt(v,f)?v[f]:m[f]:f.value;i?Pe(q)&&Pp(q,o):Pe(q)?q.includes(o)||q.push(o):E?(m[f]=[o],nt(v,f)&&(v[f]=m[f])):(f.value=[o],t.k&&(m[t.k]=f.value))}else E?(m[f]=u,nt(v,f)&&(v[f]=u)):C&&(f.value=u,t.k&&(m[t.k]=u))};u?(V.id=-1,$n(V,n)):V()}}}const $n=vP;function QP(t){return YP(t)}function YP(t,e){const n=d0();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:u,createText:h,createComment:f,setText:p,setElementText:m,parentNode:v,nextSibling:E,setScopeId:C=dr,insertStaticContent:V}=t,q=(S,x,B,X=null,j=null,oe=null,le=void 0,ie=null,se=!!x.dynamicChildren)=>{if(S===x)return;S&&!Gs(S,x)&&(X=G(S),Et(S,j,oe,!0),S=null),x.patchFlag===-2&&(se=!1,x.dynamicChildren=null);const{type:ee,ref:he,shapeFlag:Ae}=x;switch(ee){case Oh:$(S,x,B,X);break;case Xn:z(S,x,B,X);break;case _d:S==null&&te(x,B,X,le);break;case qn:D(S,x,B,X,j,oe,le,ie,se);break;default:Ae&1?ge(S,x,B,X,j,oe,le,ie,se):Ae&6?b(S,x,B,X,j,oe,le,ie,se):(Ae&64||Ae&128)&&ee.process(S,x,B,X,j,oe,le,ie,se,_e)}he!=null&&j&&zd(he,S&&S.ref,oe,x||S,!x)},$=(S,x,B,X)=>{if(S==null)r(x.el=h(x.children),B,X);else{const j=x.el=S.el;x.children!==S.children&&p(j,x.children)}},z=(S,x,B,X)=>{S==null?r(x.el=f(x.children||""),B,X):x.el=S.el},te=(S,x,B,X)=>{[S.el,S.anchor]=V(S.children,x,B,X,S.el,S.anchor)},ne=({el:S,anchor:x},B,X)=>{let j;for(;S&&S!==x;)j=E(S),r(S,B,X),S=j;r(x,B,X)},pe=({el:S,anchor:x})=>{let B;for(;S&&S!==x;)B=E(S),i(S),S=B;i(x)},ge=(S,x,B,X,j,oe,le,ie,se)=>{x.type==="svg"?le="svg":x.type==="math"&&(le="mathml"),S==null?ue(x,B,X,j,oe,le,ie,se):R(S,x,j,oe,le,ie,se)},ue=(S,x,B,X,j,oe,le,ie)=>{let se,ee;const{props:he,shapeFlag:Ae,transition:ve,dirs:Ee}=S;if(se=S.el=u(S.type,oe,he&&he.is,he),Ae&8?m(se,S.children):Ae&16&&A(S.children,se,null,X,j,md(S,oe),le,ie),Ee&&Bs(S,null,X,"created"),N(se,S,S.scopeId,le,X),he){for(const He in he)He!=="value"&&!du(He)&&o(se,He,null,he[He],oe,S.children,X,j,xt);"value"in he&&o(se,"value",null,he.value,oe),(ee=he.onVnodeBeforeMount)&&Mr(ee,X,S)}Ee&&Bs(S,null,X,"beforeMount");const Te=XP(j,ve);Te&&ve.beforeEnter(se),r(se,x,B),((ee=he&&he.onVnodeMounted)||Te||Ee)&&$n(()=>{ee&&Mr(ee,X,S),Te&&ve.enter(se),Ee&&Bs(S,null,X,"mounted")},j)},N=(S,x,B,X,j)=>{if(B&&C(S,B),X)for(let oe=0;oe<X.length;oe++)C(S,X[oe]);if(j){let oe=j.subTree;if(x===oe){const le=j.vnode;N(S,le,le.scopeId,le.slotScopeIds,j.parent)}}},A=(S,x,B,X,j,oe,le,ie,se=0)=>{for(let ee=se;ee<S.length;ee++){const he=S[ee]=ie?Ki(S[ee]):Vr(S[ee]);q(null,he,x,B,X,j,oe,le,ie)}},R=(S,x,B,X,j,oe,le)=>{const ie=x.el=S.el;let{patchFlag:se,dynamicChildren:ee,dirs:he}=x;se|=S.patchFlag&16;const Ae=S.props||Tt,ve=x.props||Tt;let Ee;if(B&&$s(B,!1),(Ee=ve.onVnodeBeforeUpdate)&&Mr(Ee,B,x,S),he&&Bs(x,S,B,"beforeUpdate"),B&&$s(B,!0),ee?O(S.dynamicChildren,ee,ie,B,X,md(x,j),oe):le||ke(S,x,ie,null,B,X,md(x,j),oe,!1),se>0){if(se&16)k(ie,x,Ae,ve,B,X,j);else if(se&2&&Ae.class!==ve.class&&o(ie,"class",null,ve.class,j),se&4&&o(ie,"style",Ae.style,ve.style,j),se&8){const Te=x.dynamicProps;for(let He=0;He<Te.length;He++){const ot=Te[He],It=Ae[ot],ln=ve[ot];(ln!==It||ot==="value")&&o(ie,ot,It,ln,j,S.children,B,X,xt)}}se&1&&S.children!==x.children&&m(ie,x.children)}else!le&&ee==null&&k(ie,x,Ae,ve,B,X,j);((Ee=ve.onVnodeUpdated)||he)&&$n(()=>{Ee&&Mr(Ee,B,x,S),he&&Bs(x,S,B,"updated")},X)},O=(S,x,B,X,j,oe,le)=>{for(let ie=0;ie<x.length;ie++){const se=S[ie],ee=x[ie],he=se.el&&(se.type===qn||!Gs(se,ee)||se.shapeFlag&70)?v(se.el):B;q(se,ee,he,null,X,j,oe,le,!0)}},k=(S,x,B,X,j,oe,le)=>{if(B!==X){if(B!==Tt)for(const ie in B)!du(ie)&&!(ie in X)&&o(S,ie,B[ie],null,le,x.children,j,oe,xt);for(const ie in X){if(du(ie))continue;const se=X[ie],ee=B[ie];se!==ee&&ie!=="value"&&o(S,ie,ee,se,le,x.children,j,oe,xt)}"value"in X&&o(S,"value",B.value,X.value,le)}},D=(S,x,B,X,j,oe,le,ie,se)=>{const ee=x.el=S?S.el:h(""),he=x.anchor=S?S.anchor:h("");let{patchFlag:Ae,dynamicChildren:ve,slotScopeIds:Ee}=x;Ee&&(ie=ie?ie.concat(Ee):Ee),S==null?(r(ee,B,X),r(he,B,X),A(x.children||[],B,he,j,oe,le,ie,se)):Ae>0&&Ae&64&&ve&&S.dynamicChildren?(O(S.dynamicChildren,ve,B,j,oe,le,ie),(x.key!=null||j&&x===j.subTree)&&jp(S,x,!0)):ke(S,x,B,he,j,oe,le,ie,se)},b=(S,x,B,X,j,oe,le,ie,se)=>{x.slotScopeIds=ie,S==null?x.shapeFlag&512?j.ctx.activate(x,B,X,le,se):ht(x,B,X,j,oe,le,se):Ct(S,x,se)},ht=(S,x,B,X,j,oe,le)=>{const ie=S.component=cx(S,X,j);if(bh(S)&&(ie.ctx.renderer=_e),hx(ie),ie.asyncDep){if(j&&j.registerDep(ie,Ge),!S.el){const se=ie.subTree=De(Xn);z(null,se,x,B)}}else Ge(ie,S,x,B,j,oe,le)},Ct=(S,x,B)=>{const X=x.component=S.component;if(gP(S,x,B))if(X.asyncDep&&!X.asyncResolved){Be(X,x,B);return}else X.next=x,cP(X.update),X.effect.dirty=!0,X.update();else x.el=S.el,X.vnode=x},Ge=(S,x,B,X,j,oe,le)=>{const ie=()=>{if(S.isMounted){let{next:he,bu:Ae,u:ve,parent:Ee,vnode:Te}=S;{const vn=fE(S);if(vn){he&&(he.el=Te.el,Be(S,he,le)),vn.asyncDep.then(()=>{S.isUnmounted||ie()});return}}let He=he,ot;$s(S,!1),he?(he.el=Te.el,Be(S,he,le)):he=Te,Ae&&Ml(Ae),(ot=he.props&&he.props.onVnodeBeforeUpdate)&&Mr(ot,Ee,he,Te),$s(S,!0);const It=dd(S),ln=S.subTree;S.subTree=It,q(ln,It,v(ln.el),G(ln),S,j,oe),he.el=It.el,He===null&&mP(S,It.el),ve&&$n(ve,j),(ot=he.props&&he.props.onVnodeUpdated)&&$n(()=>Mr(ot,Ee,he,Te),j)}else{let he;const{el:Ae,props:ve}=x,{bm:Ee,m:Te,parent:He}=S,ot=pu(x);if($s(S,!1),Ee&&Ml(Ee),!ot&&(he=ve&&ve.onVnodeBeforeMount)&&Mr(he,He,x),$s(S,!0),Ae&&it){const It=()=>{S.subTree=dd(S),it(Ae,S.subTree,S,j,null)};ot?x.type.__asyncLoader().then(()=>!S.isUnmounted&&It()):It()}else{const It=S.subTree=dd(S);q(null,It,B,X,S,j,oe),x.el=It.el}if(Te&&$n(Te,j),!ot&&(he=ve&&ve.onVnodeMounted)){const It=x;$n(()=>Mr(he,He,It),j)}(x.shapeFlag&256||He&&pu(He.vnode)&&He.vnode.shapeFlag&256)&&S.a&&$n(S.a,j),S.isMounted=!0,x=B=X=null}},se=S.effect=new Dp(ie,dr,()=>$p(ee),S.scope),ee=S.update=()=>{se.dirty&&se.run()};ee.id=S.uid,$s(S,!0),ee()},Be=(S,x,B)=>{x.component=S;const X=S.vnode.props;S.vnode=x,S.next=null,jP(S,x.props,X,B),zP(S,x.children,B),ds(),K_(S),ps()},ke=(S,x,B,X,j,oe,le,ie,se=!1)=>{const ee=S&&S.children,he=S?S.shapeFlag:0,Ae=x.children,{patchFlag:ve,shapeFlag:Ee}=x;if(ve>0){if(ve&128){yn(ee,Ae,B,X,j,oe,le,ie,se);return}else if(ve&256){xn(ee,Ae,B,X,j,oe,le,ie,se);return}}Ee&8?(he&16&&xt(ee,j,oe),Ae!==ee&&m(B,Ae)):he&16?Ee&16?yn(ee,Ae,B,X,j,oe,le,ie,se):xt(ee,j,oe,!0):(he&8&&m(B,""),Ee&16&&A(Ae,B,X,j,oe,le,ie,se))},xn=(S,x,B,X,j,oe,le,ie,se)=>{S=S||zo,x=x||zo;const ee=S.length,he=x.length,Ae=Math.min(ee,he);let ve;for(ve=0;ve<Ae;ve++){const Ee=x[ve]=se?Ki(x[ve]):Vr(x[ve]);q(S[ve],Ee,B,null,j,oe,le,ie,se)}ee>he?xt(S,j,oe,!0,!1,Ae):A(x,B,X,j,oe,le,ie,se,Ae)},yn=(S,x,B,X,j,oe,le,ie,se)=>{let ee=0;const he=x.length;let Ae=S.length-1,ve=he-1;for(;ee<=Ae&&ee<=ve;){const Ee=S[ee],Te=x[ee]=se?Ki(x[ee]):Vr(x[ee]);if(Gs(Ee,Te))q(Ee,Te,B,null,j,oe,le,ie,se);else break;ee++}for(;ee<=Ae&&ee<=ve;){const Ee=S[Ae],Te=x[ve]=se?Ki(x[ve]):Vr(x[ve]);if(Gs(Ee,Te))q(Ee,Te,B,null,j,oe,le,ie,se);else break;Ae--,ve--}if(ee>Ae){if(ee<=ve){const Ee=ve+1,Te=Ee<he?x[Ee].el:X;for(;ee<=ve;)q(null,x[ee]=se?Ki(x[ee]):Vr(x[ee]),B,Te,j,oe,le,ie,se),ee++}}else if(ee>ve)for(;ee<=Ae;)Et(S[ee],j,oe,!0),ee++;else{const Ee=ee,Te=ee,He=new Map;for(ee=Te;ee<=ve;ee++){const zt=x[ee]=se?Ki(x[ee]):Vr(x[ee]);zt.key!=null&&He.set(zt.key,ee)}let ot,It=0;const ln=ve-Te+1;let vn=!1,Kr=0;const er=new Array(ln);for(ee=0;ee<ln;ee++)er[ee]=0;for(ee=Ee;ee<=Ae;ee++){const zt=S[ee];if(It>=ln){Et(zt,j,oe,!0);continue}let En;if(zt.key!=null)En=He.get(zt.key);else for(ot=Te;ot<=ve;ot++)if(er[ot-Te]===0&&Gs(zt,x[ot])){En=ot;break}En===void 0?Et(zt,j,oe,!0):(er[En-Te]=ee+1,En>=Kr?Kr=En:vn=!0,q(zt,x[En],B,null,j,oe,le,ie,se),It++)}const Pr=vn?JP(er):zo;for(ot=Pr.length-1,ee=ln-1;ee>=0;ee--){const zt=Te+ee,En=x[zt],Ii=zt+1<he?x[zt+1].el:X;er[ee]===0?q(null,En,B,Ii,j,oe,le,ie,se):vn&&(ot<0||ee!==Pr[ot]?Pt(En,B,Ii,2):ot--)}}},Pt=(S,x,B,X,j=null)=>{const{el:oe,type:le,transition:ie,children:se,shapeFlag:ee}=S;if(ee&6){Pt(S.component.subTree,x,B,X);return}if(ee&128){S.suspense.move(x,B,X);return}if(ee&64){le.move(S,x,B,_e);return}if(le===qn){r(oe,x,B);for(let Ae=0;Ae<se.length;Ae++)Pt(se[Ae],x,B,X);r(S.anchor,x,B);return}if(le===_d){ne(S,x,B);return}if(X!==2&&ee&1&&ie)if(X===0)ie.beforeEnter(oe),r(oe,x,B),$n(()=>ie.enter(oe),j);else{const{leave:Ae,delayLeave:ve,afterLeave:Ee}=ie,Te=()=>r(oe,x,B),He=()=>{Ae(oe,()=>{Te(),Ee&&Ee()})};ve?ve(oe,Te,He):He()}else r(oe,x,B)},Et=(S,x,B,X=!1,j=!1)=>{const{type:oe,props:le,ref:ie,children:se,dynamicChildren:ee,shapeFlag:he,patchFlag:Ae,dirs:ve}=S;if(ie!=null&&zd(ie,null,B,S,!0),he&256){x.ctx.deactivate(S);return}const Ee=he&1&&ve,Te=!pu(S);let He;if(Te&&(He=le&&le.onVnodeBeforeUnmount)&&Mr(He,x,S),he&6)cn(S.component,B,X);else{if(he&128){S.suspense.unmount(B,X);return}Ee&&Bs(S,null,x,"beforeUnmount"),he&64?S.type.remove(S,x,B,j,_e,X):ee&&(oe!==qn||Ae>0&&Ae&64)?xt(ee,x,B,!1,!0):(oe===qn&&Ae&384||!j&&he&16)&&xt(se,x,B),X&&wt(S)}(Te&&(He=le&&le.onVnodeUnmounted)||Ee)&&$n(()=>{He&&Mr(He,x,S),Ee&&Bs(S,null,x,"unmounted")},B)},wt=S=>{const{type:x,el:B,anchor:X,transition:j}=S;if(x===qn){Cr(B,X);return}if(x===_d){pe(S);return}const oe=()=>{i(B),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(S.shapeFlag&1&&j&&!j.persisted){const{leave:le,delayLeave:ie}=j,se=()=>le(B,oe);ie?ie(S.el,oe,se):se()}else oe()},Cr=(S,x)=>{let B;for(;S!==x;)B=E(S),i(S),S=B;i(x)},cn=(S,x,B)=>{const{bum:X,scope:j,update:oe,subTree:le,um:ie}=S;X&&Ml(X),j.stop(),oe&&(oe.active=!1,Et(le,S,x,B)),ie&&$n(ie,x),$n(()=>{S.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},xt=(S,x,B,X=!1,j=!1,oe=0)=>{for(let le=oe;le<S.length;le++)Et(S[le],x,B,X,j)},G=S=>S.shapeFlag&6?G(S.component.subTree):S.shapeFlag&128?S.suspense.next():E(S.anchor||S.el);let de=!1;const ce=(S,x,B)=>{S==null?x._vnode&&Et(x._vnode,null,null,!0):q(x._vnode||null,S,x,null,null,null,B),de||(de=!0,K_(),B0(),de=!1),x._vnode=S},_e={p:q,um:Et,m:Pt,r:wt,mt:ht,mc:A,pc:ke,pbc:O,n:G,o:t};let je,it;return{render:ce,hydrate:je,createApp:qP(ce,je)}}function md({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function $s({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function XP(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function jp(t,e,n=!1){const r=t.children,i=e.children;if(Pe(r)&&Pe(i))for(let o=0;o<r.length;o++){const u=r[o];let h=i[o];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=i[o]=Ki(i[o]),h.el=u.el),n||jp(u,h)),h.type===Oh&&(h.el=u.el)}}function JP(t){const e=t.slice(),n=[0];let r,i,o,u,h;const f=t.length;for(r=0;r<f;r++){const p=t[r];if(p!==0){if(i=n[n.length-1],t[i]<p){e[r]=i,n.push(r);continue}for(o=0,u=n.length-1;o<u;)h=o+u>>1,t[n[h]]<p?o=h+1:u=h;p<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,u=n[o-1];o-- >0;)n[o]=u,u=e[u];return n}function fE(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:fE(e)}const ZP=t=>t.__isTeleport,mu=t=>t&&(t.disabled||t.disabled===""),iy=t=>typeof SVGElement<"u"&&t instanceof SVGElement,sy=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Qd=(t,e)=>{const n=t&&t.to;return Lt(n)?e?e(n):null:n},ex={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,o,u,h,f,p){const{mc:m,pc:v,pbc:E,o:{insert:C,querySelector:V,createText:q,createComment:$}}=p,z=mu(e.props);let{shapeFlag:te,children:ne,dynamicChildren:pe}=e;if(t==null){const ge=e.el=q(""),ue=e.anchor=q("");C(ge,n,r),C(ue,n,r);const N=e.target=Qd(e.props,V),A=e.targetAnchor=q("");N&&(C(A,N),u==="svg"||iy(N)?u="svg":(u==="mathml"||sy(N))&&(u="mathml"));const R=(O,k)=>{te&16&&m(ne,O,k,i,o,u,h,f)};z?R(n,ue):N&&R(N,A)}else{e.el=t.el;const ge=e.anchor=t.anchor,ue=e.target=t.target,N=e.targetAnchor=t.targetAnchor,A=mu(t.props),R=A?n:ue,O=A?ge:N;if(u==="svg"||iy(ue)?u="svg":(u==="mathml"||sy(ue))&&(u="mathml"),pe?(E(t.dynamicChildren,pe,R,i,o,u,h),jp(t,e,!0)):f||v(t,e,R,O,i,o,u,h,!1),z)A?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Pl(e,n,ge,p,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const k=e.target=Qd(e.props,V);k&&Pl(e,k,null,p,0)}else A&&Pl(e,ue,N,p,1)}dE(e)},remove(t,e,n,r,{um:i,o:{remove:o}},u){const{shapeFlag:h,children:f,anchor:p,targetAnchor:m,target:v,props:E}=t;if(v&&o(m),u&&o(p),h&16){const C=u||!mu(E);for(let V=0;V<f.length;V++){const q=f[V];i(q,e,n,C,!!q.dynamicChildren)}}},move:Pl,hydrate:tx};function Pl(t,e,n,{o:{insert:r},m:i},o=2){o===0&&r(t.targetAnchor,e,n);const{el:u,anchor:h,shapeFlag:f,children:p,props:m}=t,v=o===2;if(v&&r(u,e,n),(!v||mu(m))&&f&16)for(let E=0;E<p.length;E++)i(p[E],e,n,2);v&&r(h,e,n)}function tx(t,e,n,r,i,o,{o:{nextSibling:u,parentNode:h,querySelector:f}},p){const m=e.target=Qd(e.props,f);if(m){const v=m._lpa||m.firstChild;if(e.shapeFlag&16)if(mu(e.props))e.anchor=p(u(t),e,h(t),n,r,i,o),e.targetAnchor=v;else{e.anchor=u(t);let E=v;for(;E;)if(E=u(E),E&&E.nodeType===8&&E.data==="teleport anchor"){e.targetAnchor=E,m._lpa=e.targetAnchor&&u(e.targetAnchor);break}p(v,e,m,n,r,i,o)}dE(e)}return e.anchor&&u(e.anchor)}const nx=ex;function dE(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const qn=Symbol.for("v-fgt"),Oh=Symbol.for("v-txt"),Xn=Symbol.for("v-cmt"),_d=Symbol.for("v-stc"),_u=[];let Ir=null;function $e(t=!1){_u.push(Ir=t?null:[])}function rx(){_u.pop(),Ir=_u[_u.length-1]||null}let Ou=1;function oy(t){Ou+=t}function pE(t){return t.dynamicChildren=Ou>0?Ir||zo:null,rx(),Ou>0&&Ir&&Ir.push(t),t}function bt(t,e,n,r,i,o){return pE(xe(t,e,n,r,i,o,!0))}function un(t,e,n,r,i){return pE(De(t,e,n,r,i,!0))}function eh(t){return t?t.__v_isVNode===!0:!1}function Gs(t,e){return t.type===e.type&&t.key===e.key}const gE=({key:t})=>t??null,Ul=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Lt(t)||Bt(t)||Fe(t)?{i:Kt,r:t,k:e,f:!!n}:t:null);function xe(t,e=null,n=null,r=0,i=null,o=t===qn?0:1,u=!1,h=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&gE(e),ref:e&&Ul(e),scopeId:Sh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Kt};return h?(Kp(f,n),o&128&&t.normalize(f)):n&&(f.shapeFlag|=Lt(n)?8:16),Ou>0&&!u&&Ir&&(f.patchFlag>0||o&6)&&f.patchFlag!==32&&Ir.push(f),f}const De=ix;function ix(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===H0)&&(t=Xn),eh(t)){const h=cs(t,e,!0);return n&&Kp(h,n),Ou>0&&!o&&Ir&&(h.shapeFlag&6?Ir[Ir.indexOf(t)]=h:Ir.push(h)),h.patchFlag|=-2,h}if(mx(t)&&(t=t.__vccOpts),e){e=sx(e);let{class:h,style:f}=e;h&&!Lt(h)&&(e.class=pi(h)),Rt(f)&&(D0(f)&&!Pe(f)&&(f=Gt({},f)),e.style=Op(f))}const u=Lt(t)?1:yP(t)?128:ZP(t)?64:Rt(t)?4:Fe(t)?2:0;return xe(t,e,n,r,i,u,o,!0)}function sx(t){return t?D0(t)||oE(t)?Gt({},t):t:null}function cs(t,e,n=!1,r=!1){const{props:i,ref:o,patchFlag:u,children:h,transition:f}=t,p=e?ox(i||{},e):i,m={__v_isVNode:!0,__v_skip:!0,type:t.type,props:p,key:p&&gE(p),ref:e&&e.ref?n&&o?Pe(o)?o.concat(Ul(e)):[o,Ul(e)]:Ul(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:h,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==qn?u===-1?16:u|16:u,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:f,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cs(t.ssContent),ssFallback:t.ssFallback&&cs(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return f&&r&&(m.transition=f.clone(m)),m}function Jt(t=" ",e=0){return De(Oh,null,t,e)}function Qs(t="",e=!1){return e?($e(),un(Xn,null,t)):De(Xn,null,t)}function Vr(t){return t==null||typeof t=="boolean"?De(Xn):Pe(t)?De(qn,null,t.slice()):typeof t=="object"?Ki(t):De(Oh,null,String(t))}function Ki(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:cs(t)}function Kp(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Pe(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Kp(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!oE(e)?e._ctx=Kt:i===3&&Kt&&(Kt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Fe(e)?(e={default:e,_ctx:Kt},n=32):(e=String(e),r&64?(n=16,e=[Jt(e)]):n=8);t.children=e,t.shapeFlag|=n}function ox(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=pi([e.class,r.class]));else if(i==="style")e.style=Op([e.style,r.style]);else if(yh(i)){const o=e[i],u=r[i];u&&o!==u&&!(Pe(o)&&o.includes(u))&&(e[i]=o?[].concat(o,u):u)}else i!==""&&(e[i]=r[i])}return e}function Mr(t,e,n,r=null){gr(t,e,7,[n,r])}const ax=rE();let ux=0;function cx(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||ax,o={uid:ux++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new m0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:uE(r,i),emitsOptions:q0(r,i),emit:null,emitted:null,propsDefaults:Tt,inheritAttrs:r.inheritAttrs,ctx:Tt,data:Tt,props:Tt,attrs:Tt,slots:Tt,refs:Tt,setupState:Tt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=fP.bind(null,o),t.ce&&t.ce(o),o}let sn=null;const lx=()=>sn||Kt;let th,Yd;{const t=d0(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),o=>{i.length>1?i.forEach(u=>u(o)):i[0](o)}};th=e("__VUE_INSTANCE_SETTERS__",n=>sn=n),Yd=e("__VUE_SSR_SETTERS__",n=>Dh=n)}const Gu=t=>{const e=sn;return th(t),t.scope.on(),()=>{t.scope.off(),th(e)}},ay=()=>{sn&&sn.scope.off(),th(null)};function mE(t){return t.vnode.shapeFlag&4}let Dh=!1;function hx(t,e=!1){e&&Yd(e);const{props:n,children:r}=t.vnode,i=mE(t);WP(t,n,i,e),GP(t,r);const o=i?fx(t,e):void 0;return e&&Yd(!1),o}function fx(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,LP);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?px(t):null,o=Gu(t);ds();const u=ts(r,t,0,[t.props,i]);if(ps(),o(),c0(u)){if(u.then(ay,ay),e)return u.then(h=>{uy(t,h,e)}).catch(h=>{Ah(h,t,0)});t.asyncDep=u}else uy(t,u,e)}else _E(t,e)}function uy(t,e,n){Fe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Rt(e)&&(t.setupState=M0(e)),_E(t,n)}let cy;function _E(t,e,n){const r=t.type;if(!t.render){if(!e&&cy&&!r.render){const i=r.template||Hp(t).template;if(i){const{isCustomElement:o,compilerOptions:u}=t.appContext.config,{delimiters:h,compilerOptions:f}=r,p=Gt(Gt({isCustomElement:o,delimiters:h},u),f);r.render=cy(i,p)}}t.render=r.render||dr}{const i=Gu(t);ds();try{MP(t)}finally{ps(),i()}}}const dx={get(t,e){return jn(t,"get",""),t[e]}};function px(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,dx),slots:t.slots,emit:t.emit,expose:e}}function Nh(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(M0(Th(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in gu)return gu[n](t)},has(e,n){return n in e||n in gu}}))}function gx(t,e=!0){return Fe(t)?t.displayName||t.name:t.name||e&&t.__name}function mx(t){return Fe(t)&&"__vccOpts"in t}const Wt=(t,e)=>tP(t,e,Dh);function Gp(t,e,n){const r=arguments.length;return r===2?Rt(e)&&!Pe(e)?eh(e)?De(t,null,[e]):De(t,e):De(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&eh(n)&&(n=[n]),De(t,e,n))}const _x="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const yx="http://www.w3.org/2000/svg",vx="http://www.w3.org/1998/Math/MathML",Gi=typeof document<"u"?document:null,ly=Gi&&Gi.createElement("template"),Ex={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Gi.createElementNS(yx,t):e==="mathml"?Gi.createElementNS(vx,t):Gi.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Gi.createTextNode(t),createComment:t=>Gi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Gi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const u=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{ly.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const h=ly.content;if(r==="svg"||r==="mathml"){const f=h.firstChild;for(;f.firstChild;)h.appendChild(f.firstChild);h.removeChild(f)}e.insertBefore(h,n)}return[u?u.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ui="transition",tu="animation",Du=Symbol("_vtc"),zu=(t,{slots:e})=>Gp(RP,wx(t),e);zu.displayName="Transition";const yE={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};zu.props=Gt({},G0,yE);const qs=(t,e=[])=>{Pe(t)?t.forEach(n=>n(...e)):t&&t(...e)},hy=t=>t?Pe(t)?t.some(e=>e.length>1):t.length>1:!1;function wx(t){const e={};for(const D in t)D in yE||(e[D]=t[D]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:u=`${n}-enter-active`,enterToClass:h=`${n}-enter-to`,appearFromClass:f=o,appearActiveClass:p=u,appearToClass:m=h,leaveFromClass:v=`${n}-leave-from`,leaveActiveClass:E=`${n}-leave-active`,leaveToClass:C=`${n}-leave-to`}=t,V=Ix(i),q=V&&V[0],$=V&&V[1],{onBeforeEnter:z,onEnter:te,onEnterCancelled:ne,onLeave:pe,onLeaveCancelled:ge,onBeforeAppear:ue=z,onAppear:N=te,onAppearCancelled:A=ne}=e,R=(D,b,ht)=>{Hs(D,b?m:h),Hs(D,b?p:u),ht&&ht()},O=(D,b)=>{D._isLeaving=!1,Hs(D,v),Hs(D,C),Hs(D,E),b&&b()},k=D=>(b,ht)=>{const Ct=D?N:te,Ge=()=>R(b,D,ht);qs(Ct,[b,Ge]),fy(()=>{Hs(b,D?f:o),Bi(b,D?m:h),hy(Ct)||dy(b,r,q,Ge)})};return Gt(e,{onBeforeEnter(D){qs(z,[D]),Bi(D,o),Bi(D,u)},onBeforeAppear(D){qs(ue,[D]),Bi(D,f),Bi(D,p)},onEnter:k(!1),onAppear:k(!0),onLeave(D,b){D._isLeaving=!0;const ht=()=>O(D,b);Bi(D,v),Bi(D,E),Rx(),fy(()=>{D._isLeaving&&(Hs(D,v),Bi(D,C),hy(pe)||dy(D,r,$,ht))}),qs(pe,[D,ht])},onEnterCancelled(D){R(D,!1),qs(ne,[D])},onAppearCancelled(D){R(D,!0),qs(A,[D])},onLeaveCancelled(D){O(D),qs(ge,[D])}})}function Ix(t){if(t==null)return null;if(Rt(t))return[yd(t.enter),yd(t.leave)];{const e=yd(t);return[e,e]}}function yd(t){return SC(t)}function Bi(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Du]||(t[Du]=new Set)).add(e)}function Hs(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Du];n&&(n.delete(e),n.size||(t[Du]=void 0))}function fy(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Tx=0;function dy(t,e,n,r){const i=t._endId=++Tx,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:u,timeout:h,propCount:f}=Ax(t,e);if(!u)return r();const p=u+"end";let m=0;const v=()=>{t.removeEventListener(p,E),o()},E=C=>{C.target===t&&++m>=f&&v()};setTimeout(()=>{m<f&&v()},h+1),t.addEventListener(p,E)}function Ax(t,e){const n=window.getComputedStyle(t),r=V=>(n[V]||"").split(", "),i=r(`${Ui}Delay`),o=r(`${Ui}Duration`),u=py(i,o),h=r(`${tu}Delay`),f=r(`${tu}Duration`),p=py(h,f);let m=null,v=0,E=0;e===Ui?u>0&&(m=Ui,v=u,E=o.length):e===tu?p>0&&(m=tu,v=p,E=f.length):(v=Math.max(u,p),m=v>0?u>p?Ui:tu:null,E=m?m===Ui?o.length:f.length:0);const C=m===Ui&&/\b(transform|all)(,|$)/.test(r(`${Ui}Property`).toString());return{type:m,timeout:v,propCount:E,hasTransform:C}}function py(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>gy(n)+gy(t[r])))}function gy(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Rx(){return document.body.offsetHeight}function Sx(t,e,n){const r=t[Du];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const my=Symbol("_vod"),bx=Symbol("_vsh"),Cx=Symbol(""),Px=/(^|;)\s*display\s*:/;function xx(t,e,n){const r=t.style,i=Lt(n);let o=!1;if(n&&!i){if(e)if(Lt(e))for(const u of e.split(";")){const h=u.slice(0,u.indexOf(":")).trim();n[h]==null&&Bl(r,h,"")}else for(const u in e)n[u]==null&&Bl(r,u,"");for(const u in n)u==="display"&&(o=!0),Bl(r,u,n[u])}else if(i){if(e!==n){const u=r[Cx];u&&(n+=";"+u),r.cssText=n,o=Px.test(n)}}else e&&t.removeAttribute("style");my in t&&(t[my]=o?r.display:"",t[bx]&&(r.display="none"))}const _y=/\s*!important$/;function Bl(t,e,n){if(Pe(n))n.forEach(r=>Bl(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Ox(t,e);_y.test(n)?t.setProperty(ho(r),n.replace(_y,""),"important"):t[r]=n}}const yy=["Webkit","Moz","ms"],vd={};function Ox(t,e){const n=vd[e];if(n)return n;let r=Wr(e);if(r!=="filter"&&r in t)return vd[e]=r;r=wh(r);for(let i=0;i<yy.length;i++){const o=yy[i]+r;if(o in t)return vd[e]=o}return e}const vy="http://www.w3.org/1999/xlink";function Dx(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(vy,e.slice(6,e.length)):t.setAttributeNS(vy,e,n);else{const o=DC(e);n==null||o&&!p0(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function Nx(t,e,n,r,i,o,u){if(e==="innerHTML"||e==="textContent"){r&&u(r,i,o),t[e]=n??"";return}const h=t.tagName;if(e==="value"&&h!=="PROGRESS"&&!h.includes("-")){const p=h==="OPTION"?t.getAttribute("value")||"":t.value,m=n??"";(p!==m||!("_value"in t))&&(t.value=m),n==null&&t.removeAttribute(e),t._value=n;return}let f=!1;if(n===""||n==null){const p=typeof t[e];p==="boolean"?n=p0(n):n==null&&p==="string"?(n="",f=!0):p==="number"&&(n=0,f=!0)}try{t[e]=n}catch{}f&&t.removeAttribute(e)}function qo(t,e,n,r){t.addEventListener(e,n,r)}function kx(t,e,n,r){t.removeEventListener(e,n,r)}const Ey=Symbol("_vei");function Lx(t,e,n,r,i=null){const o=t[Ey]||(t[Ey]={}),u=o[e];if(r&&u)u.value=r;else{const[h,f]=Mx(e);if(r){const p=o[e]=Ux(r,i);qo(t,h,p,f)}else u&&(kx(t,h,u,f),o[e]=void 0)}}const wy=/(?:Once|Passive|Capture)$/;function Mx(t){let e;if(wy.test(t)){e={};let r;for(;r=t.match(wy);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ho(t.slice(2)),e]}let Ed=0;const Vx=Promise.resolve(),Fx=()=>Ed||(Vx.then(()=>Ed=0),Ed=Date.now());function Ux(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;gr(Bx(r,n.value),e,5,[r])};return n.value=t,n.attached=Fx(),n}function Bx(t,e){if(Pe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Iy=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,$x=(t,e,n,r,i,o,u,h,f)=>{const p=i==="svg";e==="class"?Sx(t,r,p):e==="style"?xx(t,n,r):yh(e)?Cp(e)||Lx(t,e,n,r,u):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):qx(t,e,r,p))?Nx(t,e,r,o,u,h,f):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Dx(t,e,r,p))};function qx(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Iy(e)&&Fe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Iy(e)&&Lt(n)?!1:e in t}const Ty=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Pe(e)?n=>Ml(e,n):e};function Hx(t){t.target.composing=!0}function Ay(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const wd=Symbol("_assign"),Nu={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[wd]=Ty(i);const o=r||i.props&&i.props.type==="number";qo(t,e?"change":"input",u=>{if(u.target.composing)return;let h=t.value;n&&(h=h.trim()),o&&(h=Vd(h)),t[wd](h)}),n&&qo(t,"change",()=>{t.value=t.value.trim()}),e||(qo(t,"compositionstart",Hx),qo(t,"compositionend",Ay),qo(t,"change",Ay))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},o){if(t[wd]=Ty(o),t.composing)return;const u=(i||t.type==="number")&&!/^0\d/.test(t.value)?Vd(t.value):t.value,h=e??"";u!==h&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===h)||(t.value=h))}},Wx=["ctrl","shift","alt","meta"],jx={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Wx.some(n=>t[`${n}Key`]&&!e.includes(n))},ku=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...o)=>{for(let u=0;u<e.length;u++){const h=jx[e[u]];if(h&&h(i,e))return}return t(i,...o)})},Kx={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},vE=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const o=ho(i.key);if(e.some(u=>u===o||Kx[u]===o))return t(i)})},Gx=Gt({patchProp:$x},Ex);let Ry;function zx(){return Ry||(Ry=QP(Gx))}const Qx=(...t)=>{const e=zx().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Xx(r);if(!i)return;const o=e._component;!Fe(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const u=n(i,!1,Yx(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),u},e};function Yx(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Xx(t){return Lt(t)?document.querySelector(t):t}var Jx=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let EE;const kh=t=>EE=t,wE=Symbol();function Xd(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var yu;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(yu||(yu={}));function Zx(){const t=_0(!0),e=t.run(()=>on({}));let n=[],r=[];const i=Th({install(o){kh(i),i._a=o,o.provide(wE,i),o.config.globalProperties.$pinia=i,r.forEach(u=>n.push(u)),r=[]},use(o){return!this._a&&!Jx?r.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const IE=()=>{};function Sy(t,e,n,r=IE){t.push(e);const i=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),r())};return!n&&y0()&&kC(i),i}function $o(t,...e){t.slice().forEach(n=>{n(...e)})}const eO=t=>t();function Jd(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Xd(i)&&Xd(r)&&t.hasOwnProperty(n)&&!Bt(r)&&!Zs(r)?t[n]=Jd(i,r):t[n]=r}return t}const tO=Symbol();function nO(t){return!Xd(t)||!t.hasOwnProperty(tO)}const{assign:Hi}=Object;function rO(t){return!!(Bt(t)&&t.effect)}function iO(t,e,n,r){const{state:i,actions:o,getters:u}=e,h=n.state.value[t];let f;function p(){h||(n.state.value[t]=i?i():{});const m=V0(n.state.value[t]);return Hi(m,o,Object.keys(u||{}).reduce((v,E)=>(v[E]=Th(Wt(()=>{kh(n);const C=n._s.get(t);return u[E].call(C,C)})),v),{}))}return f=TE(t,p,e,n,r,!0),f}function TE(t,e,n={},r,i,o){let u;const h=Hi({actions:{}},n),f={deep:!0};let p,m,v=[],E=[],C;const V=r.state.value[t];!o&&!V&&(r.state.value[t]={}),on({});let q;function $(A){let R;p=m=!1,typeof A=="function"?(A(r.state.value[t]),R={type:yu.patchFunction,storeId:t,events:C}):(Jd(r.state.value[t],A),R={type:yu.patchObject,payload:A,storeId:t,events:C});const O=q=Symbol();Bp().then(()=>{q===O&&(p=!0)}),m=!0,$o(v,R,r.state.value[t])}const z=o?function(){const{state:R}=n,O=R?R():{};this.$patch(k=>{Hi(k,O)})}:IE;function te(){u.stop(),v=[],E=[],r._s.delete(t)}function ne(A,R){return function(){kh(r);const O=Array.from(arguments),k=[],D=[];function b(Ge){k.push(Ge)}function ht(Ge){D.push(Ge)}$o(E,{args:O,name:A,store:ge,after:b,onError:ht});let Ct;try{Ct=R.apply(this&&this.$id===t?this:ge,O)}catch(Ge){throw $o(D,Ge),Ge}return Ct instanceof Promise?Ct.then(Ge=>($o(k,Ge),Ge)).catch(Ge=>($o(D,Ge),Promise.reject(Ge))):($o(k,Ct),Ct)}}const pe={_p:r,$id:t,$onAction:Sy.bind(null,E),$patch:$,$reset:z,$subscribe(A,R={}){const O=Sy(v,A,R.detached,()=>k()),k=u.run(()=>eo(()=>r.state.value[t],D=>{(R.flush==="sync"?m:p)&&A({storeId:t,type:yu.direct,events:C},D)},Hi({},f,R)));return O},$dispose:te},ge=da(pe);r._s.set(t,ge);const N=(r._a&&r._a.runWithContext||eO)(()=>r._e.run(()=>(u=_0()).run(e)));for(const A in N){const R=N[A];if(Bt(R)&&!rO(R)||Zs(R))o||(V&&nO(R)&&(Bt(R)?R.value=V[A]:Jd(R,V[A])),r.state.value[t][A]=R);else if(typeof R=="function"){const O=ne(A,R);N[A]=O,h.actions[A]=R}}return Hi(ge,N),Hi(rt(ge),N),Object.defineProperty(ge,"$state",{get:()=>r.state.value[t],set:A=>{$(R=>{Hi(R,A)})}}),r._p.forEach(A=>{Hi(ge,u.run(()=>A({store:ge,app:r._a,pinia:r,options:h})))}),V&&o&&n.hydrate&&n.hydrate(ge.$state,V),p=!0,m=!0,ge}function AE(t,e,n){let r,i;const o=typeof e=="function";typeof t=="string"?(r=t,i=o?n:e):(i=t,r=t.id);function u(h,f){const p=HP();return h=h||(p?Zn(wE,null):null),h&&kh(h),h=EE,h._s.has(r)||(o?TE(r,e,i,h):iO(r,i,h)),h._s.get(r)}return u.$id=r,u}const sO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4%2018L20%2018'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'/%3e%3cpath%20d='M4%2012L20%2012'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'/%3e%3cpath%20d='M4%206L20%206'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/svg%3e",Mt=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},oO=t=>(yi("data-v-ab45db1f"),t=t(),vi(),t),aO=oO(()=>xe("img",{src:sO,alt:"burger-menu"},null,-1)),uO=[aO],cO={__name:"TheBurgerMenu",emits:["toggle"],setup(t){return(e,n)=>($e(),bt("div",{class:"burger-menu",onClick:n[0]||(n[0]=r=>e.$emit("toggle"))},uO))}},lO=Mt(cO,[["__scopeId","data-v-ab45db1f"]]);var by={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],u=t[n++],h=t[n++],f=((i&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},SE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],u=i+1<t.length,h=u?t[i+1]:0,f=i+2<t.length,p=f?t[i+2]:0,m=o>>2,v=(o&3)<<4|h>>4;let E=(h&15)<<2|p>>6,C=p&63;f||(C=64,u||(E=64)),r.push(n[m],n[v],n[E],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],h=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||h==null||p==null||v==null)throw new fO;const E=o<<2|h>>4;if(r.push(E),p!==64){const C=h<<4&240|p>>2;if(r.push(C),v!==64){const V=p<<6&192|v;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dO=function(t){const e=RE(t);return SE.encodeByteArray(e,!0)},nh=function(t){return dO(t).replace(/\./g,"")},bE=function(t){try{return SE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=()=>pO().__FIREBASE_DEFAULTS__,mO=()=>{if(typeof process>"u"||typeof by>"u")return;const t=by.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_O=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bE(t[1]);return e&&JSON.parse(e)},Lh=()=>{try{return gO()||mO()||_O()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CE=t=>{var e,n;return(n=(e=Lh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yO=t=>{const e=CE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},PE=()=>{var t;return(t=Lh())===null||t===void 0?void 0:t.config},xE=t=>{var e;return(e=Lh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[nh(JSON.stringify(n)),nh(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function IO(){var t;const e=(t=Lh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function AO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RO(){const t=_n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SO(){return!IO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bO(){try{return typeof indexedDB=="object"}catch{return!1}}function CO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="FirebaseError";class wi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PO,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?xO(o,r):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new wi(i,h,r)}}function xO(t,e){return t.replace(OO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const OO=/\{\$([^}]+)}/g;function DO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],u=e[i];if(Cy(o)&&Cy(u)){if(!rh(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Cy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function au(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function uu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function NO(t,e){const n=new kO(t,e);return n.subscribe.bind(n)}class kO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Id),i.error===void 0&&(i.error=Id),i.complete===void 0&&(i.complete=Id);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Id(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t){return t&&t._delegate?t._delegate:t}class ro{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FO(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VO(t){return t===js?void 0:t}function FO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const BO={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},$O=et.INFO,qO={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},HO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zp{constructor(e){this.name=e,this._logLevel=$O,this._logHandler=HO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const WO=(t,e)=>e.some(n=>t instanceof n);let Py,xy;function jO(){return Py||(Py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KO(){return xy||(xy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OE=new WeakMap,Zd=new WeakMap,DE=new WeakMap,Td=new WeakMap,Qp=new WeakMap;function GO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(ns(t.result)),i()},u=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&OE.set(n,t)}).catch(()=>{}),Qp.set(e,t),e}function zO(t){if(Zd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),i()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});Zd.set(t,e)}let ep={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QO(t){ep=t(ep)}function YO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ad(this),e,...n);return DE.set(r,e.sort?e.sort():[e]),ns(r)}:KO().includes(t)?function(...e){return t.apply(Ad(this),e),ns(OE.get(this))}:function(...e){return ns(t.apply(Ad(this),e))}}function XO(t){return typeof t=="function"?YO(t):(t instanceof IDBTransaction&&zO(t),WO(t,jO())?new Proxy(t,ep):t)}function ns(t){if(t instanceof IDBRequest)return GO(t);if(Td.has(t))return Td.get(t);const e=XO(t);return e!==t&&(Td.set(t,e),Qp.set(e,t)),e}const Ad=t=>Qp.get(t);function JO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(t,e),h=ns(u);return r&&u.addEventListener("upgradeneeded",f=>{r(ns(u.result),f.oldVersion,f.newVersion,ns(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const ZO=["get","getKey","getAll","getAllKeys","count"],eD=["put","add","delete","clear"],Rd=new Map;function Oy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rd.get(e))return Rd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=eD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZO.includes(n)))return;const o=async function(u,...h){const f=this.transaction(u,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),i&&f.done]))[0]};return Rd.set(e,o),o}QO(t=>({...t,get:(e,n,r)=>Oy(e,n)||t.get(e,n,r),has:(e,n)=>!!Oy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tp="@firebase/app",Dy="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new zp("@firebase/app"),rD="@firebase/app-compat",iD="@firebase/analytics-compat",sD="@firebase/analytics",oD="@firebase/app-check-compat",aD="@firebase/app-check",uD="@firebase/auth",cD="@firebase/auth-compat",lD="@firebase/database",hD="@firebase/database-compat",fD="@firebase/functions",dD="@firebase/functions-compat",pD="@firebase/installations",gD="@firebase/installations-compat",mD="@firebase/messaging",_D="@firebase/messaging-compat",yD="@firebase/performance",vD="@firebase/performance-compat",ED="@firebase/remote-config",wD="@firebase/remote-config-compat",ID="@firebase/storage",TD="@firebase/storage-compat",AD="@firebase/firestore",RD="@firebase/vertexai-preview",SD="@firebase/firestore-compat",bD="firebase",CD="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="[DEFAULT]",PD={[tp]:"fire-core",[rD]:"fire-core-compat",[sD]:"fire-analytics",[iD]:"fire-analytics-compat",[aD]:"fire-app-check",[oD]:"fire-app-check-compat",[uD]:"fire-auth",[cD]:"fire-auth-compat",[lD]:"fire-rtdb",[hD]:"fire-rtdb-compat",[fD]:"fire-fn",[dD]:"fire-fn-compat",[pD]:"fire-iid",[gD]:"fire-iid-compat",[mD]:"fire-fcm",[_D]:"fire-fcm-compat",[yD]:"fire-perf",[vD]:"fire-perf-compat",[ED]:"fire-rc",[wD]:"fire-rc-compat",[ID]:"fire-gcs",[TD]:"fire-gcs-compat",[AD]:"fire-fst",[SD]:"fire-fst-compat",[RD]:"fire-vertex","fire-js":"fire-js",[bD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,xD=new Map,rp=new Map;function Ny(t,e){try{t.container.addComponent(e)}catch(n){io.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function na(t){const e=t.name;if(rp.has(e))return io.debug(`There were multiple attempts to register component ${e}.`),!1;rp.set(e,t);for(const n of ih.values())Ny(n,t);for(const n of xD.values())Ny(n,t);return!0}function Yp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ur(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new Qu("app","Firebase",OD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=CD;function NE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:np,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw rs.create("bad-app-name",{appName:String(i)});if(n||(n=PE()),!n)throw rs.create("no-options");const o=ih.get(i);if(o){if(rh(n,o.options)&&rh(r,o.config))return o;throw rs.create("duplicate-app",{appName:i})}const u=new UO(i);for(const f of rp.values())u.addComponent(f);const h=new DD(n,r,u);return ih.set(i,h),h}function kE(t=np){const e=ih.get(t);if(!e&&t===np&&PE())return NE();if(!e)throw rs.create("no-app",{appName:t});return e}function is(t,e,n){var r;let i=(r=PD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),io.warn(h.join(" "));return}na(new ro(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="firebase-heartbeat-database",kD=1,Lu="firebase-heartbeat-store";let Sd=null;function LE(){return Sd||(Sd=JO(ND,kD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lu)}catch(n){console.warn(n)}}}}).catch(t=>{throw rs.create("idb-open",{originalErrorMessage:t.message})})),Sd}async function LD(t){try{const n=(await LE()).transaction(Lu),r=await n.objectStore(Lu).get(ME(t));return await n.done,r}catch(e){if(e instanceof wi)io.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});io.warn(n.message)}}}async function ky(t,e){try{const r=(await LE()).transaction(Lu,"readwrite");await r.objectStore(Lu).put(e,ME(t)),await r.done}catch(n){if(n instanceof wi)io.warn(n.message);else{const r=rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});io.warn(r.message)}}}function ME(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=1024,VD=30*24*60*60*1e3;class FD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Ly();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=VD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ly(),{heartbeatsToSend:r,unsentEntries:i}=UD(this._heartbeatsCache.heartbeats),o=nh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Ly(){return new Date().toISOString().substring(0,10)}function UD(t,e=MD){const n=[];let r=t.slice();for(const i of t){const o=n.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),My(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),My(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bO()?CO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ky(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ky(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function My(t){return nh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t){na(new ro("platform-logger",e=>new tD(e),"PRIVATE")),na(new ro("heartbeat",e=>new FD(e),"PRIVATE")),is(tp,Dy,t),is(tp,Dy,"esm2017"),is("fire-js","")}$D("");var qD="firebase",HD="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */is(qD,HD,"app");var Vy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var to,VE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function R(){}R.prototype=A.prototype,N.D=A.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(O,k,D){for(var b=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)b[ht-2]=arguments[ht];return A.prototype[k].apply(O,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,A,R){R||(R=0);var O=Array(16);if(typeof A=="string")for(var k=0;16>k;++k)O[k]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(k=0;16>k;++k)O[k]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=N.g[0],R=N.g[1],k=N.g[2];var D=N.g[3],b=A+(D^R&(k^D))+O[0]+3614090360&4294967295;A=R+(b<<7&4294967295|b>>>25),b=D+(k^A&(R^k))+O[1]+3905402710&4294967295,D=A+(b<<12&4294967295|b>>>20),b=k+(R^D&(A^R))+O[2]+606105819&4294967295,k=D+(b<<17&4294967295|b>>>15),b=R+(A^k&(D^A))+O[3]+3250441966&4294967295,R=k+(b<<22&4294967295|b>>>10),b=A+(D^R&(k^D))+O[4]+4118548399&4294967295,A=R+(b<<7&4294967295|b>>>25),b=D+(k^A&(R^k))+O[5]+1200080426&4294967295,D=A+(b<<12&4294967295|b>>>20),b=k+(R^D&(A^R))+O[6]+2821735955&4294967295,k=D+(b<<17&4294967295|b>>>15),b=R+(A^k&(D^A))+O[7]+4249261313&4294967295,R=k+(b<<22&4294967295|b>>>10),b=A+(D^R&(k^D))+O[8]+1770035416&4294967295,A=R+(b<<7&4294967295|b>>>25),b=D+(k^A&(R^k))+O[9]+2336552879&4294967295,D=A+(b<<12&4294967295|b>>>20),b=k+(R^D&(A^R))+O[10]+4294925233&4294967295,k=D+(b<<17&4294967295|b>>>15),b=R+(A^k&(D^A))+O[11]+2304563134&4294967295,R=k+(b<<22&4294967295|b>>>10),b=A+(D^R&(k^D))+O[12]+1804603682&4294967295,A=R+(b<<7&4294967295|b>>>25),b=D+(k^A&(R^k))+O[13]+4254626195&4294967295,D=A+(b<<12&4294967295|b>>>20),b=k+(R^D&(A^R))+O[14]+2792965006&4294967295,k=D+(b<<17&4294967295|b>>>15),b=R+(A^k&(D^A))+O[15]+1236535329&4294967295,R=k+(b<<22&4294967295|b>>>10),b=A+(k^D&(R^k))+O[1]+4129170786&4294967295,A=R+(b<<5&4294967295|b>>>27),b=D+(R^k&(A^R))+O[6]+3225465664&4294967295,D=A+(b<<9&4294967295|b>>>23),b=k+(A^R&(D^A))+O[11]+643717713&4294967295,k=D+(b<<14&4294967295|b>>>18),b=R+(D^A&(k^D))+O[0]+3921069994&4294967295,R=k+(b<<20&4294967295|b>>>12),b=A+(k^D&(R^k))+O[5]+3593408605&4294967295,A=R+(b<<5&4294967295|b>>>27),b=D+(R^k&(A^R))+O[10]+38016083&4294967295,D=A+(b<<9&4294967295|b>>>23),b=k+(A^R&(D^A))+O[15]+3634488961&4294967295,k=D+(b<<14&4294967295|b>>>18),b=R+(D^A&(k^D))+O[4]+3889429448&4294967295,R=k+(b<<20&4294967295|b>>>12),b=A+(k^D&(R^k))+O[9]+568446438&4294967295,A=R+(b<<5&4294967295|b>>>27),b=D+(R^k&(A^R))+O[14]+3275163606&4294967295,D=A+(b<<9&4294967295|b>>>23),b=k+(A^R&(D^A))+O[3]+4107603335&4294967295,k=D+(b<<14&4294967295|b>>>18),b=R+(D^A&(k^D))+O[8]+1163531501&4294967295,R=k+(b<<20&4294967295|b>>>12),b=A+(k^D&(R^k))+O[13]+2850285829&4294967295,A=R+(b<<5&4294967295|b>>>27),b=D+(R^k&(A^R))+O[2]+4243563512&4294967295,D=A+(b<<9&4294967295|b>>>23),b=k+(A^R&(D^A))+O[7]+1735328473&4294967295,k=D+(b<<14&4294967295|b>>>18),b=R+(D^A&(k^D))+O[12]+2368359562&4294967295,R=k+(b<<20&4294967295|b>>>12),b=A+(R^k^D)+O[5]+4294588738&4294967295,A=R+(b<<4&4294967295|b>>>28),b=D+(A^R^k)+O[8]+2272392833&4294967295,D=A+(b<<11&4294967295|b>>>21),b=k+(D^A^R)+O[11]+1839030562&4294967295,k=D+(b<<16&4294967295|b>>>16),b=R+(k^D^A)+O[14]+4259657740&4294967295,R=k+(b<<23&4294967295|b>>>9),b=A+(R^k^D)+O[1]+2763975236&4294967295,A=R+(b<<4&4294967295|b>>>28),b=D+(A^R^k)+O[4]+1272893353&4294967295,D=A+(b<<11&4294967295|b>>>21),b=k+(D^A^R)+O[7]+4139469664&4294967295,k=D+(b<<16&4294967295|b>>>16),b=R+(k^D^A)+O[10]+3200236656&4294967295,R=k+(b<<23&4294967295|b>>>9),b=A+(R^k^D)+O[13]+681279174&4294967295,A=R+(b<<4&4294967295|b>>>28),b=D+(A^R^k)+O[0]+3936430074&4294967295,D=A+(b<<11&4294967295|b>>>21),b=k+(D^A^R)+O[3]+3572445317&4294967295,k=D+(b<<16&4294967295|b>>>16),b=R+(k^D^A)+O[6]+76029189&4294967295,R=k+(b<<23&4294967295|b>>>9),b=A+(R^k^D)+O[9]+3654602809&4294967295,A=R+(b<<4&4294967295|b>>>28),b=D+(A^R^k)+O[12]+3873151461&4294967295,D=A+(b<<11&4294967295|b>>>21),b=k+(D^A^R)+O[15]+530742520&4294967295,k=D+(b<<16&4294967295|b>>>16),b=R+(k^D^A)+O[2]+3299628645&4294967295,R=k+(b<<23&4294967295|b>>>9),b=A+(k^(R|~D))+O[0]+4096336452&4294967295,A=R+(b<<6&4294967295|b>>>26),b=D+(R^(A|~k))+O[7]+1126891415&4294967295,D=A+(b<<10&4294967295|b>>>22),b=k+(A^(D|~R))+O[14]+2878612391&4294967295,k=D+(b<<15&4294967295|b>>>17),b=R+(D^(k|~A))+O[5]+4237533241&4294967295,R=k+(b<<21&4294967295|b>>>11),b=A+(k^(R|~D))+O[12]+1700485571&4294967295,A=R+(b<<6&4294967295|b>>>26),b=D+(R^(A|~k))+O[3]+2399980690&4294967295,D=A+(b<<10&4294967295|b>>>22),b=k+(A^(D|~R))+O[10]+4293915773&4294967295,k=D+(b<<15&4294967295|b>>>17),b=R+(D^(k|~A))+O[1]+2240044497&4294967295,R=k+(b<<21&4294967295|b>>>11),b=A+(k^(R|~D))+O[8]+1873313359&4294967295,A=R+(b<<6&4294967295|b>>>26),b=D+(R^(A|~k))+O[15]+4264355552&4294967295,D=A+(b<<10&4294967295|b>>>22),b=k+(A^(D|~R))+O[6]+2734768916&4294967295,k=D+(b<<15&4294967295|b>>>17),b=R+(D^(k|~A))+O[13]+1309151649&4294967295,R=k+(b<<21&4294967295|b>>>11),b=A+(k^(R|~D))+O[4]+4149444226&4294967295,A=R+(b<<6&4294967295|b>>>26),b=D+(R^(A|~k))+O[11]+3174756917&4294967295,D=A+(b<<10&4294967295|b>>>22),b=k+(A^(D|~R))+O[2]+718787259&4294967295,k=D+(b<<15&4294967295|b>>>17),b=R+(D^(k|~A))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(k+(b<<21&4294967295|b>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+D&4294967295}r.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var R=A-this.blockSize,O=this.B,k=this.h,D=0;D<A;){if(k==0)for(;D<=R;)i(this,N,D),D+=this.blockSize;if(typeof N=="string"){for(;D<A;)if(O[k++]=N.charCodeAt(D++),k==this.blockSize){i(this,O),k=0;break}}else for(;D<A;)if(O[k++]=N[D++],k==this.blockSize){i(this,O),k=0;break}}this.h=k,this.o+=A},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var R=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=R&255,R/=256;for(this.u(N),N=Array(16),A=R=0;4>A;++A)for(var O=0;32>O;O+=8)N[R++]=this.g[A]>>>O&255;return N};function o(N,A){var R=h;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=A(N)}function u(N,A){this.h=A;for(var R=[],O=!0,k=N.length-1;0<=k;k--){var D=N[k]|0;O&&D==A||(R[k]=D,O=!1)}this.g=R}var h={};function f(N){return-128<=N&&128>N?o(N,function(A){return new u([A|0],0>A?-1:0)}):new u([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return v;if(0>N)return $(p(-N));for(var A=[],R=1,O=0;N>=R;O++)A[O]=N/R|0,R*=4294967296;return new u(A,0)}function m(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return $(m(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(A,8)),O=v,k=0;k<N.length;k+=8){var D=Math.min(8,N.length-k),b=parseInt(N.substring(k,k+D),A);8>D?(D=p(Math.pow(A,D)),O=O.j(D).add(p(b))):(O=O.j(R),O=O.add(p(b)))}return O}var v=f(0),E=f(1),C=f(16777216);t=u.prototype,t.m=function(){if(q(this))return-$(this).m();for(var N=0,A=1,R=0;R<this.g.length;R++){var O=this.i(R);N+=(0<=O?O:4294967296+O)*A,A*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(V(this))return"0";if(q(this))return"-"+$(this).toString(N);for(var A=p(Math.pow(N,6)),R=this,O="";;){var k=pe(R,A).g;R=z(R,k.j(A));var D=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=k,V(R))return D+O;for(;6>D.length;)D="0"+D;O=D+O}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function V(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function q(N){return N.h==-1}t.l=function(N){return N=z(this,N),q(N)?-1:V(N)?0:1};function $(N){for(var A=N.g.length,R=[],O=0;O<A;O++)R[O]=~N.g[O];return new u(R,~N.h).add(E)}t.abs=function(){return q(this)?$(this):this},t.add=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],O=0,k=0;k<=A;k++){var D=O+(this.i(k)&65535)+(N.i(k)&65535),b=(D>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);O=b>>>16,D&=65535,b&=65535,R[k]=b<<16|D}return new u(R,R[R.length-1]&-2147483648?-1:0)};function z(N,A){return N.add($(A))}t.j=function(N){if(V(this)||V(N))return v;if(q(this))return q(N)?$(this).j($(N)):$($(this).j(N));if(q(N))return $(this.j($(N)));if(0>this.l(C)&&0>N.l(C))return p(this.m()*N.m());for(var A=this.g.length+N.g.length,R=[],O=0;O<2*A;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<N.g.length;k++){var D=this.i(O)>>>16,b=this.i(O)&65535,ht=N.i(k)>>>16,Ct=N.i(k)&65535;R[2*O+2*k]+=b*Ct,te(R,2*O+2*k),R[2*O+2*k+1]+=D*Ct,te(R,2*O+2*k+1),R[2*O+2*k+1]+=b*ht,te(R,2*O+2*k+1),R[2*O+2*k+2]+=D*ht,te(R,2*O+2*k+2)}for(O=0;O<A;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=A;O<2*A;O++)R[O]=0;return new u(R,0)};function te(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function ne(N,A){this.g=N,this.h=A}function pe(N,A){if(V(A))throw Error("division by zero");if(V(N))return new ne(v,v);if(q(N))return A=pe($(N),A),new ne($(A.g),$(A.h));if(q(A))return A=pe(N,$(A)),new ne($(A.g),A.h);if(30<N.g.length){if(q(N)||q(A))throw Error("slowDivide_ only works with positive integers.");for(var R=E,O=A;0>=O.l(N);)R=ge(R),O=ge(O);var k=ue(R,1),D=ue(O,1);for(O=ue(O,2),R=ue(R,2);!V(O);){var b=D.add(O);0>=b.l(N)&&(k=k.add(R),D=b),O=ue(O,1),R=ue(R,1)}return A=z(N,k.j(A)),new ne(k,A)}for(k=v;0<=N.l(A);){for(R=Math.max(1,Math.floor(N.m()/A.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),D=p(R),b=D.j(A);q(b)||0<b.l(N);)R-=O,D=p(R),b=D.j(A);V(D)&&(D=E),k=k.add(D),N=z(N,b)}return new ne(k,N)}t.A=function(N){return pe(this,N).h},t.and=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)&N.i(O);return new u(R,this.h&N.h)},t.or=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)|N.i(O);return new u(R,this.h|N.h)},t.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)^N.i(O);return new u(R,this.h^N.h)};function ge(N){for(var A=N.g.length+1,R=[],O=0;O<A;O++)R[O]=N.i(O)<<1|N.i(O-1)>>>31;return new u(R,N.h)}function ue(N,A){var R=A>>5;A%=32;for(var O=N.g.length-R,k=[],D=0;D<O;D++)k[D]=0<A?N.i(D+R)>>>A|N.i(D+R+1)<<32-A:N.i(D+R);return new u(k,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,VE=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=m,to=u}).apply(typeof Vy<"u"?Vy:typeof self<"u"?self:typeof window<"u"?window:{});var xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FE,UE,cu,BE,$l,ip,$E,qE,HE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,_){return c==Array.prototype||c==Object.prototype||(c[d]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof xl=="object"&&xl];for(var d=0;d<c.length;++d){var _=c[d];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var _=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var U=c[I];if(!(U in _))break e;_=_[U]}c=c[c.length-1],I=_[c],d=d(I),d!=I&&d!=null&&e(_,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var _=0,I=!1,U={next:function(){if(!I&&_<c.length){var W=_++;return{value:d(W,c[W]),done:!1}}return I=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function p(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function m(c,d,_){return c.call.apply(c.bind,arguments)}function v(c,d,_){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,I),c.apply(d,U)}}return function(){return c.apply(d,arguments)}}function E(c,d,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,E.apply(null,arguments)}function C(c,d){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function V(c,d){function _(){}_.prototype=d.prototype,c.aa=d.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(I,U,W){for(var ae=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)ae[ut-2]=arguments[ut];return d.prototype[U].apply(I,ae)}}function q(c){const d=c.length;if(0<d){const _=Array(d);for(let I=0;I<d;I++)_[I]=c[I];return _}return[]}function $(c,d){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(f(I)){const U=c.length||0,W=I.length||0;c.length=U+W;for(let ae=0;ae<W;ae++)c[U+ae]=I[ae]}else c.push(I)}}class z{constructor(d,_){this.i=d,this.j=_,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function te(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var ge=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function ue(c,d,_){for(const I in c)d.call(_,c[I],I,c)}function N(c,d){for(const _ in c)d.call(void 0,c[_],_,c)}function A(c){const d={};for(const _ in c)d[_]=c[_];return d}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,d){let _,I;for(let U=1;U<arguments.length;U++){I=arguments[U];for(_ in I)c[_]=I[_];for(let W=0;W<R.length;W++)_=R[W],Object.prototype.hasOwnProperty.call(I,_)&&(c[_]=I[_])}}function k(c){var d=1;c=c.split(":");const _=[];for(;0<d&&c.length;)_.push(c.shift()),d--;return c.length&&_.push(c.join(":")),_}function D(c){h.setTimeout(()=>{throw c},0)}function b(){var c=xn;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class ht{constructor(){this.h=this.g=null}add(d,_){const I=Ct.get();I.set(d,_),this.h?this.h.next=I:this.g=I,this.h=I}}var Ct=new z(()=>new Ge,c=>c.reset());class Ge{constructor(){this.next=this.g=this.h=null}set(d,_){this.h=d,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,ke=!1,xn=new ht,yn=()=>{const c=h.Promise.resolve(void 0);Be=()=>{c.then(Pt)}};var Pt=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(_){D(_)}var d=Ct;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ke=!1};function Et(){this.s=this.s,this.C=this.C}Et.prototype.s=!1,Et.prototype.ma=function(){this.s||(this.s=!0,this.N())},Et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function wt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}wt.prototype.h=function(){this.defaultPrevented=!0};var Cr=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,d),h.removeEventListener("test",_,d)}catch{}return c}();function cn(c,d){if(wt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(ge){e:{try{pe(d.nodeName);var U=!0;break e}catch{}U=!1}U||(d=null)}}else _=="mouseover"?d=c.fromElement:_=="mouseout"&&(d=c.toElement);this.relatedTarget=d,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:xt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&cn.aa.h.call(this)}}V(cn,wt);var xt={2:"touch",3:"pen",4:"mouse"};cn.prototype.h=function(){cn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),de=0;function ce(c,d,_,I,U){this.listener=c,this.proxy=null,this.src=d,this.type=_,this.capture=!!I,this.ha=U,this.key=++de,this.da=this.fa=!1}function _e(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c){this.src=c,this.g={},this.h=0}je.prototype.add=function(c,d,_,I,U){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var ae=S(c,d,I,U);return-1<ae?(d=c[ae],_||(d.fa=!1)):(d=new ce(d,this.src,W,!!I,U),d.fa=_,c.push(d)),d};function it(c,d){var _=d.type;if(_ in c.g){var I=c.g[_],U=Array.prototype.indexOf.call(I,d,void 0),W;(W=0<=U)&&Array.prototype.splice.call(I,U,1),W&&(_e(d),c.g[_].length==0&&(delete c.g[_],c.h--))}}function S(c,d,_,I){for(var U=0;U<c.length;++U){var W=c[U];if(!W.da&&W.listener==d&&W.capture==!!_&&W.ha==I)return U}return-1}var x="closure_lm_"+(1e6*Math.random()|0),B={};function X(c,d,_,I,U){if(Array.isArray(d)){for(var W=0;W<d.length;W++)X(c,d[W],_,I,U);return null}return _=ve(_),c&&c[G]?c.K(d,_,p(I)?!!I.capture:!!I,U):j(c,d,_,!1,I,U)}function j(c,d,_,I,U,W){if(!d)throw Error("Invalid event type");var ae=p(U)?!!U.capture:!!U,ut=he(c);if(ut||(c[x]=ut=new je(c)),_=ut.add(d,_,I,ae,W),_.proxy)return _;if(I=oe(),_.proxy=I,I.src=c,I.listener=_,c.addEventListener)Cr||(U=ae),U===void 0&&(U=!1),c.addEventListener(d.toString(),I,U);else if(c.attachEvent)c.attachEvent(se(d.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function oe(){function c(_){return d.call(c.src,c.listener,_)}const d=ee;return c}function le(c,d,_,I,U){if(Array.isArray(d))for(var W=0;W<d.length;W++)le(c,d[W],_,I,U);else I=p(I)?!!I.capture:!!I,_=ve(_),c&&c[G]?(c=c.i,d=String(d).toString(),d in c.g&&(W=c.g[d],_=S(W,_,I,U),-1<_&&(_e(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete c.g[d],c.h--)))):c&&(c=he(c))&&(d=c.g[d.toString()],c=-1,d&&(c=S(d,_,I,U)),(_=-1<c?d[c]:null)&&ie(_))}function ie(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[G])it(d.i,c);else{var _=c.type,I=c.proxy;d.removeEventListener?d.removeEventListener(_,I,c.capture):d.detachEvent?d.detachEvent(se(_),I):d.addListener&&d.removeListener&&d.removeListener(I),(_=he(d))?(it(_,c),_.h==0&&(_.src=null,d[x]=null)):_e(c)}}}function se(c){return c in B?B[c]:B[c]="on"+c}function ee(c,d){if(c.da)c=!0;else{d=new cn(d,this);var _=c.listener,I=c.ha||c.src;c.fa&&ie(c),c=_.call(I,d)}return c}function he(c){return c=c[x],c instanceof je?c:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function ve(c){return typeof c=="function"?c:(c[Ae]||(c[Ae]=function(d){return c.handleEvent(d)}),c[Ae])}function Ee(){Et.call(this),this.i=new je(this),this.M=this,this.F=null}V(Ee,Et),Ee.prototype[G]=!0,Ee.prototype.removeEventListener=function(c,d,_,I){le(this,c,d,_,I)};function Te(c,d){var _,I=c.F;if(I)for(_=[];I;I=I.F)_.push(I);if(c=c.M,I=d.type||d,typeof d=="string")d=new wt(d,c);else if(d instanceof wt)d.target=d.target||c;else{var U=d;d=new wt(I,c),O(d,U)}if(U=!0,_)for(var W=_.length-1;0<=W;W--){var ae=d.g=_[W];U=He(ae,I,!0,d)&&U}if(ae=d.g=c,U=He(ae,I,!0,d)&&U,U=He(ae,I,!1,d)&&U,_)for(W=0;W<_.length;W++)ae=d.g=_[W],U=He(ae,I,!1,d)&&U}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var _=c.g[d],I=0;I<_.length;I++)_e(_[I]);delete c.g[d],c.h--}}this.F=null},Ee.prototype.K=function(c,d,_,I){return this.i.add(String(c),d,!1,_,I)},Ee.prototype.L=function(c,d,_,I){return this.i.add(String(c),d,!0,_,I)};function He(c,d,_,I){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var U=!0,W=0;W<d.length;++W){var ae=d[W];if(ae&&!ae.da&&ae.capture==_){var ut=ae.listener,Qt=ae.ha||ae.src;ae.fa&&it(c.i,ae),U=ut.call(Qt,I)!==!1&&U}}return U&&!I.defaultPrevented}function ot(c,d,_){if(typeof c=="function")_&&(c=E(c,_));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:h.setTimeout(c,d||0)}function It(c){c.g=ot(()=>{c.g=null,c.i&&(c.i=!1,It(c))},c.l);const d=c.h;c.h=null,c.m.apply(null,d)}class ln extends Et{constructor(d,_){super(),this.m=d,this.l=_,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:It(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vn(c){Et.call(this),this.h=c,this.g={}}V(vn,Et);var Kr=[];function er(c){ue(c.g,function(d,_){this.g.hasOwnProperty(_)&&ie(d)},c),c.g={}}vn.prototype.N=function(){vn.aa.N.call(this),er(this)},vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pr=h.JSON.stringify,zt=h.JSON.parse,En=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Ii(){}Ii.prototype.h=null;function cc(c){return c.h||(c.h=c.i())}function lc(){}var Ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _o(){wt.call(this,"d")}V(_o,wt);function wa(){wt.call(this,"c")}V(wa,wt);var Gr={},hc=null;function yo(){return hc=hc||new Ee}Gr.La="serverreachability";function Ia(c){wt.call(this,Gr.La,c)}V(Ia,wt);function ys(c){const d=yo();Te(d,new Ia(d))}Gr.STAT_EVENT="statevent";function fc(c,d){wt.call(this,Gr.STAT_EVENT,c),this.stat=d}V(fc,wt);function hn(c){const d=yo();Te(d,new fc(d,c))}Gr.Ma="timingevent";function vo(c,d){wt.call(this,Gr.Ma,c),this.size=d}V(vo,wt);function vs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},d)}function zr(){this.g=!0}zr.prototype.xa=function(){this.g=!1};function tf(c,d,_,I,U,W){c.info(function(){if(c.g)if(W)for(var ae="",ut=W.split("&"),Qt=0;Qt<ut.length;Qt++){var Je=ut[Qt].split("=");if(1<Je.length){var ft=Je[0];Je=Je[1];var $t=ft.split("_");ae=2<=$t.length&&$t[1]=="type"?ae+(ft+"="+Je+"&"):ae+(ft+"=redacted&")}}else ae=null;else ae=W;return"XMLHTTP REQ ("+I+") [attempt "+U+"]: "+d+`
`+_+`
`+ae})}function nf(c,d,_,I,U,W,ae){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+U+"]: "+d+`
`+_+`
`+W+" "+ae})}function Ai(c,d,_,I){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+sf(c,_)+(I?" "+I:"")})}function rf(c,d){c.info(function(){return"TIMEOUT: "+d})}zr.prototype.info=function(){};function sf(c,d){if(!c.g)return d;if(!d)return null;try{var _=JSON.parse(d);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var I=_[c];if(!(2>I.length)){var U=I[1];if(Array.isArray(U)&&!(1>U.length)){var W=U[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ae=1;ae<U.length;ae++)U[ae]=""}}}}return Pr(_)}catch{return d}}var Eo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ta;function Es(){}V(Es,Ii),Es.prototype.g=function(){return new XMLHttpRequest},Es.prototype.i=function(){return{}},Ta=new Es;function xr(c,d,_,I){this.j=c,this.i=d,this.l=_,this.R=I||1,this.U=new vn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pc}function pc(){this.i=null,this.g="",this.h=!1}var gc={},Aa={};function Ra(c,d,_){c.L=1,c.v=Si(tr(d)),c.m=_,c.P=!0,mc(c,null)}function mc(c,d){c.F=Date.now(),Qr(c),c.A=tr(c.v);var _=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),Na(_.i,"t",I),c.C=0,_=c.j.J,c.h=new pc,c.g=Vc(c.j,_?d:null,!c.m),0<c.O&&(c.M=new ln(E(c.Y,c,c.g),c.O)),d=c.U,_=c.g,I=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Kr[0]=U.toString()),U=Kr);for(var W=0;W<U.length;W++){var ae=X(_,U[W],I||d.handleEvent,!1,d.h||d);if(!ae)break;d.g[ae.key]=ae}d=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ys(),tf(c.i,c.u,c.A,c.l,c.R,c.m)}xr.prototype.ca=function(c){c=c.target;const d=this.M;d&&fn(c)==3?d.j():this.Y(c)},xr.prototype.Y=function(c){try{if(c==this.g)e:{const $t=fn(this.g);var d=this.g.Ba();const sr=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||Ma(this.g)))){this.J||$t!=4||d==7||(d==8||0>=sr?ys(3):ys(2)),Sa(this);var _=this.g.Z();this.X=_;t:if(ws(this)){var I=Ma(this.g);c="";var U=I.length,W=fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Or(this),Is(this);var ae="";break t}this.h.i=new h.TextDecoder}for(d=0;d<U;d++)this.h.h=!0,c+=this.h.i.decode(I[d],{stream:!(W&&d==U-1)});I.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,nf(this.i,this.u,this.A,this.l,this.R,$t,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ut,Qt=this.g;if((ut=Qt.g?Qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(ut)){var Je=ut;break t}}Je=null}if(_=Je)Ai(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wo(this,_);else{this.o=!1,this.s=3,hn(12),Or(this),Is(this);break e}}if(this.P){_=!0;let Mn;for(;!this.J&&this.C<ae.length;)if(Mn=of(this,ae),Mn==Aa){$t==4&&(this.s=4,hn(14),_=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==gc){this.s=4,hn(15),Ai(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else Ai(this.i,this.l,Mn,null),wo(this,Mn);if(ws(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||ae.length!=0||this.h.h||(this.s=1,hn(16),_=!1),this.o=this.o&&_,!_)Ai(this.i,this.l,ae,"[Invalid Chunked Response]"),Or(this),Is(this);else if(0<ae.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),ir(ft),ft.M=!0,hn(11))}}else Ai(this.i,this.l,ae,null),wo(this,ae);$t==4&&Or(this),this.o&&!this.J&&($t==4?_t(this.j,this):(this.o=!1,Qr(this)))}else Va(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,hn(12)):(this.s=0,hn(13)),Or(this),Is(this)}}}catch{}finally{}};function ws(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function of(c,d){var _=c.C,I=d.indexOf(`
`,_);return I==-1?Aa:(_=Number(d.substring(_,I)),isNaN(_)?gc:(I+=1,I+_>d.length?Aa:(d=d.slice(I,I+_),c.C=I+_,d)))}xr.prototype.cancel=function(){this.J=!0,Or(this)};function Qr(c){c.S=Date.now()+c.I,_c(c,c.I)}function _c(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vs(E(c.ba,c),d)}function Sa(c){c.B&&(h.clearTimeout(c.B),c.B=null)}xr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(rf(this.i,this.A),this.L!=2&&(ys(),hn(17)),Or(this),this.s=2,Is(this)):_c(this,this.S-c)};function Is(c){c.j.G==0||c.J||_t(c.j,c)}function Or(c){Sa(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,er(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function wo(c,d){try{var _=c.j;if(_.G!=0&&(_.g==c||ba(_.h,c))){if(!c.K&&ba(_.h,c)&&_.G==3){try{var I=_.Da.g.parse(d)}catch{I=null}if(Array.isArray(I)&&I.length==3){var U=I;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Pi(_),Ss(_);else break e;So(_),hn(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=vs(E(_.Za,_),6e3));if(1>=wc(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else _r(_,11)}else if((c.K||_.g==c)&&Pi(_),!te(d))for(U=_.Da.g.parse(d),d=0;d<U.length;d++){let Je=U[d];if(_.T=Je[0],Je=Je[1],_.G==2)if(Je[0]=="c"){_.K=Je[1],_.ia=Je[2];const ft=Je[3];ft!=null&&(_.la=ft,_.j.info("VER="+_.la));const $t=Je[4];$t!=null&&(_.Aa=$t,_.j.info("SVER="+_.Aa));const sr=Je[5];sr!=null&&typeof sr=="number"&&0<sr&&(I=1.5*sr,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const Mn=c.g;if(Mn){const Os=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Os){var W=I.h;W.g||Os.indexOf("spdy")==-1&&Os.indexOf("quic")==-1&&Os.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Io(W,W.h),W.h=null))}if(I.D){const Ba=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(I.ya=Ba,mt(I.I,I.D,Ba))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var ae=c;if(I.qa=bo(I,I.J?I.ia:null,I.W),ae.K){Ca(I.h,ae);var ut=ae,Qt=I.L;Qt&&(ut.I=Qt),ut.B&&(Sa(ut),Qr(ut)),I.g=ae}else Lc(I);0<_.i.length&&bs(_)}else Je[0]!="stop"&&Je[0]!="close"||_r(_,7);else _.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?_r(_,7):Ro(_):Je[0]!="noop"&&_.l&&_.l.ta(Je),_.v=0)}}ys(4)}catch{}}var yc=class{constructor(c,d){this.g=c,this.map=d}};function vc(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ec(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wc(c){return c.h?1:c.g?c.g.size:0}function ba(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Io(c,d){c.g?c.g.add(d):c.h=d}function Ca(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}vc.prototype.cancel=function(){if(this.i=Pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Pa(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(const _ of c.g.values())d=d.concat(_.D);return d}return q(c.i)}function xa(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var d=[],_=c.length,I=0;I<_;I++)d.push(c[I]);return d}d=[],_=0;for(I in c)d[_++]=c[I];return d}function af(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var d=[];c=c.length;for(var _=0;_<c;_++)d.push(_);return d}d=[],_=0;for(const I in c)d[_++]=I;return d}}}function Oa(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var _=af(c),I=xa(c),U=I.length,W=0;W<U;W++)d.call(void 0,I[W],_&&_[W],c)}var Ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ic(c,d){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var I=c[_].indexOf("="),U=null;if(0<=I){var W=c[_].substring(0,I);U=c[_].substring(I+1)}else W=c[_];d(W,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Yr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Yr){this.h=c.h,As(this,c.j),this.o=c.o,this.g=c.g,Ri(this,c.s),this.l=c.l;var d=c.i,_=new bi;_.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),Tc(this,_),this.m=c.m}else c&&(d=String(c).match(Ts))?(this.h=!1,As(this,d[1]||"",!0),this.o=Xr(d[2]||""),this.g=Xr(d[3]||"",!0),Ri(this,d[4]),this.l=Xr(d[5]||"",!0),Tc(this,d[6]||"",!0),this.m=Xr(d[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}Yr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(nr(d,Da,!0),":");var _=this.g;return(_||d=="file")&&(c.push("//"),(d=this.o)&&c.push(nr(d,Da,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(nr(_,_.charAt(0)=="/"?Rc:uf,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",nr(_,bc)),c.join("")};function tr(c){return new Yr(c)}function As(c,d,_){c.j=_?Xr(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Ri(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Tc(c,d,_){d instanceof bi?(c.i=d,cf(c.i,c.h)):(_||(d=nr(d,Sc)),c.i=new bi(d,c.h))}function mt(c,d,_){c.i.set(d,_)}function Si(c){return mt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Xr(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function nr(c,d,_){return typeof c=="string"?(c=encodeURI(c).replace(d,Ac),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ac(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Da=/[#\/\?@]/g,uf=/[#\?:]/g,Rc=/[#\?]/g,Sc=/[#\?@]/g,bc=/#/g;function bi(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Dr(c){c.g||(c.g=new Map,c.h=0,c.i&&Ic(c.i,function(d,_){c.add(decodeURIComponent(d.replace(/\+/g," ")),_)}))}t=bi.prototype,t.add=function(c,d){Dr(this),this.i=null,c=Ci(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(d),this.h+=1,this};function Cc(c,d){Dr(c),d=Ci(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Pc(c,d){return Dr(c),d=Ci(c,d),c.g.has(d)}t.forEach=function(c,d){Dr(this),this.g.forEach(function(_,I){_.forEach(function(U){c.call(d,U,I,this)},this)},this)},t.na=function(){Dr(this);const c=Array.from(this.g.values()),d=Array.from(this.g.keys()),_=[];for(let I=0;I<d.length;I++){const U=c[I];for(let W=0;W<U.length;W++)_.push(d[I])}return _},t.V=function(c){Dr(this);let d=[];if(typeof c=="string")Pc(this,c)&&(d=d.concat(this.g.get(Ci(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)d=d.concat(c[_])}return d},t.set=function(c,d){return Dr(this),this.i=null,c=Ci(this,c),Pc(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Na(c,d,_){Cc(c,d),0<_.length&&(c.i=null,c.g.set(Ci(c,d),q(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],d=Array.from(this.g.keys());for(var _=0;_<d.length;_++){var I=d[_];const W=encodeURIComponent(String(I)),ae=this.V(I);for(I=0;I<ae.length;I++){var U=W;ae[I]!==""&&(U+="="+encodeURIComponent(String(ae[I]))),c.push(U)}}return this.i=c.join("&")};function Ci(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function cf(c,d){d&&!c.j&&(Dr(c),c.i=null,c.g.forEach(function(_,I){var U=I.toLowerCase();I!=U&&(Cc(this,I),Na(this,U,_))},c)),c.j=d}function lf(c,d){const _=new zr;if(h.Image){const I=new Image;I.onload=C(rr,_,"TestLoadImage: loaded",!0,d,I),I.onerror=C(rr,_,"TestLoadImage: error",!1,d,I),I.onabort=C(rr,_,"TestLoadImage: abort",!1,d,I),I.ontimeout=C(rr,_,"TestLoadImage: timeout",!1,d,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else d(!1)}function hf(c,d){const _=new zr,I=new AbortController,U=setTimeout(()=>{I.abort(),rr(_,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:I.signal}).then(W=>{clearTimeout(U),W.ok?rr(_,"TestPingServer: ok",!0,d):rr(_,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(U),rr(_,"TestPingServer: error",!1,d)})}function rr(c,d,_,I,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),I(_)}catch{}}function ff(){this.g=new En}function df(c,d,_){const I=_||"";try{Oa(c,function(U,W){let ae=U;p(U)&&(ae=Pr(U)),d.push(I+W+"="+encodeURIComponent(ae))})}catch(U){throw d.push(I+"type="+encodeURIComponent("_badmap")),U}}function Rs(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Rs,Ii),Rs.prototype.g=function(){return new To(this.l,this.j)},Rs.prototype.i=function(c){return function(){return c}}({});function To(c,d){Ee.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(To,Ee),t=To.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,st(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||h).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,at(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,st(this)),this.g&&(this.readyState=3,st(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xc(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function xc(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?at(this):st(this),this.readyState==3&&xc(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,at(this))},t.Qa=function(c){this.g&&(this.response=c,at(this))},t.ga=function(){this.g&&at(this)};function at(c){c.readyState=4,c.l=null,c.j=null,c.v=null,st(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],d=this.h.entries();for(var _=d.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=d.next();return c.join(`\r
`)};function st(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(To.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Oc(c){let d="";return ue(c,function(_,I){d+=I,d+=":",d+=_,d+=`\r
`}),d}function ka(c,d,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=Oc(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):mt(c,d,_))}function St(c){Ee.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(St,Ee);var pf=/^https?$/i,gf=["POST","PUT"];t=St.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ta.g(),this.v=this.o?cc(this.o):cc(Ta),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(W){Dc(this,W);return}if(c=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var U in I)_.set(U,I[U]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const W of I.keys())_.set(W,I.get(W));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),U=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(gf,d,void 0))||I||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ae]of _)this.g.setRequestHeader(W,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ao(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){Dc(this,W)}};function Dc(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,La(c),Nt(c)}function La(c){c.A||(c.A=!0,Te(c,"complete"),Te(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Te(this,"complete"),Te(this,"abort"),Nt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nt(this,!0)),St.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Nc(this):this.bb())},t.bb=function(){Nc(this)};function Nc(c){if(c.h&&typeof u<"u"&&(!c.v[1]||fn(c)!=4||c.Z()!=2)){if(c.u&&fn(c)==4)ot(c.Ea,0,c);else if(Te(c,"readystatechange"),fn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var _;if(!(_=d)){var I;if(I=ae===0){var U=String(c.D).match(Ts)[1]||null;!U&&h.self&&h.self.location&&(U=h.self.location.protocol.slice(0,-1)),I=!pf.test(U?U.toLowerCase():"")}_=I}if(_)Te(c,"complete"),Te(c,"success");else{c.m=6;try{var W=2<fn(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",La(c)}}finally{Nt(c)}}}}function Nt(c,d){if(c.g){Ao(c);const _=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Te(c,"ready");try{_.onreadystatechange=I}catch{}}}function Ao(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function fn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),zt(d)}};function Ma(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Va(c){const d={};c=(c.g&&2<=fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(te(c[I]))continue;var _=k(c[I]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=d[U]||[];d[U]=W,W.push(_)}N(d,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function tn(c,d,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||d}function Fa(c){this.Aa=0,this.i=[],this.j=new zr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tn("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tn("baseRetryDelayMs",5e3,c),this.cb=tn("retryDelaySeedMs",1e4,c),this.Wa=tn("forwardChannelMaxRetries",2,c),this.wa=tn("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vc(c&&c.concurrentRequestLimit),this.Da=new ff,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Fa.prototype,t.la=8,t.G=1,t.connect=function(c,d,_,I){hn(0),this.W=c,this.H=d||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=bo(this,null,this.W),bs(this)};function Ro(c){if(Ua(c),c.G==3){var d=c.U++,_=tr(c.I);if(mt(_,"SID",c.K),mt(_,"RID",d),mt(_,"TYPE","terminate"),Cs(c,_),d=new xr(c,c.j,d),d.L=2,d.v=Si(tr(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(d.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=d.v,_=!0),_||(d.g=Vc(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Qr(d)}Mc(c)}function Ss(c){c.g&&(ir(c),c.g.cancel(),c.g=null)}function Ua(c){Ss(c),c.u&&(h.clearTimeout(c.u),c.u=null),Pi(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function bs(c){if(!Ec(c.h)&&!c.s){c.s=!0;var d=c.Ga;Be||yn(),ke||(Be(),ke=!0),xn.add(d,c),c.B=0}}function kc(c,d){return wc(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vs(E(c.Ga,c,d),mr(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new xr(this,this.j,c);let W=this.o;if(this.S&&(W?(W=A(W),O(W,this.S)):W=this.S),this.m!==null||this.O||(U.H=W,W=null),this.P)e:{for(var d=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(d+=I,4096<d){d=_;break e}if(d===4096||_===this.i.length-1){d=_+1;break e}}d=1e3}else d=1e3;d=On(this,U,d),_=tr(this.I),mt(_,"RID",c),mt(_,"CVER",22),this.D&&mt(_,"X-HTTP-Session-Id",this.D),Cs(this,_),W&&(this.O?d="headers="+encodeURIComponent(String(Oc(W)))+"&"+d:this.m&&ka(_,this.m,W)),Io(this.h,U),this.Ua&&mt(_,"TYPE","init"),this.P?(mt(_,"$req",d),mt(_,"SID","null"),U.T=!0,Ra(U,_,null)):Ra(U,_,d),this.G=2}}else this.G==3&&(c?wn(this,c):this.i.length==0||Ec(this.h)||wn(this))};function wn(c,d){var _;d?_=d.l:_=c.U++;const I=tr(c.I);mt(I,"SID",c.K),mt(I,"RID",_),mt(I,"AID",c.T),Cs(c,I),c.m&&c.o&&ka(I,c.m,c.o),_=new xr(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),d&&(c.i=d.D.concat(c.i)),d=On(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Io(c.h,_),Ra(_,I,d)}function Cs(c,d){c.H&&ue(c.H,function(_,I){mt(d,I,_)}),c.l&&Oa({},function(_,I){mt(d,I,_)})}function On(c,d,_){_=Math.min(c.i.length,_);var I=c.l?E(c.l.Na,c.l,c):null;e:{var U=c.i;let W=-1;for(;;){const ae=["count="+_];W==-1?0<_?(W=U[0].g,ae.push("ofs="+W)):W=0:ae.push("ofs="+W);let ut=!0;for(let Qt=0;Qt<_;Qt++){let Je=U[Qt].g;const ft=U[Qt].map;if(Je-=W,0>Je)W=Math.max(0,U[Qt].g-100),ut=!1;else try{df(ft,ae,"req"+Je+"_")}catch{I&&I(ft)}}if(ut){I=ae.join("&");break e}}}return c=c.i.splice(0,_),d.D=c,I}function Lc(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Be||yn(),ke||(Be(),ke=!0),xn.add(d,c),c.v=0}}function So(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vs(E(c.Fa,c),mr(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Ps(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vs(E(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hn(10),Ss(this),Ps(this))};function ir(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function Ps(c){c.g=new xr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=tr(c.qa);mt(d,"RID","rpc"),mt(d,"SID",c.K),mt(d,"AID",c.T),mt(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&mt(d,"TO",c.ja),mt(d,"TYPE","xmlhttp"),Cs(c,d),c.m&&c.o&&ka(d,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Si(tr(d)),_.m=null,_.P=!0,mc(_,c)}t.Za=function(){this.C!=null&&(this.C=null,Ss(this),So(this),hn(19))};function Pi(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function _t(c,d){var _=null;if(c.g==d){Pi(c),ir(c),c.g=null;var I=2}else if(ba(c.h,d))_=d.D,Ca(c.h,d),I=1;else return;if(c.G!=0){if(d.o)if(I==1){_=d.m?d.m.length:0,d=Date.now()-d.F;var U=c.B;I=yo(),Te(I,new vo(I,_)),bs(c)}else Lc(c);else if(U=d.s,U==3||U==0&&0<d.X||!(I==1&&kc(c,d)||I==2&&So(c)))switch(_&&0<_.length&&(d=c.h,d.i=d.i.concat(_)),U){case 1:_r(c,5);break;case 4:_r(c,10);break;case 3:_r(c,6);break;default:_r(c,2)}}}function mr(c,d){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*d}function _r(c,d){if(c.j.info("Error code "+d),d==2){var _=E(c.fb,c),I=c.Xa;const U=!I;I=new Yr(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||As(I,"https"),Si(I),U?lf(I.toString(),_):hf(I.toString(),_)}else hn(2);c.G=0,c.l&&c.l.sa(d),Mc(c),Ua(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function Mc(c){if(c.G=0,c.ka=[],c.l){const d=Pa(c.h);(d.length!=0||c.i.length!=0)&&($(c.ka,d),$(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function bo(c,d,_){var I=_ instanceof Yr?tr(_):new Yr(_);if(I.g!="")d&&(I.g=d+"."+I.g),Ri(I,I.s);else{var U=h.location;I=U.protocol,d=d?d+"."+U.hostname:U.hostname,U=+U.port;var W=new Yr(null);I&&As(W,I),d&&(W.g=d),U&&Ri(W,U),_&&(W.l=_),I=W}return _=c.D,d=c.ya,_&&d&&mt(I,_,d),mt(I,"VER",c.la),Cs(c,I),I}function Vc(c,d,_){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new St(new Rs({eb:_})):new St(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fc(){}t=Fc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Co(){}Co.prototype.g=function(c,d){return new In(c,d)};function In(c,d){Ee.call(this),this.g=new Fa(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!te(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!te(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new xi(this)}V(In,Ee),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){Ro(this.g)},In.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Pr(c),c=_);d.i.push(new yc(d.Ya++,c)),d.G==3&&bs(d)},In.prototype.N=function(){this.g.l=null,delete this.j,Ro(this.g),delete this.g,In.aa.N.call(this)};function xs(c){_o.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(const _ in d){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}V(xs,_o);function Jr(){wa.call(this),this.status=1}V(Jr,wa);function xi(c){this.g=c}V(xi,Fc),xi.prototype.ua=function(){Te(this.g,"a")},xi.prototype.ta=function(c){Te(this.g,new xs(c))},xi.prototype.sa=function(c){Te(this.g,new Jr)},xi.prototype.ra=function(){Te(this.g,"b")},Co.prototype.createWebChannel=Co.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,HE=function(){return new Co},qE=function(){return yo()},$E=Gr,ip={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Eo.NO_ERROR=0,Eo.TIMEOUT=8,Eo.HTTP_ERROR=6,$l=Eo,dc.COMPLETE="complete",BE=dc,lc.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,cu=lc,UE=Rs,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,FE=St}).apply(typeof xl<"u"?xl:typeof self<"u"?self:typeof window<"u"?window:{});const Fy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new zp("@firebase/firestore");function nu(){return so.logLevel}function we(t,...e){if(so.logLevel<=et.DEBUG){const n=e.map(Xp);so.debug(`Firestore (${ga}): ${t}`,...n)}}function gi(t,...e){if(so.logLevel<=et.ERROR){const n=e.map(Xp);so.error(`Firestore (${ga}): ${t}`,...n)}}function ra(t,...e){if(so.logLevel<=et.WARN){const n=e.map(Xp);so.warn(`Firestore (${ga}): ${t}`,...n)}}function Xp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t="Unexpected state"){const e=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: `+t;throw gi(e),new Error(e)}function vt(t,e){t||Ne()}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Sn.UNAUTHENTICATED))}shutdown(){}}class jD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class KD{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new no;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new no,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},h=f=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new no)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt(typeof r.accessToken=="string"),new WE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string"),new Sn(e)}}class GD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new GD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,we("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(vt(typeof n.token=="string"),this.R=n.token,new QD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=XD(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function lt(t,e){return t<e?-1:t>e?1:0}function ia(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ye(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Zt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Zt(0,0))}static max(){return new Me(new Zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(),r===void 0?r=e.length-n:r>e.length-n&&Ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),u=n.get(i);if(o<u)return-1;if(o>u)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class At extends Mu{construct(e,n,r){return new At(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new At(n)}static emptyPath(){return new At([])}}const JD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends Mu{construct(e,n,r){return new gn(e,n,r)}static isValidIdentifier(e){return JD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new gn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ye(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new ye(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ye(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(r+=h,i++):(o(),i++)}if(o(),u)throw new ye(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(n)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(At.fromString(e))}static fromName(e){return new Re(At.fromString(e).popFirst(5))}static empty(){return new Re(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new At(e.slice()))}}function ZD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(r===1e9?new Zt(n+1,0):new Zt(n,r));return new ls(i,Re.empty(),e)}function eN(t){return new ls(t.readTime,t.key,-1)}class ls{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ls(Me.min(),Re.empty(),-1)}static max(){return new ls(Me.max(),Re.empty(),-1)}}function tN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:lt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==nN)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let i=0,o=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++o,u&&o===i&&n()},f=>r(f))}),u=!0,o===i&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(i=>i?re.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new re((r,i)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const p=f;n(e[p]).next(m=>{u[p]=m,++h,h===o&&r(u)},m=>i(m))}})}static doWhile(e,n){return new re((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function iN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ju(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Jp.oe=-1;function Mh(t){return t==null}function sh(t){return t===0&&1/t==-1/0}function sN(t){return typeof t=="number"&&Number.isInteger(t)&&!sh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ol(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ol(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ol(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ol(this.root,e,this.comparator,!0)}}class Ol{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??pn.RED,this.left=i??pn.EMPTY,this.right=o??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new pn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,n,r,i,o){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new By(this.data.getIterator())}getIteratorFrom(e){return new By(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mn(this.comparator);return n.data=e,n}}class By{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new mn(gn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new GE("Invalid base64 string: "+o):o}}(e);return new Pn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new Pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const oN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(t){if(vt(!!t),typeof t=="string"){let e=0;const n=oN.exec(t);if(vt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oo(t){return typeof t=="string"?Pn.fromBase64String(t):Pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function eg(t){const e=t.mapValue.fields.__previous_value__;return Zp(e)?eg(e):e}function Vu(t){const e=hs(t.mapValue.fields.__local_write_time__.timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n,r,i,o,u,h,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p}}class Fu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ao(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zp(t)?4:uN(t)?9007199254740991:10:Ne()}function jr(t,e){if(t===e)return!0;const n=ao(t);if(n!==ao(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vu(t).isEqual(Vu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=hs(i.timestampValue),h=hs(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return oo(i.bytesValue).isEqual(oo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ht(i.geoPointValue.latitude)===Ht(o.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ht(i.integerValue)===Ht(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=Ht(i.doubleValue),h=Ht(o.doubleValue);return u===h?sh(u)===sh(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return ia(t.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:return function(i,o){const u=i.mapValue.fields||{},h=o.mapValue.fields||{};if(Uy(u)!==Uy(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!jr(u[f],h[f])))return!1;return!0}(t,e);default:return Ne()}}function Uu(t,e){return(t.values||[]).find(n=>jr(n,e))!==void 0}function sa(t,e){if(t===e)return 0;const n=ao(t),r=ao(e);if(n!==r)return lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(t.booleanValue,e.booleanValue);case 2:return function(o,u){const h=Ht(o.integerValue||o.doubleValue),f=Ht(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(t,e);case 3:return $y(t.timestampValue,e.timestampValue);case 4:return $y(Vu(t),Vu(e));case 5:return lt(t.stringValue,e.stringValue);case 6:return function(o,u){const h=oo(o),f=oo(u);return h.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const m=lt(h[p],f[p]);if(m!==0)return m}return lt(h.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){const h=lt(Ht(o.latitude),Ht(u.latitude));return h!==0?h:lt(Ht(o.longitude),Ht(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,u){const h=o.values||[],f=u.values||[];for(let p=0;p<h.length&&p<f.length;++p){const m=sa(h[p],f[p]);if(m)return m}return lt(h.length,f.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===Dl.mapValue&&u===Dl.mapValue)return 0;if(o===Dl.mapValue)return 1;if(u===Dl.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),p=u.fields||{},m=Object.keys(p);f.sort(),m.sort();for(let v=0;v<f.length&&v<m.length;++v){const E=lt(f[v],m[v]);if(E!==0)return E;const C=sa(h[f[v]],p[m[v]]);if(C!==0)return C}return lt(f.length,m.length)}(t.mapValue,e.mapValue);default:throw Ne()}}function $y(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return lt(t,e);const n=hs(t),r=hs(e),i=lt(n.seconds,r.seconds);return i!==0?i:lt(n.nanos,r.nanos)}function oa(t){return sp(t)}function sp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=hs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return oo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=sp(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const u of r)o?o=!1:i+=",",i+=`${u}:${sp(n.fields[u])}`;return i+"}"}(t.mapValue):Ne()}function qy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function op(t){return!!t&&"integerValue"in t}function tg(t){return!!t&&"arrayValue"in t}function Hy(t){return!!t&&"nullValue"in t}function Wy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ql(t){return!!t&&"mapValue"in t}function vu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ql(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vu(n)}setAll(e){let n=gn.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=h.popLast()}u?r[h.lastSegment()]=vu(u):i.push(h.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());ql(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ql(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Hn(vu(this.value))}}function zE(t){const e=[];return fo(t.fields,(n,r)=>{const i=new gn([n]);if(ql(r)){const o=zE(r.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,r,i,o,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new bn(e,0,Me.min(),Me.min(),Me.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,i){return new bn(e,1,n,Me.min(),r,i,0)}static newNoDocument(e,n){return new bn(e,2,n,Me.min(),Me.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new bn(e,3,n,Me.min(),Me.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.position=e,this.inclusive=n}}function jy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],u=t.position[i];if(o.field.isKeyField()?r=Re.comparator(Re.fromName(u.referenceValue),n.key):r=sa(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ky(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n="asc"){this.field=e,this.dir=n}}function cN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{}class jt extends QE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hN(e,n,r):n==="array-contains"?new pN(e,r):n==="in"?new gN(e,r):n==="not-in"?new mN(e,r):n==="array-contains-any"?new _N(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fN(e,r):new dN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(sa(n,this.value)):n!==null&&ao(this.value)===ao(n)&&this.matchesComparison(sa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends QE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ar(e,n)}matches(e){return YE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function YE(t){return t.op==="and"}function XE(t){return lN(t)&&YE(t)}function lN(t){for(const e of t.filters)if(e instanceof Ar)return!1;return!0}function ap(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+oa(t.value);if(XE(t))return t.filters.map(e=>ap(e)).join(",");{const e=t.filters.map(n=>ap(n)).join(",");return`${t.op}(${e})`}}function JE(t,e){return t instanceof jt?function(r,i){return i instanceof jt&&r.op===i.op&&r.field.isEqual(i.field)&&jr(r.value,i.value)}(t,e):t instanceof Ar?function(r,i){return i instanceof Ar&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,u,h)=>o&&JE(u,i.filters[h]),!0):!1}(t,e):void Ne()}function ZE(t){return t instanceof jt?function(n){return`${n.field.canonicalString()} ${n.op} ${oa(n.value)}`}(t):t instanceof Ar?function(n){return n.op.toString()+" {"+n.getFilters().map(ZE).join(" ,")+"}"}(t):"Filter"}class hN extends jt{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class fN extends jt{constructor(e,n){super(e,"in",n),this.keys=ew("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dN extends jt{constructor(e,n){super(e,"not-in",n),this.keys=ew("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ew(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Re.fromName(r.referenceValue))}class pN extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tg(n)&&Uu(n.arrayValue,this.value)}}class gN extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uu(this.value.arrayValue,n)}}class mN extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Uu(this.value.arrayValue,n)}}class _N extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Uu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n=null,r=[],i=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=h,this.ue=null}}function Gy(t,e=null,n=[],r=[],i=null,o=null,u=null){return new yN(t,e,n,r,i,o,u)}function ng(t){const e=Ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ap(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Mh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oa(r)).join(",")),e.ue=n}return e.ue}function rg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ky(t.startAt,e.startAt)&&Ky(t.endAt,e.endAt)}function up(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n=null,r=[],i=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function vN(t,e,n,r,i,o,u,h){return new ma(t,e,n,r,i,o,u,h)}function ig(t){return new ma(t)}function zy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tw(t){return t.collectionGroup!==null}function Eu(t){const e=Ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new mn(gn.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Bu(o,r))}),n.has(gn.keyField().canonicalString())||e.ce.push(new Bu(gn.keyField(),r))}return e.ce}function Br(t){const e=Ue(t);return e.le||(e.le=EN(e,Eu(t))),e.le}function EN(t,e){if(t.limitType==="F")return Gy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Bu(i.field,o)});const n=t.endAt?new oh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new oh(t.startAt.position,t.startAt.inclusive):null;return Gy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cp(t,e){const n=t.filters.concat([e]);return new ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lp(t,e,n){return new ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vh(t,e){return rg(Br(t),Br(e))&&t.limitType===e.limitType}function nw(t){return`${ng(Br(t))}|lt:${t.limitType}`}function Ho(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ZE(i)).join(", ")}]`),Mh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>oa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>oa(i)).join(",")),`Target(${r})`}(Br(t))}; limitType=${t.limitType})`}function Fh(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Eu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(u,h,f){const p=jy(u,h,f);return u.inclusive?p<=0:p<0}(r.startAt,Eu(r),i)||r.endAt&&!function(u,h,f){const p=jy(u,h,f);return u.inclusive?p>=0:p>0}(r.endAt,Eu(r),i))}(t,e)}function wN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rw(t){return(e,n)=>{let r=!1;for(const i of Eu(t)){const o=IN(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function IN(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):function(o,u,h){const f=u.data.field(o),p=h.data.field(o);return f!==null&&p!==null?sa(f,p):Ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return KE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new Dt(Re.comparator);function mi(){return TN}const iw=new Dt(Re.comparator);function lu(...t){let e=iw;for(const n of t)e=e.insert(n.key,n);return e}function sw(t){let e=iw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ys(){return wu()}function ow(){return wu()}function wu(){return new _a(t=>t.toString(),(t,e)=>t.isEqual(e))}const AN=new Dt(Re.comparator),RN=new mn(Re.comparator);function Xe(...t){let e=RN;for(const n of t)e=e.add(n);return e}const SN=new mn(lt);function bN(){return SN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function uw(t){return{integerValue:""+t}}function CN(t,e){return sN(e)?uw(e):aw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function PN(t,e,n){return t instanceof ah?function(i,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Zp(o)&&(o=eg(o)),o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,e):t instanceof $u?lw(t,e):t instanceof qu?hw(t,e):function(i,o){const u=cw(i,o),h=Qy(u)+Qy(i.Pe);return op(u)&&op(i.Pe)?uw(h):aw(i.serializer,h)}(t,e)}function xN(t,e,n){return t instanceof $u?lw(t,e):t instanceof qu?hw(t,e):n}function cw(t,e){return t instanceof uh?function(r){return op(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ah extends Uh{}class $u extends Uh{constructor(e){super(),this.elements=e}}function lw(t,e){const n=fw(e);for(const r of t.elements)n.some(i=>jr(i,r))||n.push(r);return{arrayValue:{values:n}}}class qu extends Uh{constructor(e){super(),this.elements=e}}function hw(t,e){let n=fw(e);for(const r of t.elements)n=n.filter(i=>!jr(i,r));return{arrayValue:{values:n}}}class uh extends Uh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Qy(t){return Ht(t.integerValue||t.doubleValue)}function fw(t){return tg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ON(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof $u&&i instanceof $u||r instanceof qu&&i instanceof qu?ia(r.elements,i.elements,jr):r instanceof uh&&i instanceof uh?jr(r.Pe,i.Pe):r instanceof ah&&i instanceof ah}(t.transform,e.transform)}class DN{constructor(e,n){this.version=e,this.transformResults=n}}class Tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bh{}function dw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sg(t.key,Tr.none()):new Zu(t.key,t.data,Tr.none());{const n=t.data,r=Hn.empty();let i=new mn(gn.comparator);for(let o of e.fields)if(!i.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new gs(t.key,r,new Jn(i.toArray()),Tr.none())}}function NN(t,e,n){t instanceof Zu?function(i,o,u){const h=i.value.clone(),f=Xy(i.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof gs?function(i,o,u){if(!Hl(i.precondition,o))return void o.convertToUnknownDocument(u.version);const h=Xy(i.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(pw(i)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Iu(t,e,n,r){return t instanceof Zu?function(o,u,h,f){if(!Hl(o.precondition,u))return h;const p=o.value.clone(),m=Jy(o.fieldTransforms,f,u);return p.setAll(m),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof gs?function(o,u,h,f){if(!Hl(o.precondition,u))return h;const p=Jy(o.fieldTransforms,f,u),m=u.data;return m.setAll(pw(o)),m.setAll(p),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(o,u,h){return Hl(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function kN(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=cw(r.transform,i||null);o!=null&&(n===null&&(n=Hn.empty()),n.set(r.field,o))}return n||null}function Yy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ia(r,i,(o,u)=>ON(o,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zu extends Bh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gs extends Bh{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function pw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Xy(t,e,n){const r=new Map;vt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],u=o.transform,h=e.data.field(o.field);r.set(o.field,xN(u,h,n[i]))}return r}function Jy(t,e,n){const r=new Map;for(const i of t){const o=i.transform,u=n.data.field(i.field);r.set(i.field,PN(o,u,e))}return r}class sg extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LN extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&NN(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Iu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Iu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ow();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=n.has(i.key)?null:h;const f=dw(u,h);f!==null&&r.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xe())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(n,r)=>Yy(n,r))&&ia(this.baseMutations,e.baseMutations,(n,r)=>Yy(n,r))}}class og{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){vt(e.mutations.length===r.length);let i=function(){return AN}();const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new og(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,tt;function UN(t){switch(t){default:return Ne();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function gw(t){if(t===void 0)return gi("GRPC error has no .code"),J.UNKNOWN;switch(t){case qt.OK:return J.OK;case qt.CANCELLED:return J.CANCELLED;case qt.UNKNOWN:return J.UNKNOWN;case qt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case qt.INTERNAL:return J.INTERNAL;case qt.UNAVAILABLE:return J.UNAVAILABLE;case qt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case qt.NOT_FOUND:return J.NOT_FOUND;case qt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case qt.ABORTED:return J.ABORTED;case qt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case qt.DATA_LOSS:return J.DATA_LOSS;default:return Ne()}}(tt=qt||(qt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new to([4294967295,4294967295],0);function Zy(t){const e=BN().encode(t),n=new VE;return n.update(e),new Uint8Array(n.digest())}function ev(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new to([n,r],0),new to([i,o],0)]}class ag{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hu(`Invalid padding: ${n}`);if(r<0)throw new hu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=to.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(to.fromNumber(r)));return i.compare($N)===1&&(i=new to([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Zy(e),[r,i]=ev(n);for(let o=0;o<this.hashCount;o++){const u=this.Ee(r,i,o);if(!this.de(u))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new ag(o,i,n);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Ie===0)return;const n=Zy(e),[r,i]=ev(n);for(let o=0;o<this.hashCount;o++){const u=this.Ee(r,i,o);this.Ae(u)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ec.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $h(Me.min(),i,new Dt(lt),mi(),Xe())}}class ec{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ec(r,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class mw{constructor(e,n){this.targetId=e,this.me=n}}class _w{constructor(e,n,r=Pn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tv{constructor(){this.fe=0,this.ge=rv(),this.pe=Pn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Xe(),n=Xe(),r=Xe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ne()}}),new ec(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=rv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class qN{constructor(e){this.Le=e,this.Be=new Map,this.ke=mi(),this.qe=nv(),this.Qe=new Dt(lt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(up(o))if(r===0){const u=new Re(o.path);this.Ue(n,u,bn.newNoDocument(u,Me.min()))}else vt(r===1);else{const u=this.Ye(n);if(u!==r){const h=this.Ze(e),f=h?this.Xe(h,e,u):1;if(f!==0){this.je(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,p)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let u,h;try{u=oo(r).toUint8Array()}catch(f){if(f instanceof GE)return ra("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new ag(u,i,o)}catch(f){return ra(f instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ie===0?null:h}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const u=this.Le.tt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,u)=>{const h=this.Je(u);if(h){if(o.current&&up(h.target)){const f=new Re(h.target.path);this.ke.get(f)!==null||this.it(u,f)||this.Ue(u,f,bn.newNoDocument(f,e))}o.be&&(n.set(u,o.Ce()),o.ve())}});let r=Xe();this.qe.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const p=this.Je(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.ke.forEach((o,u)=>u.setReadTime(e));const i=new $h(e,n,this.Qe,this.ke,r);return this.ke=mi(),this.qe=nv(),this.Qe=new Dt(lt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new tv,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mn(lt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new tv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function nv(){return new Dt(Re.comparator)}function rv(){return new Dt(Re.comparator)}const HN={asc:"ASCENDING",desc:"DESCENDING"},WN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jN={and:"AND",or:"OR"};class KN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hp(t,e){return t.useProto3Json||Mh(e)?e:{value:e}}function ch(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GN(t,e){return ch(t,e.toTimestamp())}function $r(t){return vt(!!t),Me.fromTimestamp(function(n){const r=hs(n);return new Zt(r.seconds,r.nanos)}(t))}function ug(t,e){return fp(t,e).canonicalString()}function fp(t,e){const n=function(i){return new At(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vw(t){const e=At.fromString(t);return vt(Aw(e)),e}function dp(t,e){return ug(t.databaseId,e.path)}function bd(t,e){const n=vw(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(ww(n))}function Ew(t,e){return ug(t.databaseId,e)}function zN(t){const e=vw(t);return e.length===4?At.emptyPath():ww(e)}function pp(t){return new At(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ww(t){return vt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function iv(t,e,n){return{name:dp(t,e),fields:n.value.mapValue.fields}}function QN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,m){return p.useProto3Json?(vt(m===void 0||typeof m=="string"),Pn.fromBase64String(m||"")):(vt(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Pn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const m=p.code===void 0?J.UNKNOWN:gw(p.code);return new ye(m,p.message||"")}(u);n=new _w(r,i,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=bd(t,r.document.name),o=$r(r.document.updateTime),u=r.document.createTime?$r(r.document.createTime):Me.min(),h=new Hn({mapValue:{fields:r.document.fields}}),f=bn.newFoundDocument(i,o,u,h),p=r.targetIds||[],m=r.removedTargetIds||[];n=new Wl(p,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=bd(t,r.document),o=r.readTime?$r(r.readTime):Me.min(),u=bn.newNoDocument(i,o),h=r.removedTargetIds||[];n=new Wl([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=bd(t,r.document),o=r.removedTargetIds||[];n=new Wl([],o,i,null)}else{if(!("filter"in e))return Ne();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,u=new FN(i,o),h=r.targetId;n=new mw(h,u)}}return n}function YN(t,e){let n;if(e instanceof Zu)n={update:iv(t,e.key,e.value)};else if(e instanceof sg)n={delete:dp(t,e.key)};else if(e instanceof gs)n={update:iv(t,e.key,e.data),updateMask:sk(e.fieldMask)};else{if(!(e instanceof LN))return Ne();n={verify:dp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof ah)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof $u)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof qu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof uh)return{fieldPath:u.field.canonicalString(),increment:h.Pe};throw Ne()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:GN(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ne()}(t,e.precondition)),n}function XN(t,e){return t&&t.length>0?(vt(e!==void 0),t.map(n=>function(i,o){let u=i.updateTime?$r(i.updateTime):$r(o);return u.isEqual(Me.min())&&(u=$r(o)),new DN(u,i.transformResults||[])}(n,e))):[]}function JN(t,e){return{documents:[Ew(t,e.path)]}}function ZN(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ew(t,i);const o=function(p){if(p.length!==0)return Tw(Ar.create(p,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const u=function(p){if(p.length!==0)return p.map(m=>function(E){return{field:Wo(E.field),direction:nk(E.dir)}}(m))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=hp(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{_t:n,parent:i}}function ek(t){let e=zN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){vt(r===1);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(v){const E=Iw(v);return E instanceof Ar&&XE(E)?E.getFilters():[E]}(n.where));let u=[];n.orderBy&&(u=function(v){return v.map(E=>function(V){return new Bu(jo(V.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(E))}(n.orderBy));let h=null;n.limit&&(h=function(v){let E;return E=typeof v=="object"?v.value:v,Mh(E)?null:E}(n.limit));let f=null;n.startAt&&(f=function(v){const E=!!v.before,C=v.values||[];return new oh(C,E)}(n.startAt));let p=null;return n.endAt&&(p=function(v){const E=!v.before,C=v.values||[];return new oh(C,E)}(n.endAt)),vN(e,i,u,o,h,"F",f,p)}function tk(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Iw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=jo(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=jo(n.unaryFilter.field);return jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=jo(n.unaryFilter.field);return jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=jo(n.unaryFilter.field);return jt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(t):t.fieldFilter!==void 0?function(n){return jt.create(jo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ar.create(n.compositeFilter.filters.map(r=>Iw(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ne()}}(n.compositeFilter.op))}(t):Ne()}function nk(t){return HN[t]}function rk(t){return WN[t]}function ik(t){return jN[t]}function Wo(t){return{fieldPath:t.canonicalString()}}function jo(t){return gn.fromServerFormat(t.fieldPath)}function Tw(t){return t instanceof jt?function(n){if(n.op==="=="){if(Wy(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NAN"}};if(Hy(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Wy(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NOT_NAN"}};if(Hy(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wo(n.field),op:rk(n.op),value:n.value}}}(t):t instanceof Ar?function(n){const r=n.getFilters().map(i=>Tw(i));return r.length===1?r[0]:{compositeFilter:{op:ik(n.op),filters:r}}}(t):Ne()}function sk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Aw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r,i,o=Me.min(),u=Me.min(),h=Pn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.ct=e}}function ak(t){const e=ek({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this._n=new ck}addToCollectionParentIndex(e,n){return this._n.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(ls.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(ls.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class ck{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new mn(At.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mn(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new aa(0)}static Ln(){return new aa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.changes=new _a(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Iu(r.mutation,i,Jn.empty(),Zt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Xe()){const i=Ys();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let u=lu();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=Ys();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,r,i){let o=mi();const u=wu(),h=function(){return wu()}();return n.forEach((f,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof gs)?o=o.insert(p.key,p):m!==void 0?(u.set(p.key,m.mutation.getFieldMask()),Iu(m.mutation,p,m.mutation.getFieldMask(),Zt.now())):u.set(p.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((p,m)=>u.set(p,m)),n.forEach((p,m)=>{var v;return h.set(p,new hk(m,(v=u.get(p))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(e,n){const r=wu();let i=new Dt((u,h)=>u-h),o=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let m=r.get(f)||Jn.empty();m=h.applyToLocalView(p,m),r.set(f,m);const v=(i.get(h.batchId)||Xe()).add(f);i=i.insert(h.batchId,v)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,m=f.value,v=ow();m.forEach(E=>{if(!o.has(E)){const C=dw(n.get(E),r.get(E));C!==null&&v.set(E,C),o=o.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return re.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(u){return Re.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):re.resolve(Ys());let h=-1,f=o;return u.next(p=>re.forEach(p,(m,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(m)?re.resolve():this.remoteDocumentCache.getEntry(e,m).next(E=>{f=f.insert(m,E)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,f,p,Xe())).next(m=>({batchId:h,changes:sw(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next(r=>{let i=lu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let u=lu();return this.indexManager.getCollectionParents(e,o).next(h=>re.forEach(h,f=>{const p=function(v,E){return new ma(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(m=>{m.forEach((v,E)=>{u=u.insert(v,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(u=>{o.forEach((f,p)=>{const m=p.getKey();u.get(m)===null&&(u=u.insert(m,bn.newInvalidDocument(m)))});let h=lu();return u.forEach((f,p)=>{const m=o.get(f);m!==void 0&&Iu(m.mutation,p,Jn.empty(),Zt.now()),Fh(n,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return re.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:$r(i.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:ak(i.bundledQuery),readTime:$r(i.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.overlays=new Dt(Re.comparator),this.hr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ys();return re.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const i=Ys(),o=n.length+1,u=new Re(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Dt((p,m)=>p-m);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let m=o.get(p.largestBatchId);m===null&&(m=Ys(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const h=Ys(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,m)=>h.set(p,m)),!(h.size()>=i)););return re.resolve(h)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new VN(n,r));let o=this.hr.get(n);o===void 0&&(o=Xe(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this.Pr=new mn(rn.Ir),this.Tr=new mn(rn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new rn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new rn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Re(new At([])),r=new rn(n,e),i=new rn(n,e+1),o=[];return this.Tr.forEachInRange([r,i],u=>{this.Ar(u),o.push(u.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Re(new At([])),r=new rn(n,e),i=new rn(n,e+1);let o=Xe();return this.Tr.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const n=new rn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Re.comparator(e.key,n.key)||lt(e.pr,n.pr)}static Er(e,n){return lt(e.pr,n.pr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new mn(rn.Ir)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new MN(o,n,r,i);this.mutationQueue.push(u);for(const h of i)this.wr=this.wr.add(new rn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,n){return re.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return re.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rn(n,0),i=new rn(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],u=>{const h=this.Sr(u.pr);o.push(h)}),re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mn(lt);return n.forEach(i=>{const o=new rn(i,0),u=new rn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,u],h=>{r=r.add(h.pr)})}),re.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Re.isDocumentKey(o)||(o=o.child(""));const u=new rn(new Re(o),0);let h=new mn(lt);return this.wr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(h=h.add(f.pr)),!0)},u),re.resolve(this.Dr(h))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){vt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return re.forEach(n.mutations,i=>{const o=new rn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new rn(n,0),i=this.wr.firstAfterOrEqual(r);return re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.vr=e,this.docs=function(){return new Dt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,u=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let r=mi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():bn.newInvalidDocument(i))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=mi();const u=n.path,h=new Re(u.child("")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:m}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||tN(eN(m),r)<=0||(i.has(m.key)||Fh(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return re.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ne()}Fr(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _k(this)}getSize(e){return re.resolve(this.size)}}class _k extends lk{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.persistence=e,this.Mr=new _a(n=>ng(n),rg),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Or=0,this.Nr=new cg,this.targetCount=0,this.Lr=aa.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),re.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new aa(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.qn(n),re.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.Mr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),re.waitFor(o).next(()=>i)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),re.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n){this.Br={},this.overlays={},this.kr=new Jp(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new yk(this),this.indexManager=new uk,this.remoteDocumentCache=function(i){return new mk(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new ok(n),this.$r=new dk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new gk(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new Ek(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return re.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Ek extends rN{constructor(e){super(),this.currentSequenceNumber=e}}class lg{constructor(e){this.persistence=e,this.zr=new cg,this.jr=null}static Hr(e){return new lg(e)}get Jr(){if(this.jr)return this.jr;throw Ne()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),re.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Jr,r=>{const i=Re.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,Me.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return re.or([()=>re.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Xe(),i=Xe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new hg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return SO()?8:iN(_n())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new wk;return this.Ji(e,n,u).next(h=>{if(o.result=h,this.Ui)return this.Yi(e,n,u,h.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(nu()<=et.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),re.resolve()):(nu()<=et.DEBUG&&we("QueryEngine","Query:",Ho(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(nu()<=et.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(n))):re.resolve())}ji(e,n){if(zy(n))return re.resolve(null);let r=Br(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=lp(n,null,"F"),r=Br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Xe(...o);return this.zi.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.Zi(n,h);return this.Xi(n,p,u,f.readTime)?this.ji(e,lp(n,null,"F")):this.es(e,p,n,f)}))})))}Hi(e,n,r,i){return zy(n)||i.isEqual(Me.min())?re.resolve(null):this.zi.getDocuments(e,r).next(o=>{const u=this.Zi(n,o);return this.Xi(n,u,r,i)?re.resolve(null):(nu()<=et.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ho(n)),this.es(e,u,n,ZD(i,-1)).next(h=>h))})}Zi(e,n){let r=new mn(rw(e));return n.forEach((i,o)=>{Fh(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return nu()<=et.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Ho(n)),this.zi.getDocumentsMatchingQuery(e,n,ls.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Dt(lt),this.rs=new _a(o=>ng(o),rg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fk(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function Ak(t,e,n,r){return new Tk(t,e,n,r)}async function Rw(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let f=Xe();for(const p of i){u.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}for(const p of o){h.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}return n.localDocuments.getDocuments(r,f).next(p=>({us:p,removedBatchIds:u,addedBatchIds:h}))})})}function Rk(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(h,f,p,m){const v=p.batch,E=v.keys();let C=re.resolve();return E.forEach(V=>{C=C.next(()=>m.getEntry(f,V)).next(q=>{const $=p.docVersions.get(V);vt($!==null),q.version.compareTo($)<0&&(v.applyToRemoteDocument(q,p),q.isValidDocument()&&(q.setReadTime(p.commitVersion),m.addEntry(q)))})}),C.next(()=>h.mutationQueue.removeMutationBatch(f,v))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Xe();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Sw(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Sk(t,e){const n=Ue(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const h=[];e.targetChanges.forEach((m,v)=>{const E=i.get(v);if(!E)return;h.push(n.Qr.removeMatchingKeys(o,m.removedDocuments,v).next(()=>n.Qr.addMatchingKeys(o,m.addedDocuments,v)));let C=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?C=C.withResumeToken(Pn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):m.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(m.resumeToken,r)),i=i.insert(v,C),function(q,$,z){return q.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(E,C,m)&&h.push(n.Qr.updateTargetData(o,C))});let f=mi(),p=Xe();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),h.push(bk(o,u,e.documentUpdates).next(m=>{f=m.cs,p=m.ls})),!r.isEqual(Me.min())){const m=n.Qr.getLastRemoteSnapshotVersion(o).next(v=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(m)}return re.waitFor(h).next(()=>u.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,f,p)).next(()=>f)}).then(o=>(n.ns=i,o))}function bk(t,e,n){let r=Xe(),i=Xe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let u=mi();return n.forEach((h,f)=>{const p=o.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(Me.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):we("LocalStore","Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{cs:u,ls:i}})}function Ck(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Pk(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,re.resolve(i)):n.Qr.allocateTargetId(r).next(u=>(i=new Zi(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function gp(t,e,n){const r=Ue(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!Ju(u))throw u;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function sv(t,e,n){const r=Ue(t);let i=Me.min(),o=Xe();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,m){const v=Ue(f),E=v.rs.get(m);return E!==void 0?re.resolve(v.ns.get(E)):v.Qr.getTargetData(p,m)}(r,u,Br(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>r.ts.getDocumentsMatchingQuery(u,e,n?i:Me.min(),n?o:Xe())).next(h=>(xk(r,wN(e),h),{documents:h,hs:o})))}function xk(t,e,n){let r=t.ss.get(e)||Me.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class ov{constructor(){this.activeTargetIds=bN()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ok{constructor(){this.no=new ov,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new ov,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nl=null;function Cd(){return Nl===null?Nl=function(){return 268435456+Math.round(2147483648*Math.random())}():Nl++,"0x"+Nl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class Lk extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,u){const h=Cd(),f=this.vo(n,r.toUriEncodedString());we("RestConnection",`Sending RPC '${n}' ${h}:`,f,i);const p={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(p,o,u),this.Mo(n,f,p,i).then(m=>(we("RestConnection",`Received RPC '${n}' ${h}: `,m),m),m=>{throw ra("RestConnection",`RPC '${n}' ${h} failed with error: `,m,"url: ",f,"request:",i),m})}xo(n,r,i,o,u,h){return this.Co(n,r,i,o,u)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ga}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,u)=>n[u]=o),i&&i.headers.forEach((o,u)=>n[u]=o)}vo(n,r){const i=Nk[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const o=Cd();return new Promise((u,h)=>{const f=new FE;f.setWithCredentials(!0),f.listenOnce(BE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case $l.NO_ERROR:const m=f.getResponseJson();we(Rn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),u(m);break;case $l.TIMEOUT:we(Rn,`RPC '${e}' ${o} timed out`),h(new ye(J.DEADLINE_EXCEEDED,"Request time out"));break;case $l.HTTP_ERROR:const v=f.getStatus();if(we(Rn,`RPC '${e}' ${o} failed with status:`,v,"response text:",f.getResponseText()),v>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const C=E==null?void 0:E.error;if(C&&C.status&&C.message){const V=function($){const z=$.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(z)>=0?z:J.UNKNOWN}(C.status);h(new ye(V,C.message))}else h(new ye(J.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new ye(J.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{we(Rn,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(i);we(Rn,`RPC '${e}' ${o} sending request:`,i),f.send(n,"POST",p,r,15)})}Oo(e,n,r){const i=Cd(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=HE(),h=qE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.xmlHttpFactory=new UE({})),this.Fo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const m=o.join("");we(Rn,`Creating RPC '${e}' stream ${i}: ${m}`,f);const v=u.createWebChannel(m,f);let E=!1,C=!1;const V=new kk({lo:$=>{C?we(Rn,`Not sending because RPC '${e}' stream ${i} is closed:`,$):(E||(we(Rn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),E=!0),we(Rn,`RPC '${e}' stream ${i} sending:`,$),v.send($))},ho:()=>v.close()}),q=($,z,te)=>{$.listen(z,ne=>{try{te(ne)}catch(pe){setTimeout(()=>{throw pe},0)}})};return q(v,cu.EventType.OPEN,()=>{C||(we(Rn,`RPC '${e}' stream ${i} transport opened.`),V.mo())}),q(v,cu.EventType.CLOSE,()=>{C||(C=!0,we(Rn,`RPC '${e}' stream ${i} transport closed`),V.po())}),q(v,cu.EventType.ERROR,$=>{C||(C=!0,ra(Rn,`RPC '${e}' stream ${i} transport errored:`,$),V.po(new ye(J.UNAVAILABLE,"The operation could not be completed")))}),q(v,cu.EventType.MESSAGE,$=>{var z;if(!C){const te=$.data[0];vt(!!te);const ne=te,pe=ne.error||((z=ne[0])===null||z===void 0?void 0:z.error);if(pe){we(Rn,`RPC '${e}' stream ${i} received error:`,pe);const ge=pe.status;let ue=function(R){const O=qt[R];if(O!==void 0)return gw(O)}(ge),N=pe.message;ue===void 0&&(ue=J.INTERNAL,N="Unknown error status: "+ge+" with message "+pe.message),C=!0,V.po(new ye(ue,N)),v.close()}else we(Rn,`RPC '${e}' stream ${i} received:`,te),V.yo(te)}}),q(h,$E.STAT_EVENT,$=>{$.stat===ip.PROXY?we(Rn,`RPC '${e}' stream ${i} detected buffering proxy`):$.stat===ip.NOPROXY&&we(Rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{V.fo()},0),V}}function Pd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t){return new KN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n,r,i,o,u,h,f){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new bw(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(gi(n.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new ye(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Mk extends Cw{constructor(e,n,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,u),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=QN(this.serializer,e),r=function(o){if(!("targetChange"in o))return Me.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Me.min():u.readTime?$r(u.readTime):Me.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=pp(this.serializer),n.addTarget=function(o,u){let h;const f=u.target;if(h=up(f)?{documents:JN(o,f)}:{query:ZN(o,f)._t},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=yw(o,u.resumeToken);const p=hp(o,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Me.min())>0){h.readTime=ch(o,u.snapshotVersion.toTimestamp());const p=hp(o,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=tk(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=pp(this.serializer),n.removeTarget=e,this.i_(n)}}class Vk extends Cw{constructor(e,n,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,u),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=XN(e.writeResults,e.commitTime),r=$r(e.commitTime);return this.listener.A_(r,n)}return vt(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=pp(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>YN(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new ye(J.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Co(e,fp(n,r),i,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(J.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.xo(e,fp(n,r),i,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(J.UNKNOWN,u.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Uk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(gi(n),this.y_=!1):we("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(u=>{r.enqueueAndForget(async()=>{po(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await async function(f){const p=Ue(f);p.M_.add(4),await tc(p),p.N_.set("Unknown"),p.M_.delete(4),await Hh(p)}(this))})}),this.N_=new Uk(r,i)}}async function Hh(t){if(po(t))for(const e of t.x_)await e(!0)}async function tc(t){for(const e of t.x_)await e(!1)}function Pw(t,e){const n=Ue(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),gg(n)?pg(n):ya(n).Xo()&&dg(n,e))}function fg(t,e){const n=Ue(t),r=ya(n);n.F_.delete(e),r.Xo()&&xw(n,e),n.F_.size===0&&(r.Xo()?r.n_():po(n)&&n.N_.set("Unknown"))}function dg(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ya(t).P_(e)}function xw(t,e){t.L_.xe(e),ya(t).I_(e)}function pg(t){t.L_=new qN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ya(t).start(),t.N_.w_()}function gg(t){return po(t)&&!ya(t).Zo()&&t.F_.size>0}function po(t){return Ue(t).M_.size===0}function Ow(t){t.L_=void 0}async function $k(t){t.N_.set("Online")}async function qk(t){t.F_.forEach((e,n)=>{dg(t,e)})}async function Hk(t,e){Ow(t),gg(t)?(t.N_.D_(e),pg(t)):t.N_.set("Unknown")}async function Wk(t,e,n){if(t.N_.set("Online"),e instanceof _w&&e.state===2&&e.cause)try{await async function(i,o){const u=o.cause;for(const h of o.targetIds)i.F_.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i.F_.delete(h),i.L_.removeTarget(h))}(t,e)}catch(r){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lh(t,r)}else if(e instanceof Wl?t.L_.Ke(e):e instanceof mw?t.L_.He(e):t.L_.We(e),!n.isEqual(Me.min()))try{const r=await Sw(t.localStore);n.compareTo(r)>=0&&await function(o,u){const h=o.L_.rt(u);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const m=o.F_.get(p);m&&o.F_.set(p,m.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,p)=>{const m=o.F_.get(f);if(!m)return;o.F_.set(f,m.withResumeToken(Pn.EMPTY_BYTE_STRING,m.snapshotVersion)),xw(o,f);const v=new Zi(m.target,f,p,m.sequenceNumber);dg(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(r){we("RemoteStore","Failed to raise snapshot:",r),await lh(t,r)}}async function lh(t,e,n){if(!Ju(e))throw e;t.M_.add(1),await tc(t),t.N_.set("Offline"),n||(n=()=>Sw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Hh(t)})}function Dw(t,e){return e().catch(n=>lh(t,n,e))}async function Wh(t){const e=Ue(t),n=fs(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;jk(e);)try{const i=await Ck(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,Kk(e,i)}catch(i){await lh(e,i)}Nw(e)&&kw(e)}function jk(t){return po(t)&&t.v_.length<10}function Kk(t,e){t.v_.push(e);const n=fs(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function Nw(t){return po(t)&&!fs(t).Zo()&&t.v_.length>0}function kw(t){fs(t).start()}async function Gk(t){fs(t).V_()}async function zk(t){const e=fs(t);for(const n of t.v_)e.d_(n.mutations)}async function Qk(t,e,n){const r=t.v_.shift(),i=og.from(r,e,n);await Dw(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Wh(t)}async function Yk(t,e){e&&fs(t).E_&&await async function(r,i){if(function(u){return UN(u)&&u!==J.ABORTED}(i.code)){const o=r.v_.shift();fs(r).t_(),await Dw(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Wh(r)}}(t,e),Nw(t)&&kw(t)}async function uv(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const r=po(n);n.M_.add(3),await tc(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Hh(n)}async function Xk(t,e){const n=Ue(t);e?(n.M_.delete(2),await Hh(n)):e||(n.M_.add(2),await tc(n),n.N_.set("Unknown"))}function ya(t){return t.B_||(t.B_=function(n,r,i){const o=Ue(n);return o.f_(),new Mk(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:$k.bind(null,t),To:qk.bind(null,t),Ao:Hk.bind(null,t),h_:Wk.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),gg(t)?pg(t):t.N_.set("Unknown")):(await t.B_.stop(),Ow(t))})),t.B_}function fs(t){return t.k_||(t.k_=function(n,r,i){const o=Ue(n);return o.f_(),new Vk(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:Gk.bind(null,t),Ao:Yk.bind(null,t),R_:zk.bind(null,t),A_:Qk.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Wh(t)):(await t.k_.stop(),t.v_.length>0&&(we("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new no,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const u=Date.now()+r,h=new mg(e,n,u,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(t,e){if(gi("AsyncQueue",`${e}: ${t}`),Ju(t))return new ye(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=lu(),this.sortedSet=new Dt(this.comparator)}static emptySet(e){return new Jo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Jo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Jo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this.q_=new Dt(Re.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Ne():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ua{constructor(e,n,r,i,o,u,h,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,o){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new ua(e,n,Jo.emptySet(n),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Zk{constructor(){this.queries=new _a(e=>nw(e),Vh),this.onlineState="Unknown",this.z_=new Set}}async function eL(t,e){const n=Ue(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new Jk,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(u){const h=_g(u,`Initialization of query '${Ho(e.query)}' failed`);return void e.onError(h)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&yg(n)}async function tL(t,e){const n=Ue(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const u=o.U_.indexOf(e);u>=0&&(o.U_.splice(u,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function nL(t,e){const n=Ue(t);let r=!1;for(const i of e){const o=i.query,u=n.queries.get(o);if(u){for(const h of u.U_)h.H_(i)&&(r=!0);u.K_=i}}r&&yg(n)}function rL(t,e,n){const r=Ue(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function yg(t){t.z_.forEach(e=>{e.next()})}var mp,lv;(lv=mp||(mp={})).J_="default",lv.Cache="cache";class iL{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e){this.key=e}}class Mw{constructor(e){this.key=e}}class sL{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Xe(),this.mutatedKeys=Xe(),this.Ia=rw(e),this.Ta=new Jo(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new cv,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,u=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,v)=>{const E=i.get(m),C=Fh(this.query,v)?v:null,V=!!E&&this.mutatedKeys.has(E.key),q=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let $=!1;E&&C?E.data.isEqual(C.data)?V!==q&&(r.track({type:3,doc:C}),$=!0):this.Ra(E,C)||(r.track({type:2,doc:C}),$=!0,(f&&this.Ia(C,f)>0||p&&this.Ia(C,p)<0)&&(h=!0)):!E&&C?(r.track({type:0,doc:C}),$=!0):E&&!C&&(r.track({type:1,doc:E}),$=!0,(f||p)&&(h=!0)),$&&(C?(u=u.add(C),o=q?o.add(m):o.delete(m)):(u=u.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const m=this.query.limitType==="F"?u.last():u.first();u=u.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{Ta:u,Aa:r,Xi:h,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const u=e.Aa.Q_();u.sort((m,v)=>function(C,V){const q=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return q(C)-q(V)}(m.type,v.type)||this.Ia(m.doc,v.doc)),this.Va(r),i=i!=null&&i;const h=n&&!i?this.ma():[],f=this.Pa.size===0&&this.current&&!i?1:0,p=f!==this.ha;return this.ha=f,u.length!==0||p?{snapshot:new ua(this.query,e.Ta,o,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:h}:{fa:h}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new cv,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Xe(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Mw(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new Lw(r))}),n}pa(e){this.la=e.hs,this.Pa=Xe();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return ua.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class oL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class aL{constructor(e){this.key=e,this.wa=!1}}class uL{constructor(e,n,r,i,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Sa={},this.ba=new _a(h=>nw(h),Vh),this.Da=new Map,this.Ca=new Set,this.va=new Dt(Re.comparator),this.Fa=new Map,this.Ma=new cg,this.xa={},this.Oa=new Map,this.Na=aa.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function cL(t,e,n=!0){const r=qw(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await Vw(r,e,n,!0),i}async function lL(t,e){const n=qw(t);await Vw(n,e,!0,!1)}async function Vw(t,e,n,r){const i=await Pk(t.localStore,Br(e)),o=i.targetId,u=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let h;return r&&(h=await hL(t,e,o,u==="current",i.resumeToken)),t.isPrimaryClient&&n&&Pw(t.remoteStore,i),h}async function hL(t,e,n,r,i){t.Ba=(v,E,C)=>async function(q,$,z,te){let ne=$.view.da(z);ne.Xi&&(ne=await sv(q.localStore,$.query,!1).then(({documents:N})=>$.view.da(N,ne)));const pe=te&&te.targetChanges.get($.targetId),ge=te&&te.targetMismatches.get($.targetId)!=null,ue=$.view.applyChanges(ne,q.isPrimaryClient,pe,ge);return fv(q,$.targetId,ue.fa),ue.snapshot}(t,v,E,C);const o=await sv(t.localStore,e,!0),u=new sL(e,o.hs),h=u.da(o.documents),f=ec.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=u.applyChanges(h,t.isPrimaryClient,f);fv(t,n,p.fa);const m=new oL(e,n,u);return t.ba.set(e,m),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),p.snapshot}async function fL(t,e,n){const r=Ue(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(u=>!Vh(u,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fg(r.remoteStore,i.targetId),_p(r,i.targetId)}).catch(Xu)):(_p(r,i.targetId),await gp(r.localStore,i.targetId,!0))}async function dL(t,e){const n=Ue(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fg(n.remoteStore,r.targetId))}async function pL(t,e,n){const r=wL(t);try{const i=await function(u,h){const f=Ue(u),p=Zt.now(),m=h.reduce((C,V)=>C.add(V.key),Xe());let v,E;return f.persistence.runTransaction("Locally write mutations","readwrite",C=>{let V=mi(),q=Xe();return f.os.getEntries(C,m).next($=>{V=$,V.forEach((z,te)=>{te.isValidDocument()||(q=q.add(z))})}).next(()=>f.localDocuments.getOverlayedDocuments(C,V)).next($=>{v=$;const z=[];for(const te of h){const ne=kN(te,v.get(te.key).overlayedDocument);ne!=null&&z.push(new gs(te.key,ne,zE(ne.value.mapValue),Tr.exists(!0)))}return f.mutationQueue.addMutationBatch(C,p,z,h)}).next($=>{E=$;const z=$.applyToLocalDocumentSet(v,q);return f.documentOverlayCache.saveOverlays(C,$.batchId,z)})}).then(()=>({batchId:E.batchId,changes:sw(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,h,f){let p=u.xa[u.currentUser.toKey()];p||(p=new Dt(lt)),p=p.insert(h,f),u.xa[u.currentUser.toKey()]=p}(r,i.batchId,n),await nc(r,i.changes),await Wh(r.remoteStore)}catch(i){const o=_g(i,"Failed to persist write");n.reject(o)}}async function Fw(t,e){const n=Ue(t);try{const r=await Sk(n.localStore,e);e.targetChanges.forEach((i,o)=>{const u=n.Fa.get(o);u&&(vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.wa=!0:i.modifiedDocuments.size>0?vt(u.wa):i.removedDocuments.size>0&&(vt(u.wa),u.wa=!1))}),await nc(n,r,e)}catch(r){await Xu(r)}}function hv(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,u)=>{const h=u.view.j_(e);h.snapshot&&i.push(h.snapshot)}),function(u,h){const f=Ue(u);f.onlineState=h;let p=!1;f.queries.forEach((m,v)=>{for(const E of v.U_)E.j_(h)&&(p=!0)}),p&&yg(f)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gL(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let u=new Dt(Re.comparator);u=u.insert(o,bn.newNoDocument(o,Me.min()));const h=Xe().add(o),f=new $h(Me.min(),new Map,new Dt(lt),u,h);await Fw(r,f),r.va=r.va.remove(o),r.Fa.delete(e),vg(r)}else await gp(r.localStore,e,!1).then(()=>_p(r,e,n)).catch(Xu)}async function mL(t,e){const n=Ue(t),r=e.batch.batchId;try{const i=await Rk(n.localStore,e);Bw(n,r,null),Uw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nc(n,i)}catch(i){await Xu(i)}}async function _L(t,e,n){const r=Ue(t);try{const i=await function(u,h){const f=Ue(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return f.mutationQueue.lookupMutationBatch(p,h).next(v=>(vt(v!==null),m=v.keys(),f.mutationQueue.removeMutationBatch(p,v))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,m,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>f.localDocuments.getDocuments(p,m))})}(r.localStore,e);Bw(r,e,n),Uw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await nc(r,i)}catch(i){await Xu(i)}}function Uw(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function Bw(t,e,n){const r=Ue(t);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function _p(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||$w(t,r)})}function $w(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(fg(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),vg(t))}function fv(t,e,n){for(const r of n)r instanceof Lw?(t.Ma.addReference(r.key,e),yL(t,r)):r instanceof Mw?(we("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||$w(t,r.key)):Ne()}function yL(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(we("SyncEngine","New document in limbo: "+n),t.Ca.add(r),vg(t))}function vg(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new Re(At.fromString(e)),r=t.Na.next();t.Fa.set(r,new aL(n)),t.va=t.va.insert(n,r),Pw(t.remoteStore,new Zi(Br(ig(n.path)),r,"TargetPurposeLimboResolution",Jp.oe))}}async function nc(t,e,n){const r=Ue(t),i=[],o=[],u=[];r.ba.isEmpty()||(r.ba.forEach((h,f)=>{u.push(r.Ba(f,e,n).then(p=>{if((p||n)&&r.isPrimaryClient){const m=p&&!p.fromCache;r.sharedClientState.updateQueryState(f.targetId,m?"current":"not-current")}if(p){i.push(p);const m=hg.Ki(f.targetId,p);o.push(m)}}))}),await Promise.all(u),r.Sa.h_(i),await async function(f,p){const m=Ue(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>re.forEach(p,E=>re.forEach(E.qi,C=>m.persistence.referenceDelegate.addReference(v,E.targetId,C)).next(()=>re.forEach(E.Qi,C=>m.persistence.referenceDelegate.removeReference(v,E.targetId,C)))))}catch(v){if(!Ju(v))throw v;we("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const C=m.ns.get(E),V=C.snapshotVersion,q=C.withLastLimboFreeSnapshotVersion(V);m.ns=m.ns.insert(E,q)}}}(r.localStore,o))}async function vL(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const r=await Rw(n.localStore,e);n.currentUser=e,function(o,u){o.Oa.forEach(h=>{h.forEach(f=>{f.reject(new ye(J.CANCELLED,u))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nc(n,r.us)}}function EL(t,e){const n=Ue(t),r=n.Fa.get(e);if(r&&r.wa)return Xe().add(r.key);{let i=Xe();const o=n.Da.get(e);if(!o)return i;for(const u of o){const h=n.ba.get(u);i=i.unionWith(h.view.Ea)}return i}}function qw(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gL.bind(null,e),e.Sa.h_=nL.bind(null,e.eventManager),e.Sa.ka=rL.bind(null,e.eventManager),e}function wL(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_L.bind(null,e),e}class dv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Ak(this.persistence,new Ik,e.initialUser,this.serializer)}createPersistence(e){return new vk(lg.Hr,this.serializer)}createSharedClientState(e){return new Ok}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class IL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vL.bind(null,this.syncEngine),await Xk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Zk}()}createDatastore(e){const n=qh(e.databaseInfo.databaseId),r=function(o){return new Lk(o)}(e.databaseInfo);return function(o,u,h,f){return new Fk(o,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,u,h){return new Bk(r,i,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>hv(this.syncEngine,n,0),function(){return av.D()?new av:new Dk}())}createSyncEngine(e,n){return function(i,o,u,h,f,p,m){const v=new uL(i,o,u,h,f,p);return m&&(v.La=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ue(r);we("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await tc(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Sn.UNAUTHENTICATED,this.clientId=jE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{we("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(we("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ye(J.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new no;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_g(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xd(t,e){t.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Rw(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function pv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await SL(t);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>uv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>uv(e.remoteStore,i)),t._onlineComponents=e}function RL(t){return t.name==="FirebaseError"?t.code===J.FAILED_PRECONDITION||t.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function SL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await xd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!RL(n))throw n;ra("Error using user provided cache. Falling back to memory cache: "+n),await xd(t,new dv)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await xd(t,new dv);return t._offlineComponents}async function Hw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await pv(t,t._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await pv(t,new IL))),t._onlineComponents}function bL(t){return Hw(t).then(e=>e.syncEngine)}async function gv(t){const e=await Hw(t),n=e.eventManager;return n.onListen=cL.bind(null,e.syncEngine),n.onUnlisten=fL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dL.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t,e,n){if(!n)throw new ye(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CL(t,e,n,r){if(e===!0&&r===!0)throw new ye(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _v(t){if(!Re.isDocumentKey(t))throw new ye(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yv(t){if(Re.isDocumentKey(t))throw new ye(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne()}function ss(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jh(t);throw new ye(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ww((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ye(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ye(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ye(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ye(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ye(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WD;switch(r.type){case"firstParty":return new zD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=mv.get(n);r&&(we("ComponentProvider","Removing Datastore"),mv.delete(n),r.terminate())}(this),Promise.resolve()}}function PL(t,e,n,r={}){var i;const o=(t=ss(t,Kh))._getSettings(),u=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==u&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:u,ssl:!1})),r.mockUserToken){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Sn.MOCK_USER;else{h=EO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ye(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Sn(p)}t._authCredentials=new jD(new WE(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new go(this.firestore,e,this._query)}}class Wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class os extends go{constructor(e,n,r){super(e,n,ig(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Re(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function xL(t,e,...n){if(t=en(t),jw("collection","path",e),t instanceof Kh){const r=At.fromString(e,...n);return yv(r),new os(t,null,r)}{if(!(t instanceof Wn||t instanceof os))throw new ye(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(At.fromString(e,...n));return yv(r),new os(t.firestore,null,r)}}function yp(t,e,...n){if(t=en(t),arguments.length===1&&(e=jE.newId()),jw("doc","path",e),t instanceof Kh){const r=At.fromString(e,...n);return _v(r),new Wn(t,null,new Re(r))}{if(!(t instanceof Wn||t instanceof os))throw new ye(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(At.fromString(e,...n));return _v(r),new Wn(t.firestore,t instanceof os?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new bw(this,"async_queue_retry"),this.hu=()=>{const n=Pd();n&&we("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Pd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Pd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new no;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Ju(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw gi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=mg.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&Ne()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function Ev(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ca extends Kh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new OL}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gw(this),this._firestoreClient.terminate()}}function DL(t,e){const n=typeof t=="object"?t:kE(),r=typeof t=="string"?t:"(default)",i=Yp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=yO("firestore");o&&PL(i,...o)}return i}function Kw(t){return t._firestoreClient||Gw(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Gw(t){var e,n,r;const i=t._freezeSettings(),o=function(h,f,p,m){return new aN(h,f,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Ww(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new AL(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this._byteString=e}static fromBase64String(e){try{return new la(Pn.fromBase64String(e))}catch(n){throw new ye(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new la(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=/^__.*__$/;class kL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zu(e,this.data,n,this.fieldTransforms)}}class zw{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new gs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Qw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class Ig{constructor(e,n,r,i,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Ig(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return hh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(Qw(this.fu)&&NL.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class LL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qh(e)}Fu(e,n,r,i=!1){return new Ig({fu:e,methodName:n,vu:r,path:gn.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tg(t){const e=t._freezeSettings(),n=qh(t._databaseId);return new LL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ML(t,e,n,r,i,o={}){const u=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);Ag("Data must be an object, but it was:",u,r);const h=Yw(r,u);let f,p;if(o.merge)f=new Jn(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const m=[];for(const v of o.mergeFields){const E=vp(e,v,n);if(!u.contains(E))throw new ye(J.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Jw(m,E)||m.push(E)}f=new Jn(m),p=u.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,p=u.fieldTransforms;return new kL(new Hn(h),f,p)}class zh extends Eg{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zh}}function VL(t,e,n,r){const i=t.Fu(1,e,n);Ag("Data must be an object, but it was:",i,r);const o=[],u=Hn.empty();fo(r,(f,p)=>{const m=Rg(e,f,n);p=en(p);const v=i.Su(m);if(p instanceof zh)o.push(m);else{const E=rc(p,v);E!=null&&(o.push(m),u.set(m,E))}});const h=new Jn(o);return new zw(u,h,i.fieldTransforms)}function FL(t,e,n,r,i,o){const u=t.Fu(1,e,n),h=[vp(e,r,n)],f=[i];if(o.length%2!=0)throw new ye(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)h.push(vp(e,o[E])),f.push(o[E+1]);const p=[],m=Hn.empty();for(let E=h.length-1;E>=0;--E)if(!Jw(p,h[E])){const C=h[E];let V=f[E];V=en(V);const q=u.Su(C);if(V instanceof zh)p.push(C);else{const $=rc(V,q);$!=null&&(p.push(C),m.set(C,$))}}const v=new Jn(p);return new zw(m,v,u.fieldTransforms)}function UL(t,e,n,r=!1){return rc(n,t.Fu(r?4:3,e))}function rc(t,e){if(Xw(t=en(t)))return Ag("Unsupported field value:",e,t),Yw(t,e);if(t instanceof Eg)return function(r,i){if(!Qw(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let u=0;for(const h of r){let f=rc(h,i.bu(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Zt.fromDate(r);return{timestampValue:ch(i.serializer,o)}}if(r instanceof Zt){const o=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ch(i.serializer,o)}}if(r instanceof wg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof la)return{bytesValue:yw(i.serializer,r._byteString)};if(r instanceof Wn){const o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.Du(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ug(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${jh(r)}`)}(t,e)}function Yw(t,e){const n={};return KE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fo(t,(r,i)=>{const o=rc(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Xw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zt||t instanceof wg||t instanceof la||t instanceof Wn||t instanceof Eg)}function Ag(t,e,n){if(!Xw(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=jh(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function vp(t,e,n){if((e=en(e))instanceof Gh)return e._internalPath;if(typeof e=="string")return Rg(t,e);throw hh("Field path arguments must be of type string or ",t,!1,void 0,n)}const BL=new RegExp("[~\\*/\\[\\]]");function Rg(t,e,n){if(e.search(BL)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gh(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hh(t,e,n,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${i}`),f+=")"),new ye(J.INVALID_ARGUMENT,h+t+f)}function Jw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $L(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $L extends Zw{data(){return super.data()}}function Sg(t,e){return typeof e=="string"?Rg(t,e):e instanceof Gh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bg{}class eI extends bg{}function HL(t,e,...n){let r=[];e instanceof bg&&r.push(e),r=r.concat(n),function(o){const u=o.filter(f=>f instanceof Pg).length,h=o.filter(f=>f instanceof Cg).length;if(u>1||u>0&&h>0)throw new ye(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Cg extends eI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Cg(e,n,r)}_apply(e){const n=this._parse(e);return tI(e._query,n),new go(e.firestore,e.converter,cp(e._query,n))}_parse(e){const n=Tg(e.firestore);return function(o,u,h,f,p,m,v){let E;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ye(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Iv(v,m);const C=[];for(const V of v)C.push(wv(f,o,V));E={arrayValue:{values:C}}}else E=wv(f,o,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Iv(v,m),E=UL(h,u,v,m==="in"||m==="not-in");return jt.create(p,m,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Pg extends bg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Pg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ar.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let u=i;const h=o.getFlattenedFilters();for(const f of h)tI(u,f),u=cp(u,f)}(e._query,n),new go(e.firestore,e.converter,cp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xg extends eI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new xg(e,n)}_apply(e){const n=function(i,o,u){if(i.startAt!==null)throw new ye(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ye(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bu(o,u)}(e._query,this._field,this._direction);return new go(e.firestore,e.converter,function(i,o){const u=i.explicitOrderBy.concat([o]);return new ma(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function WL(t,e="asc"){const n=e,r=Sg("orderBy",t);return xg._create(r,n)}function wv(t,e,n){if(typeof(n=en(n))=="string"){if(n==="")throw new ye(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tw(e)&&n.indexOf("/")!==-1)throw new ye(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(At.fromString(n));if(!Re.isDocumentKey(r))throw new ye(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qy(t,new Re(r))}if(n instanceof Wn)return qy(t,n._key);throw new ye(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jh(n)}.`)}function Iv(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tI(t,e){const n=function(i,o){for(const u of i)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ye(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jL{convertValue(e,n="none"){switch(ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new wg(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=eg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vu(e));default:return null}}convertTimestamp(e){const n=hs(e);return new Zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=At.fromString(e);vt(Aw(r));const i=new Fu(r.get(1),r.get(3)),o=new Re(r.popFirst(5));return i.isEqual(n)||gi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nI extends Zw{constructor(e,n,r,i,o,u){super(e,n,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Sg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class jl extends nI{data(e={}){return super.data(e)}}class GL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jl(this._firestore,this._userDataWriter,r.key,r,new fu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(h=>{const f=new jl(i._firestore,i._userDataWriter,h.doc.key,h.doc,new fu(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new jl(i._firestore,i._userDataWriter,h.doc.key,h.doc,new fu(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),m=u.indexOf(h.doc.key)),{type:zL(h.type),doc:f,oldIndex:p,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne()}}class rI extends jL{constructor(e){super(),this.firestore=e}convertBytes(e){return new la(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,n)}}function QL(t,e,n,...r){t=ss(t,Wn);const i=ss(t.firestore,ca),o=Tg(i);let u;return u=typeof(e=en(e))=="string"||e instanceof Gh?FL(o,"updateDoc",t._key,e,n,r):VL(o,"updateDoc",t._key,e),Og(i,[u.toMutation(t._key,Tr.exists(!0))])}function YL(t){return Og(ss(t.firestore,ca),[new sg(t._key,Tr.none())])}function XL(t,e){const n=ss(t.firestore,ca),r=yp(t),i=KL(t.converter,e);return Og(n,[ML(Tg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Tr.exists(!1))]).then(()=>r)}function JL(t,...e){var n,r,i;t=en(t);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||Ev(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Ev(e[u])){const v=e[u];e[u]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[u+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[u+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}let f,p,m;if(t instanceof Wn)p=ss(t.firestore,ca),m=ig(t._key.path),f={next:v=>{e[u]&&e[u](ZL(p,t,v))},error:e[u+1],complete:e[u+2]};else{const v=ss(t,go);p=ss(v.firestore,ca),m=v._query;const E=new rI(p);f={next:C=>{e[u]&&e[u](new GL(p,E,v,C))},error:e[u+1],complete:e[u+2]},qL(t._query)}return function(E,C,V,q){const $=new TL(q),z=new iL(C,$,V);return E.asyncQueue.enqueueAndForget(async()=>eL(await gv(E),z)),()=>{$.$a(),E.asyncQueue.enqueueAndForget(async()=>tL(await gv(E),z))}}(Kw(p),m,h,f)}function Og(t,e){return function(r,i){const o=new no;return r.asyncQueue.enqueueAndForget(async()=>pL(await bL(r),i,o)),o.promise}(Kw(t),e)}function ZL(t,e,n){const r=n.docs.get(e._key),i=new rI(t);return new nI(t,i,e._key,r,new fu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ga=i})(pa),na(new ro("firestore",(r,{instanceIdentifier:i,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new ca(new KD(r.getProvider("auth-internal")),new YD(r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(p.options.projectId,m)}(u,i),u);return o=Object.assign({useFetchStreams:n},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),is(Fy,"4.6.3",e),is(Fy,"4.6.3","esm2017")})();function Dg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eM=iI,sI=new Qu("auth","Firebase",iI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new zp("@firebase/auth");function tM(t,...e){fh.logLevel<=et.WARN&&fh.warn(`Auth (${pa}): ${t}`,...e)}function Kl(t,...e){fh.logLevel<=et.ERROR&&fh.error(`Auth (${pa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t,...e){throw Ng(t,...e)}function qr(t,...e){return Ng(t,...e)}function oI(t,e,n){const r=Object.assign(Object.assign({},eM()),{[e]:n});return new Qu("auth","Firebase",r).create(e,{appName:t.name})}function di(t){return oI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ng(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sI.create(t,...e)}function Oe(t,e,...n){if(!t)throw Ng(e,...n)}function ci(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kl(e),new Error(e)}function _i(t,e){t||ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function nM(){return Tv()==="http:"||Tv()==="https:"}function Tv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nM()||TO()||"connection"in navigator)?navigator.onLine:!0}function iM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n){this.shortDelay=e,this.longDelay=n,_i(n>e,"Short delay should be less than long delay!"),this.isMobile=wO()||AO()}get(){return rM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t,e){_i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=new ic(3e4,6e4);function ms(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _s(t,e,n,r,i={}){return uI(t,i,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Yu(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),aI.fetch()(cI(t,t.config.apiHost,n,h),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},o))})}async function uI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},sM),e);try{const i=new uM(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw kl(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw kl(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw kl(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw kl(t,"user-disabled",u);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw oI(t,m,p);Rr(t,m)}}catch(i){if(i instanceof wi)throw i;Rr(t,"network-request-failed",{message:String(i)})}}async function sc(t,e,n,r,i={}){const o=await _s(t,e,n,r,i);return"mfaPendingCredential"in o&&Rr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function cI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?kg(t.config,i):`${t.config.apiScheme}://${i}`}function aM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qr(this.auth,"network-request-failed")),oM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qr(t,e,r);return i.customData._tokenResponse=n,i}function Av(t){return t!==void 0&&t.enterprise!==void 0}class cM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return aM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function lM(t,e){return _s(t,"GET","/v2/recaptchaConfig",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hM(t,e){return _s(t,"POST","/v1/accounts:delete",e)}async function lI(t,e){return _s(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fM(t,e=!1){const n=en(t),r=await n.getIdToken(e),i=Lg(r);Oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Tu(Od(i.auth_time)),issuedAtTime:Tu(Od(i.iat)),expirationTime:Tu(Od(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Od(t){return Number(t)*1e3}function Lg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kl("JWT malformed, contained fewer than 3 sections"),null;try{const i=bE(n);return i?JSON.parse(i):(Kl("Failed to decode base64 JWT payload"),null)}catch(i){return Kl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Rv(t){const e=Lg(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wi&&dM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function dM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Hu(t,lI(n,{idToken:r}));Oe(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?hI(o.providerUserInfo):[],h=mM(t.providerData,u),f=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!(h!=null&&h.length),m=f?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new wp(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,v)}async function gM(t){const e=en(t);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hI(t){return t.map(e=>{var{providerId:n}=e,r=Dg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(t,e){const n=await uI(t,{},async()=>{const r=Yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,u=cI(t,i,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",aI.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yM(t,e){return _s(t,"POST","/v2/accounts:revokeToken",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=Rv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await _M(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,u=new Zo;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(Oe(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&(Oe(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class li{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Dg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Hu(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fM(this,e)}reload(){return gM(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(di(this.auth));const e=await this.getIdToken();return await Hu(this,hM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,u,h,f,p,m;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(i=n.email)!==null&&i!==void 0?i:void 0,C=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,V=(u=n.photoURL)!==null&&u!==void 0?u:void 0,q=(h=n.tenantId)!==null&&h!==void 0?h:void 0,$=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,z=(p=n.createdAt)!==null&&p!==void 0?p:void 0,te=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:ne,emailVerified:pe,isAnonymous:ge,providerData:ue,stsTokenManager:N}=n;Oe(ne&&N,e,"internal-error");const A=Zo.fromJSON(this.name,N);Oe(typeof ne=="string",e,"internal-error"),$i(v,e.name),$i(E,e.name),Oe(typeof pe=="boolean",e,"internal-error"),Oe(typeof ge=="boolean",e,"internal-error"),$i(C,e.name),$i(V,e.name),$i(q,e.name),$i($,e.name),$i(z,e.name),$i(te,e.name);const R=new li({uid:ne,auth:e,email:E,emailVerified:pe,displayName:v,isAnonymous:ge,photoURL:V,phoneNumber:C,tenantId:q,stsTokenManager:A,createdAt:z,lastLoginAt:te});return ue&&Array.isArray(ue)&&(R.providerData=ue.map(O=>Object.assign({},O))),$&&(R._redirectEventId=$),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Zo;i.updateFromServerResponse(n);const o=new li({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await dh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Oe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?hI(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),h=new Zo;h.updateFromIdToken(r);const f=new li({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new wp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=new Map;function hi(t){_i(t instanceof Function,"Expected a class definition");let e=Sv.get(t);return e?(_i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Sv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fI.type="NONE";const bv=fI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t,e,n){return`firebase:${t}:${e}:${n}`}class ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Gl(this.userKey,i.apiKey,o),this.fullPersistenceKey=Gl("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ea(hi(bv),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||hi(bv);const u=Gl(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const m=await p._get(u);if(m){const v=li._fromJSON(e,m);p!==o&&(h=v),o=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new ea(o,e,r):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new ea(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_I(e))return"Blackberry";if(yI(e))return"Webos";if(Mg(e))return"Safari";if((e.includes("chrome/")||pI(e))&&!e.includes("edge/"))return"Chrome";if(mI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dI(t=_n()){return/firefox\//i.test(t)}function Mg(t=_n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pI(t=_n()){return/crios\//i.test(t)}function gI(t=_n()){return/iemobile/i.test(t)}function mI(t=_n()){return/android/i.test(t)}function _I(t=_n()){return/blackberry/i.test(t)}function yI(t=_n()){return/webos/i.test(t)}function Qh(t=_n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vM(t=_n()){var e;return Qh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function EM(){return RO()&&document.documentMode===10}function vI(t=_n()){return Qh(t)||mI(t)||yI(t)||_I(t)||/windows phone/i.test(t)||gI(t)}function wM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t,e=[]){let n;switch(t){case"Browser":n=Cv(_n());break;case"Worker":n=`${Cv(_n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(t,e={}){return _s(t,"GET","/v2/passwordPolicy",ms(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=6;class RM{constructor(e){var n,r,i,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:AM,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pv(this),this.idTokenSubscription=new Pv(this),this.beforeStateQueue=new IM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ea.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lI(this,{idToken:e}),r=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ur(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(di(this));const n=e?en(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TM(this),n=new RM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hi(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await ea.create(this,[hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&tM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function mo(t){return en(t)}class Pv{constructor(e){this.auth=e,this.observer=null,this.addObserver=NO(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bM(t){Yh=t}function wI(t){return Yh.loadJS(t)}function CM(){return Yh.recaptchaEnterpriseScript}function PM(){return Yh.gapiScript}function xM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const OM="recaptcha-enterprise",DM="NO_RECAPTCHA";class NM{constructor(e){this.type=OM,this.auth=mo(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{lM(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new cM(f);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,u(p.siteKey)}}).catch(f=>{h(f)})})}function i(o,u,h){const f=window.grecaptcha;Av(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(p=>{u(p)}).catch(()=>{u(DM)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,u)=>{r(this.auth).then(h=>{if(!n&&Av(window.grecaptcha))i(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=CM();f.length!==0&&(f+=h),wI(f).then(()=>{i(h,o,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function xv(t,e,n,r=!1){const i=new NM(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const u=Object.assign({},e);return r?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Ip(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await xv(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await xv(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t,e){const n=Yp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(rh(o,e??{}))return i;Rr(i,"already-initialized")}return n.initialize({options:e})}function LM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function MM(t,e,n){const r=mo(t);Oe(r._canInitEmulator,r,"emulator-config-failed"),Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=II(e),{host:u,port:h}=VM(e),f=h===null?"":`:${h}`;r.config.emulator={url:`${o}//${u}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),FM()}function II(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VM(t){const e=II(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Ov(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:Ov(u)}}}function Ov(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,n){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}}async function UM(t,e){return _s(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(t,e){return sc(t,"POST","/v1/accounts:signInWithPassword",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(t,e){return sc(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}async function qM(t,e){return sc(t,"POST","/v1/accounts:signInWithEmailLink",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends Vg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Wu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ip(e,n,"signInWithPassword",BM);case"emailLink":return $M(e,{email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ip(e,r,"signUpPassword",UM);case"emailLink":return qM(e,{idToken:n,email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(t,e){return sc(t,"POST","/v1/accounts:signInWithIdp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM="http://localhost";class uo extends Vg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Dg(n,["providerId","signInMethod"]);if(!r||!i)return null;const u=new uo(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return ta(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ta(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ta(e,n)}buildRequest(){const e={requestUri:HM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jM(t){const e=au(uu(t)).link,n=e?au(uu(e)).deep_link_id:null,r=au(uu(t)).deep_link_id;return(r?au(uu(r)).link:null)||r||n||e||t}class Fg{constructor(e){var n,r,i,o,u,h;const f=au(uu(e)),p=(n=f.apiKey)!==null&&n!==void 0?n:null,m=(r=f.oobCode)!==null&&r!==void 0?r:null,v=WM((i=f.mode)!==null&&i!==void 0?i:null);Oe(p&&m&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=m,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=jM(e);try{return new Fg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.providerId=va.PROVIDER_ID}static credential(e,n){return Wu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Fg.parseLink(n);return Oe(r,"argument-error"),Wu._fromEmailAndCode(e,r.code,r.tenantId)}}va.PROVIDER_ID="password";va.EMAIL_PASSWORD_SIGN_IN_METHOD="password";va.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends TI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends oc{constructor(){super("facebook.com")}static credential(e){return uo._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return uo._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yi.credential(n,r)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends oc{constructor(){super("github.com")}static credential(e){return uo._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.GITHUB_SIGN_IN_METHOD="github.com";Xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends oc{constructor(){super("twitter.com")}static credential(e,n){return uo._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ji.credential(n,r)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(t,e){return sc(t,"POST","/v1/accounts:signUp",ms(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await li._fromIdTokenResponse(e,r,i),u=Dv(r);return new co({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Dv(r);return new co({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Dv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends wi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ph(e,n,r,i)}}function AI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(t,o,e,r):o})}async function GM(t,e,n=!1){const r=await Hu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return co._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(t,e,n=!1){const{auth:r}=t;if(Ur(r.app))return Promise.reject(di(r));const i="reauthenticate";try{const o=await Hu(t,AI(r,i,e,t),n);Oe(o.idToken,r,"internal-error");const u=Lg(o.idToken);Oe(u,r,"internal-error");const{sub:h}=u;return Oe(t.uid===h,r,"user-mismatch"),co._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Rr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(t,e,n=!1){if(Ur(t.app))return Promise.reject(di(t));const r="signIn",i=await AI(t,r,e),o=await co._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function QM(t,e){return RI(mo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(t){const e=mo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YM(t,e,n){if(Ur(t.app))return Promise.reject(di(t));const r=mo(t),u=await Ip(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KM).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&SI(t),f}),h=await co._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function XM(t,e,n){return Ur(t.app)?Promise.reject(di(t)):QM(en(t),va.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&SI(t),r})}function JM(t,e,n,r){return en(t).onIdTokenChanged(e,n,r)}function ZM(t,e,n){return en(t).beforeAuthStateChanged(e,n)}function eV(t,e,n,r){return en(t).onAuthStateChanged(e,n,r)}function tV(t){return en(t).signOut()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(){const t=_n();return Mg(t)||Qh(t)}const rV=1e3,iV=10;class CI extends bI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=nV()&&wM(),this.fallbackToPolling=vI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const u=this.storage.getItem(r);if(e.newValue!==u)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);EM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,iV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CI.type="LOCAL";const sV=CI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI extends bI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PI.type="SESSION";const xI=PI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(u).map(async p=>p(n.origin,o)),f=await oV(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const p=Ug("",20);i.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(m),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(){return window}function uV(t){Hr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(){return typeof Hr().WorkerGlobalScope<"u"&&typeof Hr().importScripts=="function"}async function cV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hV(){return OI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="firebaseLocalStorageDb",fV=1,mh="firebaseLocalStorage",NI="fbase_key";class ac{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(t,e){return t.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function dV(){const t=indexedDB.deleteDatabase(DI);return new ac(t).toPromise()}function Tp(){const t=indexedDB.open(DI,fV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(mh,{keyPath:NI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(mh)?e(r):(r.close(),await dV(),e(await Tp()))})})}async function Nv(t,e,n){const r=Jh(t,!0).put({[NI]:e,value:n});return new ac(r).toPromise()}async function pV(t,e){const n=Jh(t,!1).get(e),r=await new ac(n).toPromise();return r===void 0?null:r.value}function kv(t,e){const n=Jh(t,!0).delete(e);return new ac(n).toPromise()}const gV=800,mV=3;class kI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>mV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(hV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cV(),!this.activeServiceWorker)return;this.sender=new aV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tp();return await Nv(e,gh,"1"),await kv(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Nv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>pV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Jh(i,!1).getAll();return new ac(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kI.type="LOCAL";const _V=kI;new ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t,e){return e?hi(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg extends Vg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ta(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ta(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vV(t){return RI(t.auth,new Bg(t),t.bypassAuthState)}function EV(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),zM(n,new Bg(t),t.bypassAuthState)}async function wV(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),GM(n,new Bg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vV;case"linkViaPopup":case"linkViaRedirect":return wV;case"reauthViaPopup":case"reauthViaRedirect":return EV;default:Rr(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=new ic(2e3,1e4);class Go extends LI{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Go.currentPopupAction&&Go.currentPopupAction.cancel(),Go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const e=Ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IV.get())};e()}}Go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV="pendingRedirect",zl=new Map;class AV extends LI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zl.get(this.auth._key());if(!e){try{const r=await RV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zl.set(this.auth._key(),e)}return this.bypassAuthState||zl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RV(t,e){const n=CV(e),r=bV(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function SV(t,e){zl.set(t._key(),e)}function bV(t){return hi(t._redirectPersistence)}function CV(t){return Gl(TV,t.config.apiKey,t.name)}async function PV(t,e,n=!1){if(Ur(t.app))return Promise.reject(di(t));const r=mo(t),i=yV(r,e),u=await new AV(r,i,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=10*60*1e3;class OV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(qr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lv(e))}saveEventToCache(e){this.cachedEventUids.add(Lv(e)),this.lastProcessedEventTime=Date.now()}}function Lv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NV(t,e={}){return _s(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LV=/^https?/;async function MV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await NV(t);for(const n of e)try{if(VV(n))return}catch{}Rr(t,"unauthorized-domain")}function VV(t){const e=Ep(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!LV.test(n))return!1;if(kV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=new ic(3e4,6e4);function Mv(){const t=Hr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UV(t){return new Promise((e,n)=>{var r,i,o;function u(){Mv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mv(),n(qr(t,"network-request-failed"))},timeout:FV.get()})}if(!((i=(r=Hr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Hr().gapi)===null||o===void 0)&&o.load)u();else{const h=xM("iframefcb");return Hr()[h]=()=>{gapi.load?u():n(qr(t,"network-request-failed"))},wI(`${PM()}?onload=${h}`).catch(f=>n(f))}}).catch(e=>{throw Ql=null,e})}let Ql=null;function BV(t){return Ql=Ql||UV(t),Ql}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=new ic(5e3,15e3),qV="__/auth/iframe",HV="emulator/auth/iframe",WV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KV(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kg(e,HV):`https://${t.config.authDomain}/${qV}`,r={apiKey:e.apiKey,appName:t.name,v:pa},i=jV.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Yu(r).slice(1)}`}async function GV(t){const e=await BV(t),n=Hr().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:KV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WV,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=qr(t,"network-request-failed"),h=Hr().setTimeout(()=>{o(u)},$V.get());function f(){Hr().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QV=500,YV=600,XV="_blank",JV="http://localhost";class Vv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZV(t,e,n,r=QV,i=YV){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},zV),{width:r.toString(),height:i.toString(),top:o,left:u}),p=_n().toLowerCase();n&&(h=pI(p)?XV:n),dI(p)&&(e=e||JV,f.scrollbars="yes");const m=Object.entries(f).reduce((E,[C,V])=>`${E}${C}=${V},`,"");if(vM(p)&&h!=="_self")return e2(e||"",h),new Vv(null);const v=window.open(e||"",h,m);Oe(v,t,"popup-blocked");try{v.focus()}catch{}return new Vv(v)}function e2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="__/auth/handler",n2="emulator/auth/handler",r2=encodeURIComponent("fac");async function Fv(t,e,n,r,i,o){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pa,eventId:i};if(e instanceof TI){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",DO(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))u[m]=v}if(e instanceof oc){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(u.scopes=m.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const m of Object.keys(h))h[m]===void 0&&delete h[m];const f=await t._getAppCheckToken(),p=f?`#${r2}=${encodeURIComponent(f)}`:"";return`${i2(t)}?${Yu(h).slice(1)}${p}`}function i2({config:t}){return t.emulator?kg(t,n2):`https://${t.authDomain}/${t2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="webStorageSupport";class s2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xI,this._completeRedirectFn=PV,this._overrideRedirectResult=SV}async _openPopup(e,n,r,i){var o;_i((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await Fv(e,n,r,Ep(),i);return ZV(e,u,Ug())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await Fv(e,n,r,Ep(),i);return uV(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(_i(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await GV(e),r=new OV(e);return n.register("authEvent",i=>(Oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dd,{type:Dd},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Dd];u!==void 0&&n(!!u),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vI()||Mg()||Qh()}}const o2=s2;var Uv="@firebase/auth",Bv="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c2(t){na(new ro("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Oe(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EI(t)},p=new SM(r,i,o,f);return LM(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),na(new ro("auth-internal",e=>{const n=mo(e.getProvider("auth").getImmediate());return(r=>new a2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(Uv,Bv,u2(t)),is(Uv,Bv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=5*60,h2=xE("authIdTokenMaxAge")||l2;let $v=null;const f2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>h2)return;const i=n==null?void 0:n.token;$v!==i&&($v=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function d2(t=kE()){const e=Yp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kM(t,{popupRedirectResolver:o2,persistence:[_V,sV,xI]}),r=xE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=f2(o.toString());ZM(n,u,()=>u(n.currentUser)),JM(n,h=>u(h))}}const i=CE("auth");return i&&MM(n,`http://${i}`),n}function p2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}bM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=qr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",p2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c2("Browser");const g2={apiKey:"AIzaSyCMGIq5WoKong1FgVJydBSatRtXvVrNIGo",authDomain:"noteballs-app-f5963.firebaseapp.com",databaseURL:"https://noteballs-app-f5963-default-rtdb.firebaseio.com",projectId:"noteballs-app-f5963",storageBucket:"noteballs-app-f5963.appspot.com",messagingSenderId:"657087244495",appId:"1:657087244495:web:047d2eeaae8b63af592fba"},VI=NE(g2),Ll=d2(VI),m2=DL(VI);let Nd=null,ru,qv;const Ea=AE("notes",{state:()=>({notes:[],isNotesLoaded:!1}),getters:{getNotes(t){return t.notes},isNotes(t){return t.notes.length>0}},actions:{init(){const t=uc();ru=xL(m2,"users",t.user.id,"notes"),qv=HL(ru,WL("date","desc")),this.getNotesFromFireStore()},async deleteNote(t){await YL(yp(ru,t))},async updateNote(t,e){await QL(yp(ru,e),{text:t})},async getNotesFromFireStore(){Nd&&Nd(),Nd=JL(qv,t=>{const e=[];t.forEach(n=>{const{text:r,date:i}=n.data();e.push({id:n.id,date:i,text:r})}),this.notes=e,this.isNotesLoaded=!0},t=>{console.log(t)})},async addNote(t){const n=new Date().getTime().toString();await XL(ru,{text:t.value,date:n})},clearNotes(){this.notes=[]}}}),uc=AE("accounts",{state:()=>({user:{},isActiveUser:!1}),getters:{getUser(t){return t.user}},actions:{init(){const t=Ea();eV(Ll,e=>{e?(this.user={id:e.uid,email:e.email},t.init(),this.router.push("/notes"),this.isActiveUser=!0):(this.user={},this.isActiveUser=!1,this.router.push("/auth"),t.clearNotes())})},logoutUser(){tV(Ll).then(()=>{console.log("user signed out")}).catch(t=>{console.log(t.message)})},registerUser(t){YM(Ll,t.email,t.password).then(e=>{e.user}).catch(e=>{console.log(e.message)})},loginUser(t){XM(Ll,t.email,t.password).then(e=>{e.user}).catch(e=>{alert(`${e.message} Re-login!`)})}}});var iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _h={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */_h.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",h="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",p=500,m="__lodash_placeholder__",v=1,E=2,C=4,V=1,q=2,$=1,z=2,te=4,ne=8,pe=16,ge=32,ue=64,N=128,A=256,R=512,O=30,k="...",D=800,b=16,ht=1,Ct=2,Ge=3,Be=1/0,ke=9007199254740991,xn=17976931348623157e292,yn=NaN,Pt=4294967295,Et=Pt-1,wt=Pt>>>1,Cr=[["ary",N],["bind",$],["bindKey",z],["curry",ne],["curryRight",pe],["flip",R],["partial",ge],["partialRight",ue],["rearg",A]],cn="[object Arguments]",xt="[object Array]",G="[object AsyncFunction]",de="[object Boolean]",ce="[object Date]",_e="[object DOMException]",je="[object Error]",it="[object Function]",S="[object GeneratorFunction]",x="[object Map]",B="[object Number]",X="[object Null]",j="[object Object]",oe="[object Promise]",le="[object Proxy]",ie="[object RegExp]",se="[object Set]",ee="[object String]",he="[object Symbol]",Ae="[object Undefined]",ve="[object WeakMap]",Ee="[object WeakSet]",Te="[object ArrayBuffer]",He="[object DataView]",ot="[object Float32Array]",It="[object Float64Array]",ln="[object Int8Array]",vn="[object Int16Array]",Kr="[object Int32Array]",er="[object Uint8Array]",Pr="[object Uint8ClampedArray]",zt="[object Uint16Array]",En="[object Uint32Array]",Ii=/\b__p \+= '';/g,cc=/\b(__p \+=) '' \+/g,lc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ti=/&(?:amp|lt|gt|quot|#39);/g,_o=/[&<>"']/g,wa=RegExp(Ti.source),Gr=RegExp(_o.source),hc=/<%-([\s\S]+?)%>/g,yo=/<%([\s\S]+?)%>/g,Ia=/<%=([\s\S]+?)%>/g,ys=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fc=/^\w*$/,hn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vo=/[\\^$.*+?()[\]{}|]/g,vs=RegExp(vo.source),zr=/^\s+/,tf=/\s/,nf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ai=/\{\n\/\* \[wrapped with (.+)\] \*/,rf=/,? & /,sf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Eo=/[()=,{}\[\]\/\s]/,dc=/\\(\\)?/g,Ta=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Es=/\w*$/,xr=/^[-+]0x[0-9a-f]+$/i,pc=/^0b[01]+$/i,gc=/^\[object .+?Constructor\]$/,Aa=/^0o[0-7]+$/i,Ra=/^(?:0|[1-9]\d*)$/,mc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ws=/($^)/,of=/['\n\r\u2028\u2029\\]/g,Qr="\\ud800-\\udfff",_c="\\u0300-\\u036f",Sa="\\ufe20-\\ufe2f",Is="\\u20d0-\\u20ff",Or=_c+Sa+Is,wo="\\u2700-\\u27bf",yc="a-z\\xdf-\\xf6\\xf8-\\xff",vc="\\xac\\xb1\\xd7\\xf7",Ec="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",wc="\\u2000-\\u206f",ba=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Io="A-Z\\xc0-\\xd6\\xd8-\\xde",Ca="\\ufe0e\\ufe0f",Pa=vc+Ec+wc+ba,xa="['’]",af="["+Qr+"]",Oa="["+Pa+"]",Ts="["+Or+"]",Ic="\\d+",Yr="["+wo+"]",tr="["+yc+"]",As="[^"+Qr+Pa+Ic+wo+yc+Io+"]",Ri="\\ud83c[\\udffb-\\udfff]",Tc="(?:"+Ts+"|"+Ri+")",mt="[^"+Qr+"]",Si="(?:\\ud83c[\\udde6-\\uddff]){2}",Xr="[\\ud800-\\udbff][\\udc00-\\udfff]",nr="["+Io+"]",Ac="\\u200d",Da="(?:"+tr+"|"+As+")",uf="(?:"+nr+"|"+As+")",Rc="(?:"+xa+"(?:d|ll|m|re|s|t|ve))?",Sc="(?:"+xa+"(?:D|LL|M|RE|S|T|VE))?",bc=Tc+"?",bi="["+Ca+"]?",Dr="(?:"+Ac+"(?:"+[mt,Si,Xr].join("|")+")"+bi+bc+")*",Cc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Na=bi+bc+Dr,Ci="(?:"+[Yr,Si,Xr].join("|")+")"+Na,cf="(?:"+[mt+Ts+"?",Ts,Si,Xr,af].join("|")+")",lf=RegExp(xa,"g"),hf=RegExp(Ts,"g"),rr=RegExp(Ri+"(?="+Ri+")|"+cf+Na,"g"),ff=RegExp([nr+"?"+tr+"+"+Rc+"(?="+[Oa,nr,"$"].join("|")+")",uf+"+"+Sc+"(?="+[Oa,nr+Da,"$"].join("|")+")",nr+"?"+Da+"+"+Rc,nr+"+"+Sc,Pc,Cc,Ic,Ci].join("|"),"g"),df=RegExp("["+Ac+Qr+Or+Ca+"]"),Rs=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,To=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xc=-1,at={};at[ot]=at[It]=at[ln]=at[vn]=at[Kr]=at[er]=at[Pr]=at[zt]=at[En]=!0,at[cn]=at[xt]=at[Te]=at[de]=at[He]=at[ce]=at[je]=at[it]=at[x]=at[B]=at[j]=at[ie]=at[se]=at[ee]=at[ve]=!1;var st={};st[cn]=st[xt]=st[Te]=st[He]=st[de]=st[ce]=st[ot]=st[It]=st[ln]=st[vn]=st[Kr]=st[x]=st[B]=st[j]=st[ie]=st[se]=st[ee]=st[he]=st[er]=st[Pr]=st[zt]=st[En]=!0,st[je]=st[it]=st[ve]=!1;var Oc={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ka={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},St={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},pf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},gf=parseFloat,Dc=parseInt,La=typeof iu=="object"&&iu&&iu.Object===Object&&iu,Nc=typeof self=="object"&&self&&self.Object===Object&&self,Nt=La||Nc||Function("return this")(),Ao=e&&!e.nodeType&&e,fn=Ao&&!0&&t&&!t.nodeType&&t,Ma=fn&&fn.exports===Ao,Va=Ma&&La.process,tn=function(){try{var M=fn&&fn.require&&fn.require("util").types;return M||Va&&Va.binding&&Va.binding("util")}catch{}}(),Fa=tn&&tn.isArrayBuffer,Ro=tn&&tn.isDate,Ss=tn&&tn.isMap,Ua=tn&&tn.isRegExp,bs=tn&&tn.isSet,kc=tn&&tn.isTypedArray;function wn(M,K,H){switch(H.length){case 0:return M.call(K);case 1:return M.call(K,H[0]);case 2:return M.call(K,H[0],H[1]);case 3:return M.call(K,H[0],H[1],H[2])}return M.apply(K,H)}function Cs(M,K,H,me){for(var Le=-1,ct=M==null?0:M.length;++Le<ct;){var Yt=M[Le];K(me,Yt,H(Yt),M)}return me}function On(M,K){for(var H=-1,me=M==null?0:M.length;++H<me&&K(M[H],H,M)!==!1;);return M}function Lc(M,K){for(var H=M==null?0:M.length;H--&&K(M[H],H,M)!==!1;);return M}function So(M,K){for(var H=-1,me=M==null?0:M.length;++H<me;)if(!K(M[H],H,M))return!1;return!0}function ir(M,K){for(var H=-1,me=M==null?0:M.length,Le=0,ct=[];++H<me;){var Yt=M[H];K(Yt,H,M)&&(ct[Le++]=Yt)}return ct}function Ps(M,K){var H=M==null?0:M.length;return!!H&&Jr(M,K,0)>-1}function Pi(M,K,H){for(var me=-1,Le=M==null?0:M.length;++me<Le;)if(H(K,M[me]))return!0;return!1}function _t(M,K){for(var H=-1,me=M==null?0:M.length,Le=Array(me);++H<me;)Le[H]=K(M[H],H,M);return Le}function mr(M,K){for(var H=-1,me=K.length,Le=M.length;++H<me;)M[Le+H]=K[H];return M}function _r(M,K,H,me){var Le=-1,ct=M==null?0:M.length;for(me&&ct&&(H=M[++Le]);++Le<ct;)H=K(H,M[Le],Le,M);return H}function Mc(M,K,H,me){var Le=M==null?0:M.length;for(me&&Le&&(H=M[--Le]);Le--;)H=K(H,M[Le],Le,M);return H}function bo(M,K){for(var H=-1,me=M==null?0:M.length;++H<me;)if(K(M[H],H,M))return!0;return!1}var Vc=_("length");function Fc(M){return M.split("")}function Co(M){return M.match(sf)||[]}function In(M,K,H){var me;return H(M,function(Le,ct,Yt){if(K(Le,ct,Yt))return me=ct,!1}),me}function xs(M,K,H,me){for(var Le=M.length,ct=H+(me?1:-1);me?ct--:++ct<Le;)if(K(M[ct],ct,M))return ct;return-1}function Jr(M,K,H){return K===K?aT(M,K,H):xs(M,c,H)}function xi(M,K,H,me){for(var Le=H-1,ct=M.length;++Le<ct;)if(me(M[Le],K))return Le;return-1}function c(M){return M!==M}function d(M,K){var H=M==null?0:M.length;return H?ae(M,K)/H:yn}function _(M){return function(K){return K==null?n:K[M]}}function I(M){return function(K){return M==null?n:M[K]}}function U(M,K,H,me,Le){return Le(M,function(ct,Yt,yt){H=me?(me=!1,ct):K(H,ct,Yt,yt)}),H}function W(M,K){var H=M.length;for(M.sort(K);H--;)M[H]=M[H].value;return M}function ae(M,K){for(var H,me=-1,Le=M.length;++me<Le;){var ct=K(M[me]);ct!==n&&(H=H===n?ct:H+ct)}return H}function ut(M,K){for(var H=-1,me=Array(M);++H<M;)me[H]=K(H);return me}function Qt(M,K){return _t(K,function(H){return[H,M[H]]})}function Je(M){return M&&M.slice(0,zg(M)+1).replace(zr,"")}function ft(M){return function(K){return M(K)}}function $t(M,K){return _t(K,function(H){return M[H]})}function sr(M,K){return M.has(K)}function Mn(M,K){for(var H=-1,me=M.length;++H<me&&Jr(K,M[H],0)>-1;);return H}function Os(M,K){for(var H=M.length;H--&&Jr(K,M[H],0)>-1;);return H}function Ba(M,K){for(var H=M.length,me=0;H--;)M[H]===K&&++me;return me}var eT=I(Oc),tT=I(ka);function nT(M){return"\\"+pf[M]}function rT(M,K){return M==null?n:M[K]}function Po(M){return df.test(M)}function iT(M){return Rs.test(M)}function sT(M){for(var K,H=[];!(K=M.next()).done;)H.push(K.value);return H}function mf(M){var K=-1,H=Array(M.size);return M.forEach(function(me,Le){H[++K]=[Le,me]}),H}function Gg(M,K){return function(H){return M(K(H))}}function Oi(M,K){for(var H=-1,me=M.length,Le=0,ct=[];++H<me;){var Yt=M[H];(Yt===K||Yt===m)&&(M[H]=m,ct[Le++]=H)}return ct}function Uc(M){var K=-1,H=Array(M.size);return M.forEach(function(me){H[++K]=me}),H}function oT(M){var K=-1,H=Array(M.size);return M.forEach(function(me){H[++K]=[me,me]}),H}function aT(M,K,H){for(var me=H-1,Le=M.length;++me<Le;)if(M[me]===K)return me;return-1}function uT(M,K,H){for(var me=H+1;me--;)if(M[me]===K)return me;return me}function xo(M){return Po(M)?lT(M):Vc(M)}function yr(M){return Po(M)?hT(M):Fc(M)}function zg(M){for(var K=M.length;K--&&tf.test(M.charAt(K)););return K}var cT=I(St);function lT(M){for(var K=rr.lastIndex=0;rr.test(M);)++K;return K}function hT(M){return M.match(rr)||[]}function fT(M){return M.match(ff)||[]}var dT=function M(K){K=K==null?Nt:Oo.defaults(Nt.Object(),K,Oo.pick(Nt,To));var H=K.Array,me=K.Date,Le=K.Error,ct=K.Function,Yt=K.Math,yt=K.Object,_f=K.RegExp,pT=K.String,or=K.TypeError,Bc=H.prototype,gT=ct.prototype,Do=yt.prototype,$c=K["__core-js_shared__"],qc=gT.toString,pt=Do.hasOwnProperty,mT=0,Qg=function(){var s=/[^.]+$/.exec($c&&$c.keys&&$c.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),Hc=Do.toString,_T=qc.call(yt),yT=Nt._,vT=_f("^"+qc.call(pt).replace(vo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wc=Ma?K.Buffer:n,Di=K.Symbol,jc=K.Uint8Array,Yg=Wc?Wc.allocUnsafe:n,Kc=Gg(yt.getPrototypeOf,yt),Xg=yt.create,Jg=Do.propertyIsEnumerable,Gc=Bc.splice,Zg=Di?Di.isConcatSpreadable:n,$a=Di?Di.iterator:n,Ds=Di?Di.toStringTag:n,zc=function(){try{var s=Vs(yt,"defineProperty");return s({},"",{}),s}catch{}}(),ET=K.clearTimeout!==Nt.clearTimeout&&K.clearTimeout,wT=me&&me.now!==Nt.Date.now&&me.now,IT=K.setTimeout!==Nt.setTimeout&&K.setTimeout,Qc=Yt.ceil,Yc=Yt.floor,yf=yt.getOwnPropertySymbols,TT=Wc?Wc.isBuffer:n,em=K.isFinite,AT=Bc.join,RT=Gg(yt.keys,yt),Xt=Yt.max,Tn=Yt.min,ST=me.now,bT=K.parseInt,tm=Yt.random,CT=Bc.reverse,vf=Vs(K,"DataView"),qa=Vs(K,"Map"),Ef=Vs(K,"Promise"),No=Vs(K,"Set"),Ha=Vs(K,"WeakMap"),Wa=Vs(yt,"create"),Xc=Ha&&new Ha,ko={},PT=Fs(vf),xT=Fs(qa),OT=Fs(Ef),DT=Fs(No),NT=Fs(Ha),Jc=Di?Di.prototype:n,ja=Jc?Jc.valueOf:n,nm=Jc?Jc.toString:n;function w(s){if(kt(s)&&!Ve(s)&&!(s instanceof Ye)){if(s instanceof ar)return s;if(pt.call(s,"__wrapped__"))return r_(s)}return new ar(s)}var Lo=function(){function s(){}return function(a){if(!Ot(a))return{};if(Xg)return Xg(a);s.prototype=a;var l=new s;return s.prototype=n,l}}();function Zc(){}function ar(s,a){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=n}w.templateSettings={escape:hc,evaluate:yo,interpolate:Ia,variable:"",imports:{_:w}},w.prototype=Zc.prototype,w.prototype.constructor=w,ar.prototype=Lo(Zc.prototype),ar.prototype.constructor=ar;function Ye(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Pt,this.__views__=[]}function kT(){var s=new Ye(this.__wrapped__);return s.__actions__=Vn(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Vn(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Vn(this.__views__),s}function LT(){if(this.__filtered__){var s=new Ye(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function MT(){var s=this.__wrapped__.value(),a=this.__dir__,l=Ve(s),g=a<0,y=l?s.length:0,T=zA(0,y,this.__views__),P=T.start,L=T.end,F=L-P,Q=g?L:P-1,Y=this.__iteratees__,Z=Y.length,fe=0,Ie=Tn(F,this.__takeCount__);if(!l||!g&&y==F&&Ie==F)return Sm(s,this.__actions__);var be=[];e:for(;F--&&fe<Ie;){Q+=a;for(var We=-1,Ce=s[Q];++We<Z;){var ze=Y[We],Ze=ze.iteratee,zn=ze.type,kn=Ze(Ce);if(zn==Ct)Ce=kn;else if(!kn){if(zn==ht)continue e;break e}}be[fe++]=Ce}return be}Ye.prototype=Lo(Zc.prototype),Ye.prototype.constructor=Ye;function Ns(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var g=s[a];this.set(g[0],g[1])}}function VT(){this.__data__=Wa?Wa(null):{},this.size=0}function FT(s){var a=this.has(s)&&delete this.__data__[s];return this.size-=a?1:0,a}function UT(s){var a=this.__data__;if(Wa){var l=a[s];return l===f?n:l}return pt.call(a,s)?a[s]:n}function BT(s){var a=this.__data__;return Wa?a[s]!==n:pt.call(a,s)}function $T(s,a){var l=this.__data__;return this.size+=this.has(s)?0:1,l[s]=Wa&&a===n?f:a,this}Ns.prototype.clear=VT,Ns.prototype.delete=FT,Ns.prototype.get=UT,Ns.prototype.has=BT,Ns.prototype.set=$T;function Zr(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var g=s[a];this.set(g[0],g[1])}}function qT(){this.__data__=[],this.size=0}function HT(s){var a=this.__data__,l=el(a,s);if(l<0)return!1;var g=a.length-1;return l==g?a.pop():Gc.call(a,l,1),--this.size,!0}function WT(s){var a=this.__data__,l=el(a,s);return l<0?n:a[l][1]}function jT(s){return el(this.__data__,s)>-1}function KT(s,a){var l=this.__data__,g=el(l,s);return g<0?(++this.size,l.push([s,a])):l[g][1]=a,this}Zr.prototype.clear=qT,Zr.prototype.delete=HT,Zr.prototype.get=WT,Zr.prototype.has=jT,Zr.prototype.set=KT;function ei(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var g=s[a];this.set(g[0],g[1])}}function GT(){this.size=0,this.__data__={hash:new Ns,map:new(qa||Zr),string:new Ns}}function zT(s){var a=fl(this,s).delete(s);return this.size-=a?1:0,a}function QT(s){return fl(this,s).get(s)}function YT(s){return fl(this,s).has(s)}function XT(s,a){var l=fl(this,s),g=l.size;return l.set(s,a),this.size+=l.size==g?0:1,this}ei.prototype.clear=GT,ei.prototype.delete=zT,ei.prototype.get=QT,ei.prototype.has=YT,ei.prototype.set=XT;function ks(s){var a=-1,l=s==null?0:s.length;for(this.__data__=new ei;++a<l;)this.add(s[a])}function JT(s){return this.__data__.set(s,f),this}function ZT(s){return this.__data__.has(s)}ks.prototype.add=ks.prototype.push=JT,ks.prototype.has=ZT;function vr(s){var a=this.__data__=new Zr(s);this.size=a.size}function eA(){this.__data__=new Zr,this.size=0}function tA(s){var a=this.__data__,l=a.delete(s);return this.size=a.size,l}function nA(s){return this.__data__.get(s)}function rA(s){return this.__data__.has(s)}function iA(s,a){var l=this.__data__;if(l instanceof Zr){var g=l.__data__;if(!qa||g.length<i-1)return g.push([s,a]),this.size=++l.size,this;l=this.__data__=new ei(g)}return l.set(s,a),this.size=l.size,this}vr.prototype.clear=eA,vr.prototype.delete=tA,vr.prototype.get=nA,vr.prototype.has=rA,vr.prototype.set=iA;function rm(s,a){var l=Ve(s),g=!l&&Us(s),y=!l&&!g&&Vi(s),T=!l&&!g&&!y&&Uo(s),P=l||g||y||T,L=P?ut(s.length,pT):[],F=L.length;for(var Q in s)(a||pt.call(s,Q))&&!(P&&(Q=="length"||y&&(Q=="offset"||Q=="parent")||T&&(Q=="buffer"||Q=="byteLength"||Q=="byteOffset")||ii(Q,F)))&&L.push(Q);return L}function im(s){var a=s.length;return a?s[Of(0,a-1)]:n}function sA(s,a){return dl(Vn(s),Ls(a,0,s.length))}function oA(s){return dl(Vn(s))}function wf(s,a,l){(l!==n&&!Er(s[a],l)||l===n&&!(a in s))&&ti(s,a,l)}function Ka(s,a,l){var g=s[a];(!(pt.call(s,a)&&Er(g,l))||l===n&&!(a in s))&&ti(s,a,l)}function el(s,a){for(var l=s.length;l--;)if(Er(s[l][0],a))return l;return-1}function aA(s,a,l,g){return Ni(s,function(y,T,P){a(g,y,l(y),P)}),g}function sm(s,a){return s&&kr(a,nn(a),s)}function uA(s,a){return s&&kr(a,Un(a),s)}function ti(s,a,l){a=="__proto__"&&zc?zc(s,a,{configurable:!0,enumerable:!0,value:l,writable:!0}):s[a]=l}function If(s,a){for(var l=-1,g=a.length,y=H(g),T=s==null;++l<g;)y[l]=T?n:nd(s,a[l]);return y}function Ls(s,a,l){return s===s&&(l!==n&&(s=s<=l?s:l),a!==n&&(s=s>=a?s:a)),s}function ur(s,a,l,g,y,T){var P,L=a&v,F=a&E,Q=a&C;if(l&&(P=y?l(s,g,y,T):l(s)),P!==n)return P;if(!Ot(s))return s;var Y=Ve(s);if(Y){if(P=YA(s),!L)return Vn(s,P)}else{var Z=An(s),fe=Z==it||Z==S;if(Vi(s))return Pm(s,L);if(Z==j||Z==cn||fe&&!y){if(P=F||fe?{}:zm(s),!L)return F?UA(s,uA(P,s)):FA(s,sm(P,s))}else{if(!st[Z])return y?s:{};P=XA(s,Z,L)}}T||(T=new vr);var Ie=T.get(s);if(Ie)return Ie;T.set(s,P),T_(s)?s.forEach(function(Ce){P.add(ur(Ce,a,l,Ce,s,T))}):w_(s)&&s.forEach(function(Ce,ze){P.set(ze,ur(Ce,a,l,ze,s,T))});var be=Q?F?qf:$f:F?Un:nn,We=Y?n:be(s);return On(We||s,function(Ce,ze){We&&(ze=Ce,Ce=s[ze]),Ka(P,ze,ur(Ce,a,l,ze,s,T))}),P}function cA(s){var a=nn(s);return function(l){return om(l,s,a)}}function om(s,a,l){var g=l.length;if(s==null)return!g;for(s=yt(s);g--;){var y=l[g],T=a[y],P=s[y];if(P===n&&!(y in s)||!T(P))return!1}return!0}function am(s,a,l){if(typeof s!="function")throw new or(u);return Za(function(){s.apply(n,l)},a)}function Ga(s,a,l,g){var y=-1,T=Ps,P=!0,L=s.length,F=[],Q=a.length;if(!L)return F;l&&(a=_t(a,ft(l))),g?(T=Pi,P=!1):a.length>=i&&(T=sr,P=!1,a=new ks(a));e:for(;++y<L;){var Y=s[y],Z=l==null?Y:l(Y);if(Y=g||Y!==0?Y:0,P&&Z===Z){for(var fe=Q;fe--;)if(a[fe]===Z)continue e;F.push(Y)}else T(a,Z,g)||F.push(Y)}return F}var Ni=km(Nr),um=km(Af,!0);function lA(s,a){var l=!0;return Ni(s,function(g,y,T){return l=!!a(g,y,T),l}),l}function tl(s,a,l){for(var g=-1,y=s.length;++g<y;){var T=s[g],P=a(T);if(P!=null&&(L===n?P===P&&!Gn(P):l(P,L)))var L=P,F=T}return F}function hA(s,a,l,g){var y=s.length;for(l=qe(l),l<0&&(l=-l>y?0:y+l),g=g===n||g>y?y:qe(g),g<0&&(g+=y),g=l>g?0:R_(g);l<g;)s[l++]=a;return s}function cm(s,a){var l=[];return Ni(s,function(g,y,T){a(g,y,T)&&l.push(g)}),l}function dn(s,a,l,g,y){var T=-1,P=s.length;for(l||(l=ZA),y||(y=[]);++T<P;){var L=s[T];a>0&&l(L)?a>1?dn(L,a-1,l,g,y):mr(y,L):g||(y[y.length]=L)}return y}var Tf=Lm(),lm=Lm(!0);function Nr(s,a){return s&&Tf(s,a,nn)}function Af(s,a){return s&&lm(s,a,nn)}function nl(s,a){return ir(a,function(l){return si(s[l])})}function Ms(s,a){a=Li(a,s);for(var l=0,g=a.length;s!=null&&l<g;)s=s[Lr(a[l++])];return l&&l==g?s:n}function hm(s,a,l){var g=a(s);return Ve(s)?g:mr(g,l(s))}function Dn(s){return s==null?s===n?Ae:X:Ds&&Ds in yt(s)?GA(s):oR(s)}function Rf(s,a){return s>a}function fA(s,a){return s!=null&&pt.call(s,a)}function dA(s,a){return s!=null&&a in yt(s)}function pA(s,a,l){return s>=Tn(a,l)&&s<Xt(a,l)}function Sf(s,a,l){for(var g=l?Pi:Ps,y=s[0].length,T=s.length,P=T,L=H(T),F=1/0,Q=[];P--;){var Y=s[P];P&&a&&(Y=_t(Y,ft(a))),F=Tn(Y.length,F),L[P]=!l&&(a||y>=120&&Y.length>=120)?new ks(P&&Y):n}Y=s[0];var Z=-1,fe=L[0];e:for(;++Z<y&&Q.length<F;){var Ie=Y[Z],be=a?a(Ie):Ie;if(Ie=l||Ie!==0?Ie:0,!(fe?sr(fe,be):g(Q,be,l))){for(P=T;--P;){var We=L[P];if(!(We?sr(We,be):g(s[P],be,l)))continue e}fe&&fe.push(be),Q.push(Ie)}}return Q}function gA(s,a,l,g){return Nr(s,function(y,T,P){a(g,l(y),T,P)}),g}function za(s,a,l){a=Li(a,s),s=Jm(s,a);var g=s==null?s:s[Lr(lr(a))];return g==null?n:wn(g,s,l)}function fm(s){return kt(s)&&Dn(s)==cn}function mA(s){return kt(s)&&Dn(s)==Te}function _A(s){return kt(s)&&Dn(s)==ce}function Qa(s,a,l,g,y){return s===a?!0:s==null||a==null||!kt(s)&&!kt(a)?s!==s&&a!==a:yA(s,a,l,g,Qa,y)}function yA(s,a,l,g,y,T){var P=Ve(s),L=Ve(a),F=P?xt:An(s),Q=L?xt:An(a);F=F==cn?j:F,Q=Q==cn?j:Q;var Y=F==j,Z=Q==j,fe=F==Q;if(fe&&Vi(s)){if(!Vi(a))return!1;P=!0,Y=!1}if(fe&&!Y)return T||(T=new vr),P||Uo(s)?jm(s,a,l,g,y,T):jA(s,a,F,l,g,y,T);if(!(l&V)){var Ie=Y&&pt.call(s,"__wrapped__"),be=Z&&pt.call(a,"__wrapped__");if(Ie||be){var We=Ie?s.value():s,Ce=be?a.value():a;return T||(T=new vr),y(We,Ce,l,g,T)}}return fe?(T||(T=new vr),KA(s,a,l,g,y,T)):!1}function vA(s){return kt(s)&&An(s)==x}function bf(s,a,l,g){var y=l.length,T=y,P=!g;if(s==null)return!T;for(s=yt(s);y--;){var L=l[y];if(P&&L[2]?L[1]!==s[L[0]]:!(L[0]in s))return!1}for(;++y<T;){L=l[y];var F=L[0],Q=s[F],Y=L[1];if(P&&L[2]){if(Q===n&&!(F in s))return!1}else{var Z=new vr;if(g)var fe=g(Q,Y,F,s,a,Z);if(!(fe===n?Qa(Y,Q,V|q,g,Z):fe))return!1}}return!0}function dm(s){if(!Ot(s)||tR(s))return!1;var a=si(s)?vT:gc;return a.test(Fs(s))}function EA(s){return kt(s)&&Dn(s)==ie}function wA(s){return kt(s)&&An(s)==se}function IA(s){return kt(s)&&vl(s.length)&&!!at[Dn(s)]}function pm(s){return typeof s=="function"?s:s==null?Bn:typeof s=="object"?Ve(s)?_m(s[0],s[1]):mm(s):M_(s)}function Cf(s){if(!Ja(s))return RT(s);var a=[];for(var l in yt(s))pt.call(s,l)&&l!="constructor"&&a.push(l);return a}function TA(s){if(!Ot(s))return sR(s);var a=Ja(s),l=[];for(var g in s)g=="constructor"&&(a||!pt.call(s,g))||l.push(g);return l}function Pf(s,a){return s<a}function gm(s,a){var l=-1,g=Fn(s)?H(s.length):[];return Ni(s,function(y,T,P){g[++l]=a(y,T,P)}),g}function mm(s){var a=Wf(s);return a.length==1&&a[0][2]?Ym(a[0][0],a[0][1]):function(l){return l===s||bf(l,s,a)}}function _m(s,a){return Kf(s)&&Qm(a)?Ym(Lr(s),a):function(l){var g=nd(l,s);return g===n&&g===a?rd(l,s):Qa(a,g,V|q)}}function rl(s,a,l,g,y){s!==a&&Tf(a,function(T,P){if(y||(y=new vr),Ot(T))AA(s,a,P,l,rl,g,y);else{var L=g?g(zf(s,P),T,P+"",s,a,y):n;L===n&&(L=T),wf(s,P,L)}},Un)}function AA(s,a,l,g,y,T,P){var L=zf(s,l),F=zf(a,l),Q=P.get(F);if(Q){wf(s,l,Q);return}var Y=T?T(L,F,l+"",s,a,P):n,Z=Y===n;if(Z){var fe=Ve(F),Ie=!fe&&Vi(F),be=!fe&&!Ie&&Uo(F);Y=F,fe||Ie||be?Ve(L)?Y=L:Vt(L)?Y=Vn(L):Ie?(Z=!1,Y=Pm(F,!0)):be?(Z=!1,Y=xm(F,!0)):Y=[]:eu(F)||Us(F)?(Y=L,Us(L)?Y=S_(L):(!Ot(L)||si(L))&&(Y=zm(F))):Z=!1}Z&&(P.set(F,Y),y(Y,F,g,T,P),P.delete(F)),wf(s,l,Y)}function ym(s,a){var l=s.length;if(l)return a+=a<0?l:0,ii(a,l)?s[a]:n}function vm(s,a,l){a.length?a=_t(a,function(T){return Ve(T)?function(P){return Ms(P,T.length===1?T[0]:T)}:T}):a=[Bn];var g=-1;a=_t(a,ft(Se()));var y=gm(s,function(T,P,L){var F=_t(a,function(Q){return Q(T)});return{criteria:F,index:++g,value:T}});return W(y,function(T,P){return VA(T,P,l)})}function RA(s,a){return Em(s,a,function(l,g){return rd(s,g)})}function Em(s,a,l){for(var g=-1,y=a.length,T={};++g<y;){var P=a[g],L=Ms(s,P);l(L,P)&&Ya(T,Li(P,s),L)}return T}function SA(s){return function(a){return Ms(a,s)}}function xf(s,a,l,g){var y=g?xi:Jr,T=-1,P=a.length,L=s;for(s===a&&(a=Vn(a)),l&&(L=_t(s,ft(l)));++T<P;)for(var F=0,Q=a[T],Y=l?l(Q):Q;(F=y(L,Y,F,g))>-1;)L!==s&&Gc.call(L,F,1),Gc.call(s,F,1);return s}function wm(s,a){for(var l=s?a.length:0,g=l-1;l--;){var y=a[l];if(l==g||y!==T){var T=y;ii(y)?Gc.call(s,y,1):kf(s,y)}}return s}function Of(s,a){return s+Yc(tm()*(a-s+1))}function bA(s,a,l,g){for(var y=-1,T=Xt(Qc((a-s)/(l||1)),0),P=H(T);T--;)P[g?T:++y]=s,s+=l;return P}function Df(s,a){var l="";if(!s||a<1||a>ke)return l;do a%2&&(l+=s),a=Yc(a/2),a&&(s+=s);while(a);return l}function Ke(s,a){return Qf(Xm(s,a,Bn),s+"")}function CA(s){return im(Bo(s))}function PA(s,a){var l=Bo(s);return dl(l,Ls(a,0,l.length))}function Ya(s,a,l,g){if(!Ot(s))return s;a=Li(a,s);for(var y=-1,T=a.length,P=T-1,L=s;L!=null&&++y<T;){var F=Lr(a[y]),Q=l;if(F==="__proto__"||F==="constructor"||F==="prototype")return s;if(y!=P){var Y=L[F];Q=g?g(Y,F,L):n,Q===n&&(Q=Ot(Y)?Y:ii(a[y+1])?[]:{})}Ka(L,F,Q),L=L[F]}return s}var Im=Xc?function(s,a){return Xc.set(s,a),s}:Bn,xA=zc?function(s,a){return zc(s,"toString",{configurable:!0,enumerable:!1,value:sd(a),writable:!0})}:Bn;function OA(s){return dl(Bo(s))}function cr(s,a,l){var g=-1,y=s.length;a<0&&(a=-a>y?0:y+a),l=l>y?y:l,l<0&&(l+=y),y=a>l?0:l-a>>>0,a>>>=0;for(var T=H(y);++g<y;)T[g]=s[g+a];return T}function DA(s,a){var l;return Ni(s,function(g,y,T){return l=a(g,y,T),!l}),!!l}function il(s,a,l){var g=0,y=s==null?g:s.length;if(typeof a=="number"&&a===a&&y<=wt){for(;g<y;){var T=g+y>>>1,P=s[T];P!==null&&!Gn(P)&&(l?P<=a:P<a)?g=T+1:y=T}return y}return Nf(s,a,Bn,l)}function Nf(s,a,l,g){var y=0,T=s==null?0:s.length;if(T===0)return 0;a=l(a);for(var P=a!==a,L=a===null,F=Gn(a),Q=a===n;y<T;){var Y=Yc((y+T)/2),Z=l(s[Y]),fe=Z!==n,Ie=Z===null,be=Z===Z,We=Gn(Z);if(P)var Ce=g||be;else Q?Ce=be&&(g||fe):L?Ce=be&&fe&&(g||!Ie):F?Ce=be&&fe&&!Ie&&(g||!We):Ie||We?Ce=!1:Ce=g?Z<=a:Z<a;Ce?y=Y+1:T=Y}return Tn(T,Et)}function Tm(s,a){for(var l=-1,g=s.length,y=0,T=[];++l<g;){var P=s[l],L=a?a(P):P;if(!l||!Er(L,F)){var F=L;T[y++]=P===0?0:P}}return T}function Am(s){return typeof s=="number"?s:Gn(s)?yn:+s}function Kn(s){if(typeof s=="string")return s;if(Ve(s))return _t(s,Kn)+"";if(Gn(s))return nm?nm.call(s):"";var a=s+"";return a=="0"&&1/s==-Be?"-0":a}function ki(s,a,l){var g=-1,y=Ps,T=s.length,P=!0,L=[],F=L;if(l)P=!1,y=Pi;else if(T>=i){var Q=a?null:HA(s);if(Q)return Uc(Q);P=!1,y=sr,F=new ks}else F=a?[]:L;e:for(;++g<T;){var Y=s[g],Z=a?a(Y):Y;if(Y=l||Y!==0?Y:0,P&&Z===Z){for(var fe=F.length;fe--;)if(F[fe]===Z)continue e;a&&F.push(Z),L.push(Y)}else y(F,Z,l)||(F!==L&&F.push(Z),L.push(Y))}return L}function kf(s,a){return a=Li(a,s),s=Jm(s,a),s==null||delete s[Lr(lr(a))]}function Rm(s,a,l,g){return Ya(s,a,l(Ms(s,a)),g)}function sl(s,a,l,g){for(var y=s.length,T=g?y:-1;(g?T--:++T<y)&&a(s[T],T,s););return l?cr(s,g?0:T,g?T+1:y):cr(s,g?T+1:0,g?y:T)}function Sm(s,a){var l=s;return l instanceof Ye&&(l=l.value()),_r(a,function(g,y){return y.func.apply(y.thisArg,mr([g],y.args))},l)}function Lf(s,a,l){var g=s.length;if(g<2)return g?ki(s[0]):[];for(var y=-1,T=H(g);++y<g;)for(var P=s[y],L=-1;++L<g;)L!=y&&(T[y]=Ga(T[y]||P,s[L],a,l));return ki(dn(T,1),a,l)}function bm(s,a,l){for(var g=-1,y=s.length,T=a.length,P={};++g<y;){var L=g<T?a[g]:n;l(P,s[g],L)}return P}function Mf(s){return Vt(s)?s:[]}function Vf(s){return typeof s=="function"?s:Bn}function Li(s,a){return Ve(s)?s:Kf(s,a)?[s]:n_(dt(s))}var NA=Ke;function Mi(s,a,l){var g=s.length;return l=l===n?g:l,!a&&l>=g?s:cr(s,a,l)}var Cm=ET||function(s){return Nt.clearTimeout(s)};function Pm(s,a){if(a)return s.slice();var l=s.length,g=Yg?Yg(l):new s.constructor(l);return s.copy(g),g}function Ff(s){var a=new s.constructor(s.byteLength);return new jc(a).set(new jc(s)),a}function kA(s,a){var l=a?Ff(s.buffer):s.buffer;return new s.constructor(l,s.byteOffset,s.byteLength)}function LA(s){var a=new s.constructor(s.source,Es.exec(s));return a.lastIndex=s.lastIndex,a}function MA(s){return ja?yt(ja.call(s)):{}}function xm(s,a){var l=a?Ff(s.buffer):s.buffer;return new s.constructor(l,s.byteOffset,s.length)}function Om(s,a){if(s!==a){var l=s!==n,g=s===null,y=s===s,T=Gn(s),P=a!==n,L=a===null,F=a===a,Q=Gn(a);if(!L&&!Q&&!T&&s>a||T&&P&&F&&!L&&!Q||g&&P&&F||!l&&F||!y)return 1;if(!g&&!T&&!Q&&s<a||Q&&l&&y&&!g&&!T||L&&l&&y||!P&&y||!F)return-1}return 0}function VA(s,a,l){for(var g=-1,y=s.criteria,T=a.criteria,P=y.length,L=l.length;++g<P;){var F=Om(y[g],T[g]);if(F){if(g>=L)return F;var Q=l[g];return F*(Q=="desc"?-1:1)}}return s.index-a.index}function Dm(s,a,l,g){for(var y=-1,T=s.length,P=l.length,L=-1,F=a.length,Q=Xt(T-P,0),Y=H(F+Q),Z=!g;++L<F;)Y[L]=a[L];for(;++y<P;)(Z||y<T)&&(Y[l[y]]=s[y]);for(;Q--;)Y[L++]=s[y++];return Y}function Nm(s,a,l,g){for(var y=-1,T=s.length,P=-1,L=l.length,F=-1,Q=a.length,Y=Xt(T-L,0),Z=H(Y+Q),fe=!g;++y<Y;)Z[y]=s[y];for(var Ie=y;++F<Q;)Z[Ie+F]=a[F];for(;++P<L;)(fe||y<T)&&(Z[Ie+l[P]]=s[y++]);return Z}function Vn(s,a){var l=-1,g=s.length;for(a||(a=H(g));++l<g;)a[l]=s[l];return a}function kr(s,a,l,g){var y=!l;l||(l={});for(var T=-1,P=a.length;++T<P;){var L=a[T],F=g?g(l[L],s[L],L,l,s):n;F===n&&(F=s[L]),y?ti(l,L,F):Ka(l,L,F)}return l}function FA(s,a){return kr(s,jf(s),a)}function UA(s,a){return kr(s,Km(s),a)}function ol(s,a){return function(l,g){var y=Ve(l)?Cs:aA,T=a?a():{};return y(l,s,Se(g,2),T)}}function Mo(s){return Ke(function(a,l){var g=-1,y=l.length,T=y>1?l[y-1]:n,P=y>2?l[2]:n;for(T=s.length>3&&typeof T=="function"?(y--,T):n,P&&Nn(l[0],l[1],P)&&(T=y<3?n:T,y=1),a=yt(a);++g<y;){var L=l[g];L&&s(a,L,g,T)}return a})}function km(s,a){return function(l,g){if(l==null)return l;if(!Fn(l))return s(l,g);for(var y=l.length,T=a?y:-1,P=yt(l);(a?T--:++T<y)&&g(P[T],T,P)!==!1;);return l}}function Lm(s){return function(a,l,g){for(var y=-1,T=yt(a),P=g(a),L=P.length;L--;){var F=P[s?L:++y];if(l(T[F],F,T)===!1)break}return a}}function BA(s,a,l){var g=a&$,y=Xa(s);function T(){var P=this&&this!==Nt&&this instanceof T?y:s;return P.apply(g?l:this,arguments)}return T}function Mm(s){return function(a){a=dt(a);var l=Po(a)?yr(a):n,g=l?l[0]:a.charAt(0),y=l?Mi(l,1).join(""):a.slice(1);return g[s]()+y}}function Vo(s){return function(a){return _r(k_(N_(a).replace(lf,"")),s,"")}}function Xa(s){return function(){var a=arguments;switch(a.length){case 0:return new s;case 1:return new s(a[0]);case 2:return new s(a[0],a[1]);case 3:return new s(a[0],a[1],a[2]);case 4:return new s(a[0],a[1],a[2],a[3]);case 5:return new s(a[0],a[1],a[2],a[3],a[4]);case 6:return new s(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new s(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var l=Lo(s.prototype),g=s.apply(l,a);return Ot(g)?g:l}}function $A(s,a,l){var g=Xa(s);function y(){for(var T=arguments.length,P=H(T),L=T,F=Fo(y);L--;)P[L]=arguments[L];var Q=T<3&&P[0]!==F&&P[T-1]!==F?[]:Oi(P,F);if(T-=Q.length,T<l)return $m(s,a,al,y.placeholder,n,P,Q,n,n,l-T);var Y=this&&this!==Nt&&this instanceof y?g:s;return wn(Y,this,P)}return y}function Vm(s){return function(a,l,g){var y=yt(a);if(!Fn(a)){var T=Se(l,3);a=nn(a),l=function(L){return T(y[L],L,y)}}var P=s(a,l,g);return P>-1?y[T?a[P]:P]:n}}function Fm(s){return ri(function(a){var l=a.length,g=l,y=ar.prototype.thru;for(s&&a.reverse();g--;){var T=a[g];if(typeof T!="function")throw new or(u);if(y&&!P&&hl(T)=="wrapper")var P=new ar([],!0)}for(g=P?g:l;++g<l;){T=a[g];var L=hl(T),F=L=="wrapper"?Hf(T):n;F&&Gf(F[0])&&F[1]==(N|ne|ge|A)&&!F[4].length&&F[9]==1?P=P[hl(F[0])].apply(P,F[3]):P=T.length==1&&Gf(T)?P[L]():P.thru(T)}return function(){var Q=arguments,Y=Q[0];if(P&&Q.length==1&&Ve(Y))return P.plant(Y).value();for(var Z=0,fe=l?a[Z].apply(this,Q):Y;++Z<l;)fe=a[Z].call(this,fe);return fe}})}function al(s,a,l,g,y,T,P,L,F,Q){var Y=a&N,Z=a&$,fe=a&z,Ie=a&(ne|pe),be=a&R,We=fe?n:Xa(s);function Ce(){for(var ze=arguments.length,Ze=H(ze),zn=ze;zn--;)Ze[zn]=arguments[zn];if(Ie)var kn=Fo(Ce),Qn=Ba(Ze,kn);if(g&&(Ze=Dm(Ze,g,y,Ie)),T&&(Ze=Nm(Ze,T,P,Ie)),ze-=Qn,Ie&&ze<Q){var Ft=Oi(Ze,kn);return $m(s,a,al,Ce.placeholder,l,Ze,Ft,L,F,Q-ze)}var wr=Z?l:this,ai=fe?wr[s]:s;return ze=Ze.length,L?Ze=aR(Ze,L):be&&ze>1&&Ze.reverse(),Y&&F<ze&&(Ze.length=F),this&&this!==Nt&&this instanceof Ce&&(ai=We||Xa(ai)),ai.apply(wr,Ze)}return Ce}function Um(s,a){return function(l,g){return gA(l,s,a(g),{})}}function ul(s,a){return function(l,g){var y;if(l===n&&g===n)return a;if(l!==n&&(y=l),g!==n){if(y===n)return g;typeof l=="string"||typeof g=="string"?(l=Kn(l),g=Kn(g)):(l=Am(l),g=Am(g)),y=s(l,g)}return y}}function Uf(s){return ri(function(a){return a=_t(a,ft(Se())),Ke(function(l){var g=this;return s(a,function(y){return wn(y,g,l)})})})}function cl(s,a){a=a===n?" ":Kn(a);var l=a.length;if(l<2)return l?Df(a,s):a;var g=Df(a,Qc(s/xo(a)));return Po(a)?Mi(yr(g),0,s).join(""):g.slice(0,s)}function qA(s,a,l,g){var y=a&$,T=Xa(s);function P(){for(var L=-1,F=arguments.length,Q=-1,Y=g.length,Z=H(Y+F),fe=this&&this!==Nt&&this instanceof P?T:s;++Q<Y;)Z[Q]=g[Q];for(;F--;)Z[Q++]=arguments[++L];return wn(fe,y?l:this,Z)}return P}function Bm(s){return function(a,l,g){return g&&typeof g!="number"&&Nn(a,l,g)&&(l=g=n),a=oi(a),l===n?(l=a,a=0):l=oi(l),g=g===n?a<l?1:-1:oi(g),bA(a,l,g,s)}}function ll(s){return function(a,l){return typeof a=="string"&&typeof l=="string"||(a=hr(a),l=hr(l)),s(a,l)}}function $m(s,a,l,g,y,T,P,L,F,Q){var Y=a&ne,Z=Y?P:n,fe=Y?n:P,Ie=Y?T:n,be=Y?n:T;a|=Y?ge:ue,a&=~(Y?ue:ge),a&te||(a&=~($|z));var We=[s,a,y,Ie,Z,be,fe,L,F,Q],Ce=l.apply(n,We);return Gf(s)&&Zm(Ce,We),Ce.placeholder=g,e_(Ce,s,a)}function Bf(s){var a=Yt[s];return function(l,g){if(l=hr(l),g=g==null?0:Tn(qe(g),292),g&&em(l)){var y=(dt(l)+"e").split("e"),T=a(y[0]+"e"+(+y[1]+g));return y=(dt(T)+"e").split("e"),+(y[0]+"e"+(+y[1]-g))}return a(l)}}var HA=No&&1/Uc(new No([,-0]))[1]==Be?function(s){return new No(s)}:ud;function qm(s){return function(a){var l=An(a);return l==x?mf(a):l==se?oT(a):Qt(a,s(a))}}function ni(s,a,l,g,y,T,P,L){var F=a&z;if(!F&&typeof s!="function")throw new or(u);var Q=g?g.length:0;if(Q||(a&=~(ge|ue),g=y=n),P=P===n?P:Xt(qe(P),0),L=L===n?L:qe(L),Q-=y?y.length:0,a&ue){var Y=g,Z=y;g=y=n}var fe=F?n:Hf(s),Ie=[s,a,l,g,y,Y,Z,T,P,L];if(fe&&iR(Ie,fe),s=Ie[0],a=Ie[1],l=Ie[2],g=Ie[3],y=Ie[4],L=Ie[9]=Ie[9]===n?F?0:s.length:Xt(Ie[9]-Q,0),!L&&a&(ne|pe)&&(a&=~(ne|pe)),!a||a==$)var be=BA(s,a,l);else a==ne||a==pe?be=$A(s,a,L):(a==ge||a==($|ge))&&!y.length?be=qA(s,a,l,g):be=al.apply(n,Ie);var We=fe?Im:Zm;return e_(We(be,Ie),s,a)}function Hm(s,a,l,g){return s===n||Er(s,Do[l])&&!pt.call(g,l)?a:s}function Wm(s,a,l,g,y,T){return Ot(s)&&Ot(a)&&(T.set(a,s),rl(s,a,n,Wm,T),T.delete(a)),s}function WA(s){return eu(s)?n:s}function jm(s,a,l,g,y,T){var P=l&V,L=s.length,F=a.length;if(L!=F&&!(P&&F>L))return!1;var Q=T.get(s),Y=T.get(a);if(Q&&Y)return Q==a&&Y==s;var Z=-1,fe=!0,Ie=l&q?new ks:n;for(T.set(s,a),T.set(a,s);++Z<L;){var be=s[Z],We=a[Z];if(g)var Ce=P?g(We,be,Z,a,s,T):g(be,We,Z,s,a,T);if(Ce!==n){if(Ce)continue;fe=!1;break}if(Ie){if(!bo(a,function(ze,Ze){if(!sr(Ie,Ze)&&(be===ze||y(be,ze,l,g,T)))return Ie.push(Ze)})){fe=!1;break}}else if(!(be===We||y(be,We,l,g,T))){fe=!1;break}}return T.delete(s),T.delete(a),fe}function jA(s,a,l,g,y,T,P){switch(l){case He:if(s.byteLength!=a.byteLength||s.byteOffset!=a.byteOffset)return!1;s=s.buffer,a=a.buffer;case Te:return!(s.byteLength!=a.byteLength||!T(new jc(s),new jc(a)));case de:case ce:case B:return Er(+s,+a);case je:return s.name==a.name&&s.message==a.message;case ie:case ee:return s==a+"";case x:var L=mf;case se:var F=g&V;if(L||(L=Uc),s.size!=a.size&&!F)return!1;var Q=P.get(s);if(Q)return Q==a;g|=q,P.set(s,a);var Y=jm(L(s),L(a),g,y,T,P);return P.delete(s),Y;case he:if(ja)return ja.call(s)==ja.call(a)}return!1}function KA(s,a,l,g,y,T){var P=l&V,L=$f(s),F=L.length,Q=$f(a),Y=Q.length;if(F!=Y&&!P)return!1;for(var Z=F;Z--;){var fe=L[Z];if(!(P?fe in a:pt.call(a,fe)))return!1}var Ie=T.get(s),be=T.get(a);if(Ie&&be)return Ie==a&&be==s;var We=!0;T.set(s,a),T.set(a,s);for(var Ce=P;++Z<F;){fe=L[Z];var ze=s[fe],Ze=a[fe];if(g)var zn=P?g(Ze,ze,fe,a,s,T):g(ze,Ze,fe,s,a,T);if(!(zn===n?ze===Ze||y(ze,Ze,l,g,T):zn)){We=!1;break}Ce||(Ce=fe=="constructor")}if(We&&!Ce){var kn=s.constructor,Qn=a.constructor;kn!=Qn&&"constructor"in s&&"constructor"in a&&!(typeof kn=="function"&&kn instanceof kn&&typeof Qn=="function"&&Qn instanceof Qn)&&(We=!1)}return T.delete(s),T.delete(a),We}function ri(s){return Qf(Xm(s,n,o_),s+"")}function $f(s){return hm(s,nn,jf)}function qf(s){return hm(s,Un,Km)}var Hf=Xc?function(s){return Xc.get(s)}:ud;function hl(s){for(var a=s.name+"",l=ko[a],g=pt.call(ko,a)?l.length:0;g--;){var y=l[g],T=y.func;if(T==null||T==s)return y.name}return a}function Fo(s){var a=pt.call(w,"placeholder")?w:s;return a.placeholder}function Se(){var s=w.iteratee||od;return s=s===od?pm:s,arguments.length?s(arguments[0],arguments[1]):s}function fl(s,a){var l=s.__data__;return eR(a)?l[typeof a=="string"?"string":"hash"]:l.map}function Wf(s){for(var a=nn(s),l=a.length;l--;){var g=a[l],y=s[g];a[l]=[g,y,Qm(y)]}return a}function Vs(s,a){var l=rT(s,a);return dm(l)?l:n}function GA(s){var a=pt.call(s,Ds),l=s[Ds];try{s[Ds]=n;var g=!0}catch{}var y=Hc.call(s);return g&&(a?s[Ds]=l:delete s[Ds]),y}var jf=yf?function(s){return s==null?[]:(s=yt(s),ir(yf(s),function(a){return Jg.call(s,a)}))}:cd,Km=yf?function(s){for(var a=[];s;)mr(a,jf(s)),s=Kc(s);return a}:cd,An=Dn;(vf&&An(new vf(new ArrayBuffer(1)))!=He||qa&&An(new qa)!=x||Ef&&An(Ef.resolve())!=oe||No&&An(new No)!=se||Ha&&An(new Ha)!=ve)&&(An=function(s){var a=Dn(s),l=a==j?s.constructor:n,g=l?Fs(l):"";if(g)switch(g){case PT:return He;case xT:return x;case OT:return oe;case DT:return se;case NT:return ve}return a});function zA(s,a,l){for(var g=-1,y=l.length;++g<y;){var T=l[g],P=T.size;switch(T.type){case"drop":s+=P;break;case"dropRight":a-=P;break;case"take":a=Tn(a,s+P);break;case"takeRight":s=Xt(s,a-P);break}}return{start:s,end:a}}function QA(s){var a=s.match(Ai);return a?a[1].split(rf):[]}function Gm(s,a,l){a=Li(a,s);for(var g=-1,y=a.length,T=!1;++g<y;){var P=Lr(a[g]);if(!(T=s!=null&&l(s,P)))break;s=s[P]}return T||++g!=y?T:(y=s==null?0:s.length,!!y&&vl(y)&&ii(P,y)&&(Ve(s)||Us(s)))}function YA(s){var a=s.length,l=new s.constructor(a);return a&&typeof s[0]=="string"&&pt.call(s,"index")&&(l.index=s.index,l.input=s.input),l}function zm(s){return typeof s.constructor=="function"&&!Ja(s)?Lo(Kc(s)):{}}function XA(s,a,l){var g=s.constructor;switch(a){case Te:return Ff(s);case de:case ce:return new g(+s);case He:return kA(s,l);case ot:case It:case ln:case vn:case Kr:case er:case Pr:case zt:case En:return xm(s,l);case x:return new g;case B:case ee:return new g(s);case ie:return LA(s);case se:return new g;case he:return MA(s)}}function JA(s,a){var l=a.length;if(!l)return s;var g=l-1;return a[g]=(l>1?"& ":"")+a[g],a=a.join(l>2?", ":" "),s.replace(nf,`{
/* [wrapped with `+a+`] */
`)}function ZA(s){return Ve(s)||Us(s)||!!(Zg&&s&&s[Zg])}function ii(s,a){var l=typeof s;return a=a??ke,!!a&&(l=="number"||l!="symbol"&&Ra.test(s))&&s>-1&&s%1==0&&s<a}function Nn(s,a,l){if(!Ot(l))return!1;var g=typeof a;return(g=="number"?Fn(l)&&ii(a,l.length):g=="string"&&a in l)?Er(l[a],s):!1}function Kf(s,a){if(Ve(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||Gn(s)?!0:fc.test(s)||!ys.test(s)||a!=null&&s in yt(a)}function eR(s){var a=typeof s;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?s!=="__proto__":s===null}function Gf(s){var a=hl(s),l=w[a];if(typeof l!="function"||!(a in Ye.prototype))return!1;if(s===l)return!0;var g=Hf(l);return!!g&&s===g[0]}function tR(s){return!!Qg&&Qg in s}var nR=$c?si:ld;function Ja(s){var a=s&&s.constructor,l=typeof a=="function"&&a.prototype||Do;return s===l}function Qm(s){return s===s&&!Ot(s)}function Ym(s,a){return function(l){return l==null?!1:l[s]===a&&(a!==n||s in yt(l))}}function rR(s){var a=_l(s,function(g){return l.size===p&&l.clear(),g}),l=a.cache;return a}function iR(s,a){var l=s[1],g=a[1],y=l|g,T=y<($|z|N),P=g==N&&l==ne||g==N&&l==A&&s[7].length<=a[8]||g==(N|A)&&a[7].length<=a[8]&&l==ne;if(!(T||P))return s;g&$&&(s[2]=a[2],y|=l&$?0:te);var L=a[3];if(L){var F=s[3];s[3]=F?Dm(F,L,a[4]):L,s[4]=F?Oi(s[3],m):a[4]}return L=a[5],L&&(F=s[5],s[5]=F?Nm(F,L,a[6]):L,s[6]=F?Oi(s[5],m):a[6]),L=a[7],L&&(s[7]=L),g&N&&(s[8]=s[8]==null?a[8]:Tn(s[8],a[8])),s[9]==null&&(s[9]=a[9]),s[0]=a[0],s[1]=y,s}function sR(s){var a=[];if(s!=null)for(var l in yt(s))a.push(l);return a}function oR(s){return Hc.call(s)}function Xm(s,a,l){return a=Xt(a===n?s.length-1:a,0),function(){for(var g=arguments,y=-1,T=Xt(g.length-a,0),P=H(T);++y<T;)P[y]=g[a+y];y=-1;for(var L=H(a+1);++y<a;)L[y]=g[y];return L[a]=l(P),wn(s,this,L)}}function Jm(s,a){return a.length<2?s:Ms(s,cr(a,0,-1))}function aR(s,a){for(var l=s.length,g=Tn(a.length,l),y=Vn(s);g--;){var T=a[g];s[g]=ii(T,l)?y[T]:n}return s}function zf(s,a){if(!(a==="constructor"&&typeof s[a]=="function")&&a!="__proto__")return s[a]}var Zm=t_(Im),Za=IT||function(s,a){return Nt.setTimeout(s,a)},Qf=t_(xA);function e_(s,a,l){var g=a+"";return Qf(s,JA(g,uR(QA(g),l)))}function t_(s){var a=0,l=0;return function(){var g=ST(),y=b-(g-l);if(l=g,y>0){if(++a>=D)return arguments[0]}else a=0;return s.apply(n,arguments)}}function dl(s,a){var l=-1,g=s.length,y=g-1;for(a=a===n?g:a;++l<a;){var T=Of(l,y),P=s[T];s[T]=s[l],s[l]=P}return s.length=a,s}var n_=rR(function(s){var a=[];return s.charCodeAt(0)===46&&a.push(""),s.replace(hn,function(l,g,y,T){a.push(y?T.replace(dc,"$1"):g||l)}),a});function Lr(s){if(typeof s=="string"||Gn(s))return s;var a=s+"";return a=="0"&&1/s==-Be?"-0":a}function Fs(s){if(s!=null){try{return qc.call(s)}catch{}try{return s+""}catch{}}return""}function uR(s,a){return On(Cr,function(l){var g="_."+l[0];a&l[1]&&!Ps(s,g)&&s.push(g)}),s.sort()}function r_(s){if(s instanceof Ye)return s.clone();var a=new ar(s.__wrapped__,s.__chain__);return a.__actions__=Vn(s.__actions__),a.__index__=s.__index__,a.__values__=s.__values__,a}function cR(s,a,l){(l?Nn(s,a,l):a===n)?a=1:a=Xt(qe(a),0);var g=s==null?0:s.length;if(!g||a<1)return[];for(var y=0,T=0,P=H(Qc(g/a));y<g;)P[T++]=cr(s,y,y+=a);return P}function lR(s){for(var a=-1,l=s==null?0:s.length,g=0,y=[];++a<l;){var T=s[a];T&&(y[g++]=T)}return y}function hR(){var s=arguments.length;if(!s)return[];for(var a=H(s-1),l=arguments[0],g=s;g--;)a[g-1]=arguments[g];return mr(Ve(l)?Vn(l):[l],dn(a,1))}var fR=Ke(function(s,a){return Vt(s)?Ga(s,dn(a,1,Vt,!0)):[]}),dR=Ke(function(s,a){var l=lr(a);return Vt(l)&&(l=n),Vt(s)?Ga(s,dn(a,1,Vt,!0),Se(l,2)):[]}),pR=Ke(function(s,a){var l=lr(a);return Vt(l)&&(l=n),Vt(s)?Ga(s,dn(a,1,Vt,!0),n,l):[]});function gR(s,a,l){var g=s==null?0:s.length;return g?(a=l||a===n?1:qe(a),cr(s,a<0?0:a,g)):[]}function mR(s,a,l){var g=s==null?0:s.length;return g?(a=l||a===n?1:qe(a),a=g-a,cr(s,0,a<0?0:a)):[]}function _R(s,a){return s&&s.length?sl(s,Se(a,3),!0,!0):[]}function yR(s,a){return s&&s.length?sl(s,Se(a,3),!0):[]}function vR(s,a,l,g){var y=s==null?0:s.length;return y?(l&&typeof l!="number"&&Nn(s,a,l)&&(l=0,g=y),hA(s,a,l,g)):[]}function i_(s,a,l){var g=s==null?0:s.length;if(!g)return-1;var y=l==null?0:qe(l);return y<0&&(y=Xt(g+y,0)),xs(s,Se(a,3),y)}function s_(s,a,l){var g=s==null?0:s.length;if(!g)return-1;var y=g-1;return l!==n&&(y=qe(l),y=l<0?Xt(g+y,0):Tn(y,g-1)),xs(s,Se(a,3),y,!0)}function o_(s){var a=s==null?0:s.length;return a?dn(s,1):[]}function ER(s){var a=s==null?0:s.length;return a?dn(s,Be):[]}function wR(s,a){var l=s==null?0:s.length;return l?(a=a===n?1:qe(a),dn(s,a)):[]}function IR(s){for(var a=-1,l=s==null?0:s.length,g={};++a<l;){var y=s[a];g[y[0]]=y[1]}return g}function a_(s){return s&&s.length?s[0]:n}function TR(s,a,l){var g=s==null?0:s.length;if(!g)return-1;var y=l==null?0:qe(l);return y<0&&(y=Xt(g+y,0)),Jr(s,a,y)}function AR(s){var a=s==null?0:s.length;return a?cr(s,0,-1):[]}var RR=Ke(function(s){var a=_t(s,Mf);return a.length&&a[0]===s[0]?Sf(a):[]}),SR=Ke(function(s){var a=lr(s),l=_t(s,Mf);return a===lr(l)?a=n:l.pop(),l.length&&l[0]===s[0]?Sf(l,Se(a,2)):[]}),bR=Ke(function(s){var a=lr(s),l=_t(s,Mf);return a=typeof a=="function"?a:n,a&&l.pop(),l.length&&l[0]===s[0]?Sf(l,n,a):[]});function CR(s,a){return s==null?"":AT.call(s,a)}function lr(s){var a=s==null?0:s.length;return a?s[a-1]:n}function PR(s,a,l){var g=s==null?0:s.length;if(!g)return-1;var y=g;return l!==n&&(y=qe(l),y=y<0?Xt(g+y,0):Tn(y,g-1)),a===a?uT(s,a,y):xs(s,c,y,!0)}function xR(s,a){return s&&s.length?ym(s,qe(a)):n}var OR=Ke(u_);function u_(s,a){return s&&s.length&&a&&a.length?xf(s,a):s}function DR(s,a,l){return s&&s.length&&a&&a.length?xf(s,a,Se(l,2)):s}function NR(s,a,l){return s&&s.length&&a&&a.length?xf(s,a,n,l):s}var kR=ri(function(s,a){var l=s==null?0:s.length,g=If(s,a);return wm(s,_t(a,function(y){return ii(y,l)?+y:y}).sort(Om)),g});function LR(s,a){var l=[];if(!(s&&s.length))return l;var g=-1,y=[],T=s.length;for(a=Se(a,3);++g<T;){var P=s[g];a(P,g,s)&&(l.push(P),y.push(g))}return wm(s,y),l}function Yf(s){return s==null?s:CT.call(s)}function MR(s,a,l){var g=s==null?0:s.length;return g?(l&&typeof l!="number"&&Nn(s,a,l)?(a=0,l=g):(a=a==null?0:qe(a),l=l===n?g:qe(l)),cr(s,a,l)):[]}function VR(s,a){return il(s,a)}function FR(s,a,l){return Nf(s,a,Se(l,2))}function UR(s,a){var l=s==null?0:s.length;if(l){var g=il(s,a);if(g<l&&Er(s[g],a))return g}return-1}function BR(s,a){return il(s,a,!0)}function $R(s,a,l){return Nf(s,a,Se(l,2),!0)}function qR(s,a){var l=s==null?0:s.length;if(l){var g=il(s,a,!0)-1;if(Er(s[g],a))return g}return-1}function HR(s){return s&&s.length?Tm(s):[]}function WR(s,a){return s&&s.length?Tm(s,Se(a,2)):[]}function jR(s){var a=s==null?0:s.length;return a?cr(s,1,a):[]}function KR(s,a,l){return s&&s.length?(a=l||a===n?1:qe(a),cr(s,0,a<0?0:a)):[]}function GR(s,a,l){var g=s==null?0:s.length;return g?(a=l||a===n?1:qe(a),a=g-a,cr(s,a<0?0:a,g)):[]}function zR(s,a){return s&&s.length?sl(s,Se(a,3),!1,!0):[]}function QR(s,a){return s&&s.length?sl(s,Se(a,3)):[]}var YR=Ke(function(s){return ki(dn(s,1,Vt,!0))}),XR=Ke(function(s){var a=lr(s);return Vt(a)&&(a=n),ki(dn(s,1,Vt,!0),Se(a,2))}),JR=Ke(function(s){var a=lr(s);return a=typeof a=="function"?a:n,ki(dn(s,1,Vt,!0),n,a)});function ZR(s){return s&&s.length?ki(s):[]}function e1(s,a){return s&&s.length?ki(s,Se(a,2)):[]}function t1(s,a){return a=typeof a=="function"?a:n,s&&s.length?ki(s,n,a):[]}function Xf(s){if(!(s&&s.length))return[];var a=0;return s=ir(s,function(l){if(Vt(l))return a=Xt(l.length,a),!0}),ut(a,function(l){return _t(s,_(l))})}function c_(s,a){if(!(s&&s.length))return[];var l=Xf(s);return a==null?l:_t(l,function(g){return wn(a,n,g)})}var n1=Ke(function(s,a){return Vt(s)?Ga(s,a):[]}),r1=Ke(function(s){return Lf(ir(s,Vt))}),i1=Ke(function(s){var a=lr(s);return Vt(a)&&(a=n),Lf(ir(s,Vt),Se(a,2))}),s1=Ke(function(s){var a=lr(s);return a=typeof a=="function"?a:n,Lf(ir(s,Vt),n,a)}),o1=Ke(Xf);function a1(s,a){return bm(s||[],a||[],Ka)}function u1(s,a){return bm(s||[],a||[],Ya)}var c1=Ke(function(s){var a=s.length,l=a>1?s[a-1]:n;return l=typeof l=="function"?(s.pop(),l):n,c_(s,l)});function l_(s){var a=w(s);return a.__chain__=!0,a}function l1(s,a){return a(s),s}function pl(s,a){return a(s)}var h1=ri(function(s){var a=s.length,l=a?s[0]:0,g=this.__wrapped__,y=function(T){return If(T,s)};return a>1||this.__actions__.length||!(g instanceof Ye)||!ii(l)?this.thru(y):(g=g.slice(l,+l+(a?1:0)),g.__actions__.push({func:pl,args:[y],thisArg:n}),new ar(g,this.__chain__).thru(function(T){return a&&!T.length&&T.push(n),T}))});function f1(){return l_(this)}function d1(){return new ar(this.value(),this.__chain__)}function p1(){this.__values__===n&&(this.__values__=A_(this.value()));var s=this.__index__>=this.__values__.length,a=s?n:this.__values__[this.__index__++];return{done:s,value:a}}function g1(){return this}function m1(s){for(var a,l=this;l instanceof Zc;){var g=r_(l);g.__index__=0,g.__values__=n,a?y.__wrapped__=g:a=g;var y=g;l=l.__wrapped__}return y.__wrapped__=s,a}function _1(){var s=this.__wrapped__;if(s instanceof Ye){var a=s;return this.__actions__.length&&(a=new Ye(this)),a=a.reverse(),a.__actions__.push({func:pl,args:[Yf],thisArg:n}),new ar(a,this.__chain__)}return this.thru(Yf)}function y1(){return Sm(this.__wrapped__,this.__actions__)}var v1=ol(function(s,a,l){pt.call(s,l)?++s[l]:ti(s,l,1)});function E1(s,a,l){var g=Ve(s)?So:lA;return l&&Nn(s,a,l)&&(a=n),g(s,Se(a,3))}function w1(s,a){var l=Ve(s)?ir:cm;return l(s,Se(a,3))}var I1=Vm(i_),T1=Vm(s_);function A1(s,a){return dn(gl(s,a),1)}function R1(s,a){return dn(gl(s,a),Be)}function S1(s,a,l){return l=l===n?1:qe(l),dn(gl(s,a),l)}function h_(s,a){var l=Ve(s)?On:Ni;return l(s,Se(a,3))}function f_(s,a){var l=Ve(s)?Lc:um;return l(s,Se(a,3))}var b1=ol(function(s,a,l){pt.call(s,l)?s[l].push(a):ti(s,l,[a])});function C1(s,a,l,g){s=Fn(s)?s:Bo(s),l=l&&!g?qe(l):0;var y=s.length;return l<0&&(l=Xt(y+l,0)),El(s)?l<=y&&s.indexOf(a,l)>-1:!!y&&Jr(s,a,l)>-1}var P1=Ke(function(s,a,l){var g=-1,y=typeof a=="function",T=Fn(s)?H(s.length):[];return Ni(s,function(P){T[++g]=y?wn(a,P,l):za(P,a,l)}),T}),x1=ol(function(s,a,l){ti(s,l,a)});function gl(s,a){var l=Ve(s)?_t:gm;return l(s,Se(a,3))}function O1(s,a,l,g){return s==null?[]:(Ve(a)||(a=a==null?[]:[a]),l=g?n:l,Ve(l)||(l=l==null?[]:[l]),vm(s,a,l))}var D1=ol(function(s,a,l){s[l?0:1].push(a)},function(){return[[],[]]});function N1(s,a,l){var g=Ve(s)?_r:U,y=arguments.length<3;return g(s,Se(a,4),l,y,Ni)}function k1(s,a,l){var g=Ve(s)?Mc:U,y=arguments.length<3;return g(s,Se(a,4),l,y,um)}function L1(s,a){var l=Ve(s)?ir:cm;return l(s,yl(Se(a,3)))}function M1(s){var a=Ve(s)?im:CA;return a(s)}function V1(s,a,l){(l?Nn(s,a,l):a===n)?a=1:a=qe(a);var g=Ve(s)?sA:PA;return g(s,a)}function F1(s){var a=Ve(s)?oA:OA;return a(s)}function U1(s){if(s==null)return 0;if(Fn(s))return El(s)?xo(s):s.length;var a=An(s);return a==x||a==se?s.size:Cf(s).length}function B1(s,a,l){var g=Ve(s)?bo:DA;return l&&Nn(s,a,l)&&(a=n),g(s,Se(a,3))}var $1=Ke(function(s,a){if(s==null)return[];var l=a.length;return l>1&&Nn(s,a[0],a[1])?a=[]:l>2&&Nn(a[0],a[1],a[2])&&(a=[a[0]]),vm(s,dn(a,1),[])}),ml=wT||function(){return Nt.Date.now()};function q1(s,a){if(typeof a!="function")throw new or(u);return s=qe(s),function(){if(--s<1)return a.apply(this,arguments)}}function d_(s,a,l){return a=l?n:a,a=s&&a==null?s.length:a,ni(s,N,n,n,n,n,a)}function p_(s,a){var l;if(typeof a!="function")throw new or(u);return s=qe(s),function(){return--s>0&&(l=a.apply(this,arguments)),s<=1&&(a=n),l}}var Jf=Ke(function(s,a,l){var g=$;if(l.length){var y=Oi(l,Fo(Jf));g|=ge}return ni(s,g,a,l,y)}),g_=Ke(function(s,a,l){var g=$|z;if(l.length){var y=Oi(l,Fo(g_));g|=ge}return ni(a,g,s,l,y)});function m_(s,a,l){a=l?n:a;var g=ni(s,ne,n,n,n,n,n,a);return g.placeholder=m_.placeholder,g}function __(s,a,l){a=l?n:a;var g=ni(s,pe,n,n,n,n,n,a);return g.placeholder=__.placeholder,g}function y_(s,a,l){var g,y,T,P,L,F,Q=0,Y=!1,Z=!1,fe=!0;if(typeof s!="function")throw new or(u);a=hr(a)||0,Ot(l)&&(Y=!!l.leading,Z="maxWait"in l,T=Z?Xt(hr(l.maxWait)||0,a):T,fe="trailing"in l?!!l.trailing:fe);function Ie(Ft){var wr=g,ai=y;return g=y=n,Q=Ft,P=s.apply(ai,wr),P}function be(Ft){return Q=Ft,L=Za(ze,a),Y?Ie(Ft):P}function We(Ft){var wr=Ft-F,ai=Ft-Q,V_=a-wr;return Z?Tn(V_,T-ai):V_}function Ce(Ft){var wr=Ft-F,ai=Ft-Q;return F===n||wr>=a||wr<0||Z&&ai>=T}function ze(){var Ft=ml();if(Ce(Ft))return Ze(Ft);L=Za(ze,We(Ft))}function Ze(Ft){return L=n,fe&&g?Ie(Ft):(g=y=n,P)}function zn(){L!==n&&Cm(L),Q=0,g=F=y=L=n}function kn(){return L===n?P:Ze(ml())}function Qn(){var Ft=ml(),wr=Ce(Ft);if(g=arguments,y=this,F=Ft,wr){if(L===n)return be(F);if(Z)return Cm(L),L=Za(ze,a),Ie(F)}return L===n&&(L=Za(ze,a)),P}return Qn.cancel=zn,Qn.flush=kn,Qn}var H1=Ke(function(s,a){return am(s,1,a)}),W1=Ke(function(s,a,l){return am(s,hr(a)||0,l)});function j1(s){return ni(s,R)}function _l(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new or(u);var l=function(){var g=arguments,y=a?a.apply(this,g):g[0],T=l.cache;if(T.has(y))return T.get(y);var P=s.apply(this,g);return l.cache=T.set(y,P)||T,P};return l.cache=new(_l.Cache||ei),l}_l.Cache=ei;function yl(s){if(typeof s!="function")throw new or(u);return function(){var a=arguments;switch(a.length){case 0:return!s.call(this);case 1:return!s.call(this,a[0]);case 2:return!s.call(this,a[0],a[1]);case 3:return!s.call(this,a[0],a[1],a[2])}return!s.apply(this,a)}}function K1(s){return p_(2,s)}var G1=NA(function(s,a){a=a.length==1&&Ve(a[0])?_t(a[0],ft(Se())):_t(dn(a,1),ft(Se()));var l=a.length;return Ke(function(g){for(var y=-1,T=Tn(g.length,l);++y<T;)g[y]=a[y].call(this,g[y]);return wn(s,this,g)})}),Zf=Ke(function(s,a){var l=Oi(a,Fo(Zf));return ni(s,ge,n,a,l)}),v_=Ke(function(s,a){var l=Oi(a,Fo(v_));return ni(s,ue,n,a,l)}),z1=ri(function(s,a){return ni(s,A,n,n,n,a)});function Q1(s,a){if(typeof s!="function")throw new or(u);return a=a===n?a:qe(a),Ke(s,a)}function Y1(s,a){if(typeof s!="function")throw new or(u);return a=a==null?0:Xt(qe(a),0),Ke(function(l){var g=l[a],y=Mi(l,0,a);return g&&mr(y,g),wn(s,this,y)})}function X1(s,a,l){var g=!0,y=!0;if(typeof s!="function")throw new or(u);return Ot(l)&&(g="leading"in l?!!l.leading:g,y="trailing"in l?!!l.trailing:y),y_(s,a,{leading:g,maxWait:a,trailing:y})}function J1(s){return d_(s,1)}function Z1(s,a){return Zf(Vf(a),s)}function eS(){if(!arguments.length)return[];var s=arguments[0];return Ve(s)?s:[s]}function tS(s){return ur(s,C)}function nS(s,a){return a=typeof a=="function"?a:n,ur(s,C,a)}function rS(s){return ur(s,v|C)}function iS(s,a){return a=typeof a=="function"?a:n,ur(s,v|C,a)}function sS(s,a){return a==null||om(s,a,nn(a))}function Er(s,a){return s===a||s!==s&&a!==a}var oS=ll(Rf),aS=ll(function(s,a){return s>=a}),Us=fm(function(){return arguments}())?fm:function(s){return kt(s)&&pt.call(s,"callee")&&!Jg.call(s,"callee")},Ve=H.isArray,uS=Fa?ft(Fa):mA;function Fn(s){return s!=null&&vl(s.length)&&!si(s)}function Vt(s){return kt(s)&&Fn(s)}function cS(s){return s===!0||s===!1||kt(s)&&Dn(s)==de}var Vi=TT||ld,lS=Ro?ft(Ro):_A;function hS(s){return kt(s)&&s.nodeType===1&&!eu(s)}function fS(s){if(s==null)return!0;if(Fn(s)&&(Ve(s)||typeof s=="string"||typeof s.splice=="function"||Vi(s)||Uo(s)||Us(s)))return!s.length;var a=An(s);if(a==x||a==se)return!s.size;if(Ja(s))return!Cf(s).length;for(var l in s)if(pt.call(s,l))return!1;return!0}function dS(s,a){return Qa(s,a)}function pS(s,a,l){l=typeof l=="function"?l:n;var g=l?l(s,a):n;return g===n?Qa(s,a,n,l):!!g}function ed(s){if(!kt(s))return!1;var a=Dn(s);return a==je||a==_e||typeof s.message=="string"&&typeof s.name=="string"&&!eu(s)}function gS(s){return typeof s=="number"&&em(s)}function si(s){if(!Ot(s))return!1;var a=Dn(s);return a==it||a==S||a==G||a==le}function E_(s){return typeof s=="number"&&s==qe(s)}function vl(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=ke}function Ot(s){var a=typeof s;return s!=null&&(a=="object"||a=="function")}function kt(s){return s!=null&&typeof s=="object"}var w_=Ss?ft(Ss):vA;function mS(s,a){return s===a||bf(s,a,Wf(a))}function _S(s,a,l){return l=typeof l=="function"?l:n,bf(s,a,Wf(a),l)}function yS(s){return I_(s)&&s!=+s}function vS(s){if(nR(s))throw new Le(o);return dm(s)}function ES(s){return s===null}function wS(s){return s==null}function I_(s){return typeof s=="number"||kt(s)&&Dn(s)==B}function eu(s){if(!kt(s)||Dn(s)!=j)return!1;var a=Kc(s);if(a===null)return!0;var l=pt.call(a,"constructor")&&a.constructor;return typeof l=="function"&&l instanceof l&&qc.call(l)==_T}var td=Ua?ft(Ua):EA;function IS(s){return E_(s)&&s>=-ke&&s<=ke}var T_=bs?ft(bs):wA;function El(s){return typeof s=="string"||!Ve(s)&&kt(s)&&Dn(s)==ee}function Gn(s){return typeof s=="symbol"||kt(s)&&Dn(s)==he}var Uo=kc?ft(kc):IA;function TS(s){return s===n}function AS(s){return kt(s)&&An(s)==ve}function RS(s){return kt(s)&&Dn(s)==Ee}var SS=ll(Pf),bS=ll(function(s,a){return s<=a});function A_(s){if(!s)return[];if(Fn(s))return El(s)?yr(s):Vn(s);if($a&&s[$a])return sT(s[$a]());var a=An(s),l=a==x?mf:a==se?Uc:Bo;return l(s)}function oi(s){if(!s)return s===0?s:0;if(s=hr(s),s===Be||s===-Be){var a=s<0?-1:1;return a*xn}return s===s?s:0}function qe(s){var a=oi(s),l=a%1;return a===a?l?a-l:a:0}function R_(s){return s?Ls(qe(s),0,Pt):0}function hr(s){if(typeof s=="number")return s;if(Gn(s))return yn;if(Ot(s)){var a=typeof s.valueOf=="function"?s.valueOf():s;s=Ot(a)?a+"":a}if(typeof s!="string")return s===0?s:+s;s=Je(s);var l=pc.test(s);return l||Aa.test(s)?Dc(s.slice(2),l?2:8):xr.test(s)?yn:+s}function S_(s){return kr(s,Un(s))}function CS(s){return s?Ls(qe(s),-ke,ke):s===0?s:0}function dt(s){return s==null?"":Kn(s)}var PS=Mo(function(s,a){if(Ja(a)||Fn(a)){kr(a,nn(a),s);return}for(var l in a)pt.call(a,l)&&Ka(s,l,a[l])}),b_=Mo(function(s,a){kr(a,Un(a),s)}),wl=Mo(function(s,a,l,g){kr(a,Un(a),s,g)}),xS=Mo(function(s,a,l,g){kr(a,nn(a),s,g)}),OS=ri(If);function DS(s,a){var l=Lo(s);return a==null?l:sm(l,a)}var NS=Ke(function(s,a){s=yt(s);var l=-1,g=a.length,y=g>2?a[2]:n;for(y&&Nn(a[0],a[1],y)&&(g=1);++l<g;)for(var T=a[l],P=Un(T),L=-1,F=P.length;++L<F;){var Q=P[L],Y=s[Q];(Y===n||Er(Y,Do[Q])&&!pt.call(s,Q))&&(s[Q]=T[Q])}return s}),kS=Ke(function(s){return s.push(n,Wm),wn(C_,n,s)});function LS(s,a){return In(s,Se(a,3),Nr)}function MS(s,a){return In(s,Se(a,3),Af)}function VS(s,a){return s==null?s:Tf(s,Se(a,3),Un)}function FS(s,a){return s==null?s:lm(s,Se(a,3),Un)}function US(s,a){return s&&Nr(s,Se(a,3))}function BS(s,a){return s&&Af(s,Se(a,3))}function $S(s){return s==null?[]:nl(s,nn(s))}function qS(s){return s==null?[]:nl(s,Un(s))}function nd(s,a,l){var g=s==null?n:Ms(s,a);return g===n?l:g}function HS(s,a){return s!=null&&Gm(s,a,fA)}function rd(s,a){return s!=null&&Gm(s,a,dA)}var WS=Um(function(s,a,l){a!=null&&typeof a.toString!="function"&&(a=Hc.call(a)),s[a]=l},sd(Bn)),jS=Um(function(s,a,l){a!=null&&typeof a.toString!="function"&&(a=Hc.call(a)),pt.call(s,a)?s[a].push(l):s[a]=[l]},Se),KS=Ke(za);function nn(s){return Fn(s)?rm(s):Cf(s)}function Un(s){return Fn(s)?rm(s,!0):TA(s)}function GS(s,a){var l={};return a=Se(a,3),Nr(s,function(g,y,T){ti(l,a(g,y,T),g)}),l}function zS(s,a){var l={};return a=Se(a,3),Nr(s,function(g,y,T){ti(l,y,a(g,y,T))}),l}var QS=Mo(function(s,a,l){rl(s,a,l)}),C_=Mo(function(s,a,l,g){rl(s,a,l,g)}),YS=ri(function(s,a){var l={};if(s==null)return l;var g=!1;a=_t(a,function(T){return T=Li(T,s),g||(g=T.length>1),T}),kr(s,qf(s),l),g&&(l=ur(l,v|E|C,WA));for(var y=a.length;y--;)kf(l,a[y]);return l});function XS(s,a){return P_(s,yl(Se(a)))}var JS=ri(function(s,a){return s==null?{}:RA(s,a)});function P_(s,a){if(s==null)return{};var l=_t(qf(s),function(g){return[g]});return a=Se(a),Em(s,l,function(g,y){return a(g,y[0])})}function ZS(s,a,l){a=Li(a,s);var g=-1,y=a.length;for(y||(y=1,s=n);++g<y;){var T=s==null?n:s[Lr(a[g])];T===n&&(g=y,T=l),s=si(T)?T.call(s):T}return s}function eb(s,a,l){return s==null?s:Ya(s,a,l)}function tb(s,a,l,g){return g=typeof g=="function"?g:n,s==null?s:Ya(s,a,l,g)}var x_=qm(nn),O_=qm(Un);function nb(s,a,l){var g=Ve(s),y=g||Vi(s)||Uo(s);if(a=Se(a,4),l==null){var T=s&&s.constructor;y?l=g?new T:[]:Ot(s)?l=si(T)?Lo(Kc(s)):{}:l={}}return(y?On:Nr)(s,function(P,L,F){return a(l,P,L,F)}),l}function rb(s,a){return s==null?!0:kf(s,a)}function ib(s,a,l){return s==null?s:Rm(s,a,Vf(l))}function sb(s,a,l,g){return g=typeof g=="function"?g:n,s==null?s:Rm(s,a,Vf(l),g)}function Bo(s){return s==null?[]:$t(s,nn(s))}function ob(s){return s==null?[]:$t(s,Un(s))}function ab(s,a,l){return l===n&&(l=a,a=n),l!==n&&(l=hr(l),l=l===l?l:0),a!==n&&(a=hr(a),a=a===a?a:0),Ls(hr(s),a,l)}function ub(s,a,l){return a=oi(a),l===n?(l=a,a=0):l=oi(l),s=hr(s),pA(s,a,l)}function cb(s,a,l){if(l&&typeof l!="boolean"&&Nn(s,a,l)&&(a=l=n),l===n&&(typeof a=="boolean"?(l=a,a=n):typeof s=="boolean"&&(l=s,s=n)),s===n&&a===n?(s=0,a=1):(s=oi(s),a===n?(a=s,s=0):a=oi(a)),s>a){var g=s;s=a,a=g}if(l||s%1||a%1){var y=tm();return Tn(s+y*(a-s+gf("1e-"+((y+"").length-1))),a)}return Of(s,a)}var lb=Vo(function(s,a,l){return a=a.toLowerCase(),s+(l?D_(a):a)});function D_(s){return id(dt(s).toLowerCase())}function N_(s){return s=dt(s),s&&s.replace(mc,eT).replace(hf,"")}function hb(s,a,l){s=dt(s),a=Kn(a);var g=s.length;l=l===n?g:Ls(qe(l),0,g);var y=l;return l-=a.length,l>=0&&s.slice(l,y)==a}function fb(s){return s=dt(s),s&&Gr.test(s)?s.replace(_o,tT):s}function db(s){return s=dt(s),s&&vs.test(s)?s.replace(vo,"\\$&"):s}var pb=Vo(function(s,a,l){return s+(l?"-":"")+a.toLowerCase()}),gb=Vo(function(s,a,l){return s+(l?" ":"")+a.toLowerCase()}),mb=Mm("toLowerCase");function _b(s,a,l){s=dt(s),a=qe(a);var g=a?xo(s):0;if(!a||g>=a)return s;var y=(a-g)/2;return cl(Yc(y),l)+s+cl(Qc(y),l)}function yb(s,a,l){s=dt(s),a=qe(a);var g=a?xo(s):0;return a&&g<a?s+cl(a-g,l):s}function vb(s,a,l){s=dt(s),a=qe(a);var g=a?xo(s):0;return a&&g<a?cl(a-g,l)+s:s}function Eb(s,a,l){return l||a==null?a=0:a&&(a=+a),bT(dt(s).replace(zr,""),a||0)}function wb(s,a,l){return(l?Nn(s,a,l):a===n)?a=1:a=qe(a),Df(dt(s),a)}function Ib(){var s=arguments,a=dt(s[0]);return s.length<3?a:a.replace(s[1],s[2])}var Tb=Vo(function(s,a,l){return s+(l?"_":"")+a.toLowerCase()});function Ab(s,a,l){return l&&typeof l!="number"&&Nn(s,a,l)&&(a=l=n),l=l===n?Pt:l>>>0,l?(s=dt(s),s&&(typeof a=="string"||a!=null&&!td(a))&&(a=Kn(a),!a&&Po(s))?Mi(yr(s),0,l):s.split(a,l)):[]}var Rb=Vo(function(s,a,l){return s+(l?" ":"")+id(a)});function Sb(s,a,l){return s=dt(s),l=l==null?0:Ls(qe(l),0,s.length),a=Kn(a),s.slice(l,l+a.length)==a}function bb(s,a,l){var g=w.templateSettings;l&&Nn(s,a,l)&&(a=n),s=dt(s),a=wl({},a,g,Hm);var y=wl({},a.imports,g.imports,Hm),T=nn(y),P=$t(y,T),L,F,Q=0,Y=a.interpolate||ws,Z="__p += '",fe=_f((a.escape||ws).source+"|"+Y.source+"|"+(Y===Ia?Ta:ws).source+"|"+(a.evaluate||ws).source+"|$","g"),Ie="//# sourceURL="+(pt.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xc+"]")+`
`;s.replace(fe,function(Ce,ze,Ze,zn,kn,Qn){return Ze||(Ze=zn),Z+=s.slice(Q,Qn).replace(of,nT),ze&&(L=!0,Z+=`' +
__e(`+ze+`) +
'`),kn&&(F=!0,Z+=`';
`+kn+`;
__p += '`),Ze&&(Z+=`' +
((__t = (`+Ze+`)) == null ? '' : __t) +
'`),Q=Qn+Ce.length,Ce}),Z+=`';
`;var be=pt.call(a,"variable")&&a.variable;if(!be)Z=`with (obj) {
`+Z+`
}
`;else if(Eo.test(be))throw new Le(h);Z=(F?Z.replace(Ii,""):Z).replace(cc,"$1").replace(lc,"$1;"),Z="function("+(be||"obj")+`) {
`+(be?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(L?", __e = _.escape":"")+(F?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Z+`return __p
}`;var We=L_(function(){return ct(T,Ie+"return "+Z).apply(n,P)});if(We.source=Z,ed(We))throw We;return We}function Cb(s){return dt(s).toLowerCase()}function Pb(s){return dt(s).toUpperCase()}function xb(s,a,l){if(s=dt(s),s&&(l||a===n))return Je(s);if(!s||!(a=Kn(a)))return s;var g=yr(s),y=yr(a),T=Mn(g,y),P=Os(g,y)+1;return Mi(g,T,P).join("")}function Ob(s,a,l){if(s=dt(s),s&&(l||a===n))return s.slice(0,zg(s)+1);if(!s||!(a=Kn(a)))return s;var g=yr(s),y=Os(g,yr(a))+1;return Mi(g,0,y).join("")}function Db(s,a,l){if(s=dt(s),s&&(l||a===n))return s.replace(zr,"");if(!s||!(a=Kn(a)))return s;var g=yr(s),y=Mn(g,yr(a));return Mi(g,y).join("")}function Nb(s,a){var l=O,g=k;if(Ot(a)){var y="separator"in a?a.separator:y;l="length"in a?qe(a.length):l,g="omission"in a?Kn(a.omission):g}s=dt(s);var T=s.length;if(Po(s)){var P=yr(s);T=P.length}if(l>=T)return s;var L=l-xo(g);if(L<1)return g;var F=P?Mi(P,0,L).join(""):s.slice(0,L);if(y===n)return F+g;if(P&&(L+=F.length-L),td(y)){if(s.slice(L).search(y)){var Q,Y=F;for(y.global||(y=_f(y.source,dt(Es.exec(y))+"g")),y.lastIndex=0;Q=y.exec(Y);)var Z=Q.index;F=F.slice(0,Z===n?L:Z)}}else if(s.indexOf(Kn(y),L)!=L){var fe=F.lastIndexOf(y);fe>-1&&(F=F.slice(0,fe))}return F+g}function kb(s){return s=dt(s),s&&wa.test(s)?s.replace(Ti,cT):s}var Lb=Vo(function(s,a,l){return s+(l?" ":"")+a.toUpperCase()}),id=Mm("toUpperCase");function k_(s,a,l){return s=dt(s),a=l?n:a,a===n?iT(s)?fT(s):Co(s):s.match(a)||[]}var L_=Ke(function(s,a){try{return wn(s,n,a)}catch(l){return ed(l)?l:new Le(l)}}),Mb=ri(function(s,a){return On(a,function(l){l=Lr(l),ti(s,l,Jf(s[l],s))}),s});function Vb(s){var a=s==null?0:s.length,l=Se();return s=a?_t(s,function(g){if(typeof g[1]!="function")throw new or(u);return[l(g[0]),g[1]]}):[],Ke(function(g){for(var y=-1;++y<a;){var T=s[y];if(wn(T[0],this,g))return wn(T[1],this,g)}})}function Fb(s){return cA(ur(s,v))}function sd(s){return function(){return s}}function Ub(s,a){return s==null||s!==s?a:s}var Bb=Fm(),$b=Fm(!0);function Bn(s){return s}function od(s){return pm(typeof s=="function"?s:ur(s,v))}function qb(s){return mm(ur(s,v))}function Hb(s,a){return _m(s,ur(a,v))}var Wb=Ke(function(s,a){return function(l){return za(l,s,a)}}),jb=Ke(function(s,a){return function(l){return za(s,l,a)}});function ad(s,a,l){var g=nn(a),y=nl(a,g);l==null&&!(Ot(a)&&(y.length||!g.length))&&(l=a,a=s,s=this,y=nl(a,nn(a)));var T=!(Ot(l)&&"chain"in l)||!!l.chain,P=si(s);return On(y,function(L){var F=a[L];s[L]=F,P&&(s.prototype[L]=function(){var Q=this.__chain__;if(T||Q){var Y=s(this.__wrapped__),Z=Y.__actions__=Vn(this.__actions__);return Z.push({func:F,args:arguments,thisArg:s}),Y.__chain__=Q,Y}return F.apply(s,mr([this.value()],arguments))})}),s}function Kb(){return Nt._===this&&(Nt._=yT),this}function ud(){}function Gb(s){return s=qe(s),Ke(function(a){return ym(a,s)})}var zb=Uf(_t),Qb=Uf(So),Yb=Uf(bo);function M_(s){return Kf(s)?_(Lr(s)):SA(s)}function Xb(s){return function(a){return s==null?n:Ms(s,a)}}var Jb=Bm(),Zb=Bm(!0);function cd(){return[]}function ld(){return!1}function eC(){return{}}function tC(){return""}function nC(){return!0}function rC(s,a){if(s=qe(s),s<1||s>ke)return[];var l=Pt,g=Tn(s,Pt);a=Se(a),s-=Pt;for(var y=ut(g,a);++l<s;)a(l);return y}function iC(s){return Ve(s)?_t(s,Lr):Gn(s)?[s]:Vn(n_(dt(s)))}function sC(s){var a=++mT;return dt(s)+a}var oC=ul(function(s,a){return s+a},0),aC=Bf("ceil"),uC=ul(function(s,a){return s/a},1),cC=Bf("floor");function lC(s){return s&&s.length?tl(s,Bn,Rf):n}function hC(s,a){return s&&s.length?tl(s,Se(a,2),Rf):n}function fC(s){return d(s,Bn)}function dC(s,a){return d(s,Se(a,2))}function pC(s){return s&&s.length?tl(s,Bn,Pf):n}function gC(s,a){return s&&s.length?tl(s,Se(a,2),Pf):n}var mC=ul(function(s,a){return s*a},1),_C=Bf("round"),yC=ul(function(s,a){return s-a},0);function vC(s){return s&&s.length?ae(s,Bn):0}function EC(s,a){return s&&s.length?ae(s,Se(a,2)):0}return w.after=q1,w.ary=d_,w.assign=PS,w.assignIn=b_,w.assignInWith=wl,w.assignWith=xS,w.at=OS,w.before=p_,w.bind=Jf,w.bindAll=Mb,w.bindKey=g_,w.castArray=eS,w.chain=l_,w.chunk=cR,w.compact=lR,w.concat=hR,w.cond=Vb,w.conforms=Fb,w.constant=sd,w.countBy=v1,w.create=DS,w.curry=m_,w.curryRight=__,w.debounce=y_,w.defaults=NS,w.defaultsDeep=kS,w.defer=H1,w.delay=W1,w.difference=fR,w.differenceBy=dR,w.differenceWith=pR,w.drop=gR,w.dropRight=mR,w.dropRightWhile=_R,w.dropWhile=yR,w.fill=vR,w.filter=w1,w.flatMap=A1,w.flatMapDeep=R1,w.flatMapDepth=S1,w.flatten=o_,w.flattenDeep=ER,w.flattenDepth=wR,w.flip=j1,w.flow=Bb,w.flowRight=$b,w.fromPairs=IR,w.functions=$S,w.functionsIn=qS,w.groupBy=b1,w.initial=AR,w.intersection=RR,w.intersectionBy=SR,w.intersectionWith=bR,w.invert=WS,w.invertBy=jS,w.invokeMap=P1,w.iteratee=od,w.keyBy=x1,w.keys=nn,w.keysIn=Un,w.map=gl,w.mapKeys=GS,w.mapValues=zS,w.matches=qb,w.matchesProperty=Hb,w.memoize=_l,w.merge=QS,w.mergeWith=C_,w.method=Wb,w.methodOf=jb,w.mixin=ad,w.negate=yl,w.nthArg=Gb,w.omit=YS,w.omitBy=XS,w.once=K1,w.orderBy=O1,w.over=zb,w.overArgs=G1,w.overEvery=Qb,w.overSome=Yb,w.partial=Zf,w.partialRight=v_,w.partition=D1,w.pick=JS,w.pickBy=P_,w.property=M_,w.propertyOf=Xb,w.pull=OR,w.pullAll=u_,w.pullAllBy=DR,w.pullAllWith=NR,w.pullAt=kR,w.range=Jb,w.rangeRight=Zb,w.rearg=z1,w.reject=L1,w.remove=LR,w.rest=Q1,w.reverse=Yf,w.sampleSize=V1,w.set=eb,w.setWith=tb,w.shuffle=F1,w.slice=MR,w.sortBy=$1,w.sortedUniq=HR,w.sortedUniqBy=WR,w.split=Ab,w.spread=Y1,w.tail=jR,w.take=KR,w.takeRight=GR,w.takeRightWhile=zR,w.takeWhile=QR,w.tap=l1,w.throttle=X1,w.thru=pl,w.toArray=A_,w.toPairs=x_,w.toPairsIn=O_,w.toPath=iC,w.toPlainObject=S_,w.transform=nb,w.unary=J1,w.union=YR,w.unionBy=XR,w.unionWith=JR,w.uniq=ZR,w.uniqBy=e1,w.uniqWith=t1,w.unset=rb,w.unzip=Xf,w.unzipWith=c_,w.update=ib,w.updateWith=sb,w.values=Bo,w.valuesIn=ob,w.without=n1,w.words=k_,w.wrap=Z1,w.xor=r1,w.xorBy=i1,w.xorWith=s1,w.zip=o1,w.zipObject=a1,w.zipObjectDeep=u1,w.zipWith=c1,w.entries=x_,w.entriesIn=O_,w.extend=b_,w.extendWith=wl,ad(w,w),w.add=oC,w.attempt=L_,w.camelCase=lb,w.capitalize=D_,w.ceil=aC,w.clamp=ab,w.clone=tS,w.cloneDeep=rS,w.cloneDeepWith=iS,w.cloneWith=nS,w.conformsTo=sS,w.deburr=N_,w.defaultTo=Ub,w.divide=uC,w.endsWith=hb,w.eq=Er,w.escape=fb,w.escapeRegExp=db,w.every=E1,w.find=I1,w.findIndex=i_,w.findKey=LS,w.findLast=T1,w.findLastIndex=s_,w.findLastKey=MS,w.floor=cC,w.forEach=h_,w.forEachRight=f_,w.forIn=VS,w.forInRight=FS,w.forOwn=US,w.forOwnRight=BS,w.get=nd,w.gt=oS,w.gte=aS,w.has=HS,w.hasIn=rd,w.head=a_,w.identity=Bn,w.includes=C1,w.indexOf=TR,w.inRange=ub,w.invoke=KS,w.isArguments=Us,w.isArray=Ve,w.isArrayBuffer=uS,w.isArrayLike=Fn,w.isArrayLikeObject=Vt,w.isBoolean=cS,w.isBuffer=Vi,w.isDate=lS,w.isElement=hS,w.isEmpty=fS,w.isEqual=dS,w.isEqualWith=pS,w.isError=ed,w.isFinite=gS,w.isFunction=si,w.isInteger=E_,w.isLength=vl,w.isMap=w_,w.isMatch=mS,w.isMatchWith=_S,w.isNaN=yS,w.isNative=vS,w.isNil=wS,w.isNull=ES,w.isNumber=I_,w.isObject=Ot,w.isObjectLike=kt,w.isPlainObject=eu,w.isRegExp=td,w.isSafeInteger=IS,w.isSet=T_,w.isString=El,w.isSymbol=Gn,w.isTypedArray=Uo,w.isUndefined=TS,w.isWeakMap=AS,w.isWeakSet=RS,w.join=CR,w.kebabCase=pb,w.last=lr,w.lastIndexOf=PR,w.lowerCase=gb,w.lowerFirst=mb,w.lt=SS,w.lte=bS,w.max=lC,w.maxBy=hC,w.mean=fC,w.meanBy=dC,w.min=pC,w.minBy=gC,w.stubArray=cd,w.stubFalse=ld,w.stubObject=eC,w.stubString=tC,w.stubTrue=nC,w.multiply=mC,w.nth=xR,w.noConflict=Kb,w.noop=ud,w.now=ml,w.pad=_b,w.padEnd=yb,w.padStart=vb,w.parseInt=Eb,w.random=cb,w.reduce=N1,w.reduceRight=k1,w.repeat=wb,w.replace=Ib,w.result=ZS,w.round=_C,w.runInContext=M,w.sample=M1,w.size=U1,w.snakeCase=Tb,w.some=B1,w.sortedIndex=VR,w.sortedIndexBy=FR,w.sortedIndexOf=UR,w.sortedLastIndex=BR,w.sortedLastIndexBy=$R,w.sortedLastIndexOf=qR,w.startCase=Rb,w.startsWith=Sb,w.subtract=yC,w.sum=vC,w.sumBy=EC,w.template=bb,w.times=rC,w.toFinite=oi,w.toInteger=qe,w.toLength=R_,w.toLower=Cb,w.toNumber=hr,w.toSafeInteger=CS,w.toString=dt,w.toUpper=Pb,w.trim=xb,w.trimEnd=Ob,w.trimStart=Db,w.truncate=Nb,w.unescape=kb,w.uniqueId=sC,w.upperCase=Lb,w.upperFirst=id,w.each=h_,w.eachRight=f_,w.first=a_,ad(w,function(){var s={};return Nr(w,function(a,l){pt.call(w.prototype,l)||(s[l]=a)}),s}(),{chain:!1}),w.VERSION=r,On(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){w[s].placeholder=w}),On(["drop","take"],function(s,a){Ye.prototype[s]=function(l){l=l===n?1:Xt(qe(l),0);var g=this.__filtered__&&!a?new Ye(this):this.clone();return g.__filtered__?g.__takeCount__=Tn(l,g.__takeCount__):g.__views__.push({size:Tn(l,Pt),type:s+(g.__dir__<0?"Right":"")}),g},Ye.prototype[s+"Right"]=function(l){return this.reverse()[s](l).reverse()}}),On(["filter","map","takeWhile"],function(s,a){var l=a+1,g=l==ht||l==Ge;Ye.prototype[s]=function(y){var T=this.clone();return T.__iteratees__.push({iteratee:Se(y,3),type:l}),T.__filtered__=T.__filtered__||g,T}}),On(["head","last"],function(s,a){var l="take"+(a?"Right":"");Ye.prototype[s]=function(){return this[l](1).value()[0]}}),On(["initial","tail"],function(s,a){var l="drop"+(a?"":"Right");Ye.prototype[s]=function(){return this.__filtered__?new Ye(this):this[l](1)}}),Ye.prototype.compact=function(){return this.filter(Bn)},Ye.prototype.find=function(s){return this.filter(s).head()},Ye.prototype.findLast=function(s){return this.reverse().find(s)},Ye.prototype.invokeMap=Ke(function(s,a){return typeof s=="function"?new Ye(this):this.map(function(l){return za(l,s,a)})}),Ye.prototype.reject=function(s){return this.filter(yl(Se(s)))},Ye.prototype.slice=function(s,a){s=qe(s);var l=this;return l.__filtered__&&(s>0||a<0)?new Ye(l):(s<0?l=l.takeRight(-s):s&&(l=l.drop(s)),a!==n&&(a=qe(a),l=a<0?l.dropRight(-a):l.take(a-s)),l)},Ye.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},Ye.prototype.toArray=function(){return this.take(Pt)},Nr(Ye.prototype,function(s,a){var l=/^(?:filter|find|map|reject)|While$/.test(a),g=/^(?:head|last)$/.test(a),y=w[g?"take"+(a=="last"?"Right":""):a],T=g||/^find/.test(a);y&&(w.prototype[a]=function(){var P=this.__wrapped__,L=g?[1]:arguments,F=P instanceof Ye,Q=L[0],Y=F||Ve(P),Z=function(ze){var Ze=y.apply(w,mr([ze],L));return g&&fe?Ze[0]:Ze};Y&&l&&typeof Q=="function"&&Q.length!=1&&(F=Y=!1);var fe=this.__chain__,Ie=!!this.__actions__.length,be=T&&!fe,We=F&&!Ie;if(!T&&Y){P=We?P:new Ye(this);var Ce=s.apply(P,L);return Ce.__actions__.push({func:pl,args:[Z],thisArg:n}),new ar(Ce,fe)}return be&&We?s.apply(this,L):(Ce=this.thru(Z),be?g?Ce.value()[0]:Ce.value():Ce)})}),On(["pop","push","shift","sort","splice","unshift"],function(s){var a=Bc[s],l=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",g=/^(?:pop|shift)$/.test(s);w.prototype[s]=function(){var y=arguments;if(g&&!this.__chain__){var T=this.value();return a.apply(Ve(T)?T:[],y)}return this[l](function(P){return a.apply(Ve(P)?P:[],y)})}}),Nr(Ye.prototype,function(s,a){var l=w[a];if(l){var g=l.name+"";pt.call(ko,g)||(ko[g]=[]),ko[g].push({name:a,func:l})}}),ko[al(n,z).name]=[{name:"wrapper",func:n}],Ye.prototype.clone=kT,Ye.prototype.reverse=LT,Ye.prototype.value=MT,w.prototype.at=h1,w.prototype.chain=f1,w.prototype.commit=d1,w.prototype.next=p1,w.prototype.plant=m1,w.prototype.reverse=_1,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=y1,w.prototype.first=w.prototype.head,$a&&(w.prototype[$a]=g1),w},Oo=dT();fn?((fn.exports=Oo)._=Oo,Ao._=Oo):Nt._=Oo}).call(iu)})(_h,_h.exports);var y2=_h.exports;const v2=_2(y2),E2={key:0,class:"block-1"},w2={class:"block-2"},I2={key:1,class:"block-3"},T2={__name:"TheHeader",setup(t){const e=uc(),n=document.querySelector("#body"),r=on(null),i=on(!1),o=Wt(()=>v2.isEmpty(e.user)?"Guest mode, try auth!":`Log out ${e.user.email}`);function u(){e.logoutUser(),e.isActiveUser=!1,i.value=!1}function h(){i.value=!i.value}return window.addEventListener("resize",()=>{n.clientWidth>=400&&(i.value=!1)}),(f,p)=>{const m=Ut("RouterLink"),v=Ut("BaseButton"),E=Ut("BaseDropShadow");return $e(),bt("header",{class:pi({"active-user":!an(e).isActiveUser})},[xe("h1",null,[De(m,{to:"/"},{default:Qe(()=>[Jt("Noteballs")]),_:1})]),xe("nav",{class:pi(["nav",{toggle:i.value,"active-user":an(e).isActiveUser}]),ref_key:"nav",ref:r},[an(e).isActiveUser?($e(),bt("div",E2,[De(v,{onClick:u,class:"btn-blue"},{default:Qe(()=>[Jt(pr(o.value),1)]),_:1})])):Qs("",!0),xe("div",w2,[De(m,{to:"/notes"},{default:Qe(()=>[Jt("Notes")]),_:1}),De(m,{to:"/stats"},{default:Qe(()=>[Jt("Stats")]),_:1})]),i.value?($e(),bt("div",I2,[De(v,{class:"btn-white",onClick:h},{default:Qe(()=>[Jt("Close Bar")]),_:1})])):Qs("",!0)],2),r.value?($e(),un(lO,{key:0,onToggle:h})):Qs("",!0),i.value?($e(),un(E,{key:1,active:i.value,"onUpdate:active":p[0]||(p[0]=C=>i.value=C),class:"transparent--active"},null,8,["active"])):Qs("",!0)],2)}}},A2=Mt(T2,[["__scopeId","data-v-6b7e1c48"]]),R2={__name:"App",setup(t){const e=uc();return Ph(()=>{e.init()}),(n,r)=>{const i=Ut("RouterView");return $e(),bt(qn,null,[De(A2),xe("main",null,[De(i,null,{default:Qe(({Component:o})=>[De(zu,{name:"fade",mode:"out-in"},{default:Qe(()=>[($e(),un(_P(o)))]),_:2},1024)]),_:1})])],64)}}},S2=Mt(R2,[["__scopeId","data-v-9f1f894a"]]);/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ko=typeof document<"u";function b2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const gt=Object.assign;function kd(t,e){const n={};for(const r in e){const i=e[r];n[r]=Sr(i)?i.map(t):t(i)}return n}const Au=()=>{},Sr=Array.isArray,FI=/#/g,C2=/&/g,P2=/\//g,x2=/=/g,O2=/\?/g,UI=/\+/g,D2=/%5B/g,N2=/%5D/g,BI=/%5E/g,k2=/%60/g,$I=/%7B/g,L2=/%7C/g,qI=/%7D/g,M2=/%20/g;function $g(t){return encodeURI(""+t).replace(L2,"|").replace(D2,"[").replace(N2,"]")}function V2(t){return $g(t).replace($I,"{").replace(qI,"}").replace(BI,"^")}function Ap(t){return $g(t).replace(UI,"%2B").replace(M2,"+").replace(FI,"%23").replace(C2,"%26").replace(k2,"`").replace($I,"{").replace(qI,"}").replace(BI,"^")}function F2(t){return Ap(t).replace(x2,"%3D")}function U2(t){return $g(t).replace(FI,"%23").replace(O2,"%3F")}function B2(t){return t==null?"":U2(t).replace(P2,"%2F")}function ju(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const $2=/\/$/,q2=t=>t.replace($2,"");function Ld(t,e,n="/"){let r,i={},o="",u="";const h=e.indexOf("#");let f=e.indexOf("?");return h<f&&h>=0&&(f=-1),f>-1&&(r=e.slice(0,f),o=e.slice(f+1,h>-1?h:e.length),i=t(o)),h>-1&&(r=r||e.slice(0,h),u=e.slice(h,e.length)),r=K2(r??e,n),{fullPath:r+(o&&"?")+o+u,path:r,query:i,hash:ju(u)}}function H2(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Hv(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function W2(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&ha(e.matched[r],n.matched[i])&&HI(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ha(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function HI(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!j2(t[n],e[n]))return!1;return!0}function j2(t,e){return Sr(t)?Wv(t,e):Sr(e)?Wv(e,t):t===e}function Wv(t,e){return Sr(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function K2(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,u,h;for(u=0;u<r.length;u++)if(h=r[u],h!==".")if(h==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(u).join("/")}var Ku;(function(t){t.pop="pop",t.push="push"})(Ku||(Ku={}));var Ru;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ru||(Ru={}));function G2(t){if(!t)if(Ko){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),q2(t)}const z2=/^[^#]+#/;function Q2(t,e){return t.replace(z2,"#")+e}function Y2(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Zh=()=>({left:window.scrollX,top:window.scrollY});function X2(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=Y2(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function jv(t,e){return(history.state?history.state.position-e:-1)+t}const Rp=new Map;function J2(t,e){Rp.set(t,e)}function Z2(t){const e=Rp.get(t);return Rp.delete(t),e}let eF=()=>location.protocol+"//"+location.host;function WI(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let h=i.includes(t.slice(o))?t.slice(o).length:1,f=i.slice(h);return f[0]!=="/"&&(f="/"+f),Hv(f,"")}return Hv(n,t)+r+i}function tF(t,e,n,r){let i=[],o=[],u=null;const h=({state:E})=>{const C=WI(t,location),V=n.value,q=e.value;let $=0;if(E){if(n.value=C,e.value=E,u&&u===V){u=null;return}$=q?E.position-q.position:0}else r(C);i.forEach(z=>{z(n.value,V,{delta:$,type:Ku.pop,direction:$?$>0?Ru.forward:Ru.back:Ru.unknown})})};function f(){u=n.value}function p(E){i.push(E);const C=()=>{const V=i.indexOf(E);V>-1&&i.splice(V,1)};return o.push(C),C}function m(){const{history:E}=window;E.state&&E.replaceState(gt({},E.state,{scroll:Zh()}),"")}function v(){for(const E of o)E();o=[],window.removeEventListener("popstate",h),window.removeEventListener("beforeunload",m)}return window.addEventListener("popstate",h),window.addEventListener("beforeunload",m,{passive:!0}),{pauseListeners:f,listen:p,destroy:v}}function Kv(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Zh():null}}function nF(t){const{history:e,location:n}=window,r={value:WI(t,n)},i={value:e.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(f,p,m){const v=t.indexOf("#"),E=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+f:eF()+t+f;try{e[m?"replaceState":"pushState"](p,"",E),i.value=p}catch(C){console.error(C),n[m?"replace":"assign"](E)}}function u(f,p){const m=gt({},e.state,Kv(i.value.back,f,i.value.forward,!0),p,{position:i.value.position});o(f,m,!0),r.value=f}function h(f,p){const m=gt({},i.value,e.state,{forward:f,scroll:Zh()});o(m.current,m,!0);const v=gt({},Kv(r.value,f,null),{position:m.position+1},p);o(f,v,!1),r.value=f}return{location:r,state:i,push:h,replace:u}}function rF(t){t=G2(t);const e=nF(t),n=tF(t,e.state,e.location,e.replace);function r(o,u=!0){u||n.pauseListeners(),history.go(o)}const i=gt({location:"",base:t,go:r,createHref:Q2.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function iF(t){return typeof t=="string"||t&&typeof t=="object"}function jI(t){return typeof t=="string"||typeof t=="symbol"}const qi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},KI=Symbol("");var Gv;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Gv||(Gv={}));function fa(t,e){return gt(new Error,{type:t,[KI]:!0},e)}function ui(t,e){return t instanceof Error&&KI in t&&(e==null||!!(t.type&e))}const zv="[^/]+?",sF={sensitive:!1,strict:!1,start:!0,end:!0},oF=/[.+*?^${}()[\]/\\]/g;function aF(t,e){const n=gt({},sF,e),r=[];let i=n.start?"^":"";const o=[];for(const p of t){const m=p.length?[]:[90];n.strict&&!p.length&&(i+="/");for(let v=0;v<p.length;v++){const E=p[v];let C=40+(n.sensitive?.25:0);if(E.type===0)v||(i+="/"),i+=E.value.replace(oF,"\\$&"),C+=40;else if(E.type===1){const{value:V,repeatable:q,optional:$,regexp:z}=E;o.push({name:V,repeatable:q,optional:$});const te=z||zv;if(te!==zv){C+=10;try{new RegExp(`(${te})`)}catch(pe){throw new Error(`Invalid custom RegExp for param "${V}" (${te}): `+pe.message)}}let ne=q?`((?:${te})(?:/(?:${te}))*)`:`(${te})`;v||(ne=$&&p.length<2?`(?:/${ne})`:"/"+ne),$&&(ne+="?"),i+=ne,C+=20,$&&(C+=-8),q&&(C+=-20),te===".*"&&(C+=-50)}m.push(C)}r.push(m)}if(n.strict&&n.end){const p=r.length-1;r[p][r[p].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const u=new RegExp(i,n.sensitive?"":"i");function h(p){const m=p.match(u),v={};if(!m)return null;for(let E=1;E<m.length;E++){const C=m[E]||"",V=o[E-1];v[V.name]=C&&V.repeatable?C.split("/"):C}return v}function f(p){let m="",v=!1;for(const E of t){(!v||!m.endsWith("/"))&&(m+="/"),v=!1;for(const C of E)if(C.type===0)m+=C.value;else if(C.type===1){const{value:V,repeatable:q,optional:$}=C,z=V in p?p[V]:"";if(Sr(z)&&!q)throw new Error(`Provided param "${V}" is an array but it is not repeatable (* or + modifiers)`);const te=Sr(z)?z.join("/"):z;if(!te)if($)E.length<2&&(m.endsWith("/")?m=m.slice(0,-1):v=!0);else throw new Error(`Missing required param "${V}"`);m+=te}}return m||"/"}return{re:u,score:r,keys:o,parse:h,stringify:f}}function uF(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function cF(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const o=uF(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(Qv(r))return 1;if(Qv(i))return-1}return i.length-r.length}function Qv(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const lF={type:0,value:""},hF=/[a-zA-Z0-9_]/;function fF(t){if(!t)return[[]];if(t==="/")return[[lF]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(C){throw new Error(`ERR (${n})/"${p}": ${C}`)}let n=0,r=n;const i=[];let o;function u(){o&&i.push(o),o=[]}let h=0,f,p="",m="";function v(){p&&(n===0?o.push({type:0,value:p}):n===1||n===2||n===3?(o.length>1&&(f==="*"||f==="+")&&e(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:p,regexp:m,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):e("Invalid state to consume buffer"),p="")}function E(){p+=f}for(;h<t.length;){if(f=t[h++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(p&&v(),u()):f===":"?(v(),n=1):E();break;case 4:E(),n=r;break;case 1:f==="("?n=2:hF.test(f)?E():(v(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&h--);break;case 2:f===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+f:n=3:m+=f;break;case 3:v(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&h--,m="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${p}"`),v(),u(),i}function dF(t,e,n){const r=aF(fF(t.path),n),i=gt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function pF(t,e){const n=[],r=new Map;e=Jv({strict:!1,end:!0,sensitive:!1},e);function i(m){return r.get(m)}function o(m,v,E){const C=!E,V=gF(m);V.aliasOf=E&&E.record;const q=Jv(e,m),$=[V];if("alias"in m){const ne=typeof m.alias=="string"?[m.alias]:m.alias;for(const pe of ne)$.push(gt({},V,{components:E?E.record.components:V.components,path:pe,aliasOf:E?E.record:V}))}let z,te;for(const ne of $){const{path:pe}=ne;if(v&&pe[0]!=="/"){const ge=v.record.path,ue=ge[ge.length-1]==="/"?"":"/";ne.path=v.record.path+(pe&&ue+pe)}if(z=dF(ne,v,q),E?E.alias.push(z):(te=te||z,te!==z&&te.alias.push(z),C&&m.name&&!Xv(z)&&u(m.name)),V.children){const ge=V.children;for(let ue=0;ue<ge.length;ue++)o(ge[ue],z,E&&E.children[ue])}E=E||z,(z.record.components&&Object.keys(z.record.components).length||z.record.name||z.record.redirect)&&f(z)}return te?()=>{u(te)}:Au}function u(m){if(jI(m)){const v=r.get(m);v&&(r.delete(m),n.splice(n.indexOf(v),1),v.children.forEach(u),v.alias.forEach(u))}else{const v=n.indexOf(m);v>-1&&(n.splice(v,1),m.record.name&&r.delete(m.record.name),m.children.forEach(u),m.alias.forEach(u))}}function h(){return n}function f(m){let v=0;for(;v<n.length&&cF(m,n[v])>=0&&(m.record.path!==n[v].record.path||!GI(m,n[v]));)v++;n.splice(v,0,m),m.record.name&&!Xv(m)&&r.set(m.record.name,m)}function p(m,v){let E,C={},V,q;if("name"in m&&m.name){if(E=r.get(m.name),!E)throw fa(1,{location:m});q=E.record.name,C=gt(Yv(v.params,E.keys.filter(te=>!te.optional).concat(E.parent?E.parent.keys.filter(te=>te.optional):[]).map(te=>te.name)),m.params&&Yv(m.params,E.keys.map(te=>te.name))),V=E.stringify(C)}else if(m.path!=null)V=m.path,E=n.find(te=>te.re.test(V)),E&&(C=E.parse(V),q=E.record.name);else{if(E=v.name?r.get(v.name):n.find(te=>te.re.test(v.path)),!E)throw fa(1,{location:m,currentLocation:v});q=E.record.name,C=gt({},v.params,m.params),V=E.stringify(C)}const $=[];let z=E;for(;z;)$.unshift(z.record),z=z.parent;return{name:q,path:V,params:C,matched:$,meta:_F($)}}return t.forEach(m=>o(m)),{addRoute:o,resolve:p,removeRoute:u,getRoutes:h,getRecordMatcher:i}}function Yv(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function gF(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:mF(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function mF(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Xv(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function _F(t){return t.reduce((e,n)=>gt(e,n.meta),{})}function Jv(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function GI(t,e){return e.children.some(n=>n===t||GI(t,n))}function yF(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(UI," "),u=o.indexOf("="),h=ju(u<0?o:o.slice(0,u)),f=u<0?null:ju(o.slice(u+1));if(h in e){let p=e[h];Sr(p)||(p=e[h]=[p]),p.push(f)}else e[h]=f}return e}function Zv(t){let e="";for(let n in t){const r=t[n];if(n=F2(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Sr(r)?r.map(o=>o&&Ap(o)):[r&&Ap(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function vF(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Sr(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const zI=Symbol(""),e0=Symbol(""),ef=Symbol(""),qg=Symbol(""),Sp=Symbol("");function su(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function EF(t,e,n){const r=()=>{t[e].delete(n)};xh(r),J0(r),X0(()=>{t[e].add(n)}),t[e].add(n)}function wF(t){const e=Zn(zI,{}).value;e&&EF(e,"leaveGuards",t)}function zi(t,e,n,r,i,o=u=>u()){const u=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((h,f)=>{const p=E=>{E===!1?f(fa(4,{from:n,to:e})):E instanceof Error?f(E):iF(E)?f(fa(2,{from:e,to:E})):(u&&r.enterCallbacks[i]===u&&typeof E=="function"&&u.push(E),h())},m=o(()=>t.call(r&&r.instances[i],e,n,p));let v=Promise.resolve(m);t.length<3&&(v=v.then(p)),v.catch(E=>f(E))})}function Md(t,e,n,r,i=o=>o()){const o=[];for(const u of t)for(const h in u.components){let f=u.components[h];if(!(e!=="beforeRouteEnter"&&!u.instances[h]))if(IF(f)){const m=(f.__vccOpts||f)[e];m&&o.push(zi(m,n,r,u,h,i))}else{let p=f();o.push(()=>p.then(m=>{if(!m)return Promise.reject(new Error(`Couldn't resolve component "${h}" at "${u.path}"`));const v=b2(m)?m.default:m;u.components[h]=v;const C=(v.__vccOpts||v)[e];return C&&zi(C,n,r,u,h,i)()}))}}return o}function IF(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function t0(t){const e=Zn(ef),n=Zn(qg),r=Wt(()=>{const f=an(t.to);return e.resolve(f)}),i=Wt(()=>{const{matched:f}=r.value,{length:p}=f,m=f[p-1],v=n.matched;if(!m||!v.length)return-1;const E=v.findIndex(ha.bind(null,m));if(E>-1)return E;const C=n0(f[p-2]);return p>1&&n0(m)===C&&v[v.length-1].path!==C?v.findIndex(ha.bind(null,f[p-2])):E}),o=Wt(()=>i.value>-1&&SF(n.params,r.value.params)),u=Wt(()=>i.value>-1&&i.value===n.matched.length-1&&HI(n.params,r.value.params));function h(f={}){return RF(f)?e[an(t.replace)?"replace":"push"](an(t.to)).catch(Au):Promise.resolve()}return{route:r,href:Wt(()=>r.value.href),isActive:o,isExactActive:u,navigate:h}}const TF=Y0({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:t0,setup(t,{slots:e}){const n=da(t0(t)),{options:r}=Zn(ef),i=Wt(()=>({[r0(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[r0(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:Gp("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),AF=TF;function RF(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function SF(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Sr(i)||i.length!==r.length||r.some((o,u)=>o!==i[u]))return!1}return!0}function n0(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const r0=(t,e,n)=>t??e??n,bF=Y0({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Zn(Sp),i=Wt(()=>t.route||r.value),o=Zn(e0,0),u=Wt(()=>{let p=an(o);const{matched:m}=i.value;let v;for(;(v=m[p])&&!v.components;)p++;return p}),h=Wt(()=>i.value.matched[u.value]);Fl(e0,Wt(()=>u.value+1)),Fl(zI,h),Fl(Sp,i);const f=on();return eo(()=>[f.value,h.value,t.name],([p,m,v],[E,C,V])=>{m&&(m.instances[v]=p,C&&C!==m&&p&&p===E&&(m.leaveGuards.size||(m.leaveGuards=C.leaveGuards),m.updateGuards.size||(m.updateGuards=C.updateGuards))),p&&m&&(!C||!ha(m,C)||!E)&&(m.enterCallbacks[v]||[]).forEach(q=>q(p))},{flush:"post"}),()=>{const p=i.value,m=t.name,v=h.value,E=v&&v.components[m];if(!E)return i0(n.default,{Component:E,route:p});const C=v.props[m],V=C?C===!0?p.params:typeof C=="function"?C(p):C:null,$=Gp(E,gt({},V,e,{onVnodeUnmounted:z=>{z.component.isUnmounted&&(v.instances[m]=null)},ref:f}));return i0(n.default,{Component:$,route:p})||$}}});function i0(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const CF=bF;function PF(t){const e=pF(t.routes,t),n=t.parseQuery||yF,r=t.stringifyQuery||Zv,i=t.history,o=su(),u=su(),h=su(),f=nP(qi);let p=qi;Ko&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=kd.bind(null,G=>""+G),v=kd.bind(null,B2),E=kd.bind(null,ju);function C(G,de){let ce,_e;return jI(G)?(ce=e.getRecordMatcher(G),_e=de):_e=G,e.addRoute(_e,ce)}function V(G){const de=e.getRecordMatcher(G);de&&e.removeRoute(de)}function q(){return e.getRoutes().map(G=>G.record)}function $(G){return!!e.getRecordMatcher(G)}function z(G,de){if(de=gt({},de||f.value),typeof G=="string"){const x=Ld(n,G,de.path),B=e.resolve({path:x.path},de),X=i.createHref(x.fullPath);return gt(x,B,{params:E(B.params),hash:ju(x.hash),redirectedFrom:void 0,href:X})}let ce;if(G.path!=null)ce=gt({},G,{path:Ld(n,G.path,de.path).path});else{const x=gt({},G.params);for(const B in x)x[B]==null&&delete x[B];ce=gt({},G,{params:v(x)}),de.params=v(de.params)}const _e=e.resolve(ce,de),je=G.hash||"";_e.params=m(E(_e.params));const it=H2(r,gt({},G,{hash:V2(je),path:_e.path})),S=i.createHref(it);return gt({fullPath:it,hash:je,query:r===Zv?vF(G.query):G.query||{}},_e,{redirectedFrom:void 0,href:S})}function te(G){return typeof G=="string"?Ld(n,G,f.value.path):gt({},G)}function ne(G,de){if(p!==G)return fa(8,{from:de,to:G})}function pe(G){return N(G)}function ge(G){return pe(gt(te(G),{replace:!0}))}function ue(G){const de=G.matched[G.matched.length-1];if(de&&de.redirect){const{redirect:ce}=de;let _e=typeof ce=="function"?ce(G):ce;return typeof _e=="string"&&(_e=_e.includes("?")||_e.includes("#")?_e=te(_e):{path:_e},_e.params={}),gt({query:G.query,hash:G.hash,params:_e.path!=null?{}:G.params},_e)}}function N(G,de){const ce=p=z(G),_e=f.value,je=G.state,it=G.force,S=G.replace===!0,x=ue(ce);if(x)return N(gt(te(x),{state:typeof x=="object"?gt({},je,x.state):je,force:it,replace:S}),de||ce);const B=ce;B.redirectedFrom=de;let X;return!it&&W2(r,_e,ce)&&(X=fa(16,{to:B,from:_e}),Pt(_e,_e,!0,!1)),(X?Promise.resolve(X):O(B,_e)).catch(j=>ui(j)?ui(j,2)?j:yn(j):ke(j,B,_e)).then(j=>{if(j){if(ui(j,2))return N(gt({replace:S},te(j.to),{state:typeof j.to=="object"?gt({},je,j.to.state):je,force:it}),de||B)}else j=D(B,_e,!0,S,je);return k(B,_e,j),j})}function A(G,de){const ce=ne(G,de);return ce?Promise.reject(ce):Promise.resolve()}function R(G){const de=Cr.values().next().value;return de&&typeof de.runWithContext=="function"?de.runWithContext(G):G()}function O(G,de){let ce;const[_e,je,it]=xF(G,de);ce=Md(_e.reverse(),"beforeRouteLeave",G,de);for(const x of _e)x.leaveGuards.forEach(B=>{ce.push(zi(B,G,de))});const S=A.bind(null,G,de);return ce.push(S),xt(ce).then(()=>{ce=[];for(const x of o.list())ce.push(zi(x,G,de));return ce.push(S),xt(ce)}).then(()=>{ce=Md(je,"beforeRouteUpdate",G,de);for(const x of je)x.updateGuards.forEach(B=>{ce.push(zi(B,G,de))});return ce.push(S),xt(ce)}).then(()=>{ce=[];for(const x of it)if(x.beforeEnter)if(Sr(x.beforeEnter))for(const B of x.beforeEnter)ce.push(zi(B,G,de));else ce.push(zi(x.beforeEnter,G,de));return ce.push(S),xt(ce)}).then(()=>(G.matched.forEach(x=>x.enterCallbacks={}),ce=Md(it,"beforeRouteEnter",G,de,R),ce.push(S),xt(ce))).then(()=>{ce=[];for(const x of u.list())ce.push(zi(x,G,de));return ce.push(S),xt(ce)}).catch(x=>ui(x,8)?x:Promise.reject(x))}function k(G,de,ce){h.list().forEach(_e=>R(()=>_e(G,de,ce)))}function D(G,de,ce,_e,je){const it=ne(G,de);if(it)return it;const S=de===qi,x=Ko?history.state:{};ce&&(_e||S?i.replace(G.fullPath,gt({scroll:S&&x&&x.scroll},je)):i.push(G.fullPath,je)),f.value=G,Pt(G,de,ce,S),yn()}let b;function ht(){b||(b=i.listen((G,de,ce)=>{if(!cn.listening)return;const _e=z(G),je=ue(_e);if(je){N(gt(je,{replace:!0}),_e).catch(Au);return}p=_e;const it=f.value;Ko&&J2(jv(it.fullPath,ce.delta),Zh()),O(_e,it).catch(S=>ui(S,12)?S:ui(S,2)?(N(S.to,_e).then(x=>{ui(x,20)&&!ce.delta&&ce.type===Ku.pop&&i.go(-1,!1)}).catch(Au),Promise.reject()):(ce.delta&&i.go(-ce.delta,!1),ke(S,_e,it))).then(S=>{S=S||D(_e,it,!1),S&&(ce.delta&&!ui(S,8)?i.go(-ce.delta,!1):ce.type===Ku.pop&&ui(S,20)&&i.go(-1,!1)),k(_e,it,S)}).catch(Au)}))}let Ct=su(),Ge=su(),Be;function ke(G,de,ce){yn(G);const _e=Ge.list();return _e.length?_e.forEach(je=>je(G,de,ce)):console.error(G),Promise.reject(G)}function xn(){return Be&&f.value!==qi?Promise.resolve():new Promise((G,de)=>{Ct.add([G,de])})}function yn(G){return Be||(Be=!G,ht(),Ct.list().forEach(([de,ce])=>G?ce(G):de()),Ct.reset()),G}function Pt(G,de,ce,_e){const{scrollBehavior:je}=t;if(!Ko||!je)return Promise.resolve();const it=!ce&&Z2(jv(G.fullPath,0))||(_e||!ce)&&history.state&&history.state.scroll||null;return Bp().then(()=>je(G,de,it)).then(S=>S&&X2(S)).catch(S=>ke(S,G,de))}const Et=G=>i.go(G);let wt;const Cr=new Set,cn={currentRoute:f,listening:!0,addRoute:C,removeRoute:V,hasRoute:$,getRoutes:q,resolve:z,options:t,push:pe,replace:ge,go:Et,back:()=>Et(-1),forward:()=>Et(1),beforeEach:o.add,beforeResolve:u.add,afterEach:h.add,onError:Ge.add,isReady:xn,install(G){const de=this;G.component("RouterLink",AF),G.component("RouterView",CF),G.config.globalProperties.$router=de,Object.defineProperty(G.config.globalProperties,"$route",{enumerable:!0,get:()=>an(f)}),Ko&&!wt&&f.value===qi&&(wt=!0,pe(i.location).catch(je=>{}));const ce={};for(const je in qi)Object.defineProperty(ce,je,{get:()=>f.value[je],enumerable:!0});G.provide(ef,de),G.provide(qg,x0(ce)),G.provide(Sp,f);const _e=G.unmount;Cr.add(G),G.unmount=function(){Cr.delete(G),Cr.size<1&&(p=qi,b&&b(),b=null,f.value=qi,wt=!1,Be=!1),_e()}}};function xt(G){return G.reduce((de,ce)=>de.then(()=>R(ce)),Promise.resolve())}return cn}function xF(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let u=0;u<o;u++){const h=e.matched[u];h&&(t.matched.find(p=>ha(p,h))?r.push(h):n.push(h));const f=t.matched[u];f&&(e.matched.find(p=>ha(p,f))||i.push(f))}return[n,r,i]}function Hg(){return Zn(ef)}function OF(){return Zn(qg)}const QI={mounted(t){t.focus()}};function YI(t,e=100){eo(t,n=>{n.length===e&&alert(`Max limit of ${e} characters!`)})}const s0=100,DF={__name:"CreateNote",setup(t){const e=Ea(),n=on(null),r=on(!1),i=on(!1);YI(n,s0),eo(n,u=>{u?(i.value=!0,r.value=!1):i.value=!1});function o(){if(n.value===null){r.value=!0;return}n.value=n.value.trim(),n.value?(r.value=!1,i.value=!1,e.addNote(n),n.value=""):(i.value=!1,r.value=!0)}return(u,h)=>{const f=Ut("BaseTitleMessage"),p=Ut("BaseLabel"),m=Ut("BaseFormItem"),v=Ut("BaseButton"),E=Ut("BaseForm");return $e(),un(E,{class:"form-green",onKeyup:vE(ku(o,["alt"]),["enter"]),onSubmit:ku(o,["prevent"])},{default:Qe(()=>[De(m,null,{default:Qe(()=>[De(zu,{name:"fade",mode:"out-in"},{default:Qe(()=>[r.value?($e(),un(p,{key:0,for:"note"},{title:Qe(()=>[De(f,{class:"warning"},{default:Qe(()=>[Jt("Warning:")]),_:1})]),default:Qe(()=>[Jt(" field must be filled!")]),_:1})):i.value?($e(),un(p,{key:1,for:"note",class:"tips"},{title:Qe(()=>[De(f,{class:"tip"},{default:Qe(()=>[Jt("Tip:")]),_:1})]),default:Qe(()=>[Jt(' hot key - "Alt + Enter" for quick submit.')]),_:1})):Qs("",!0)]),_:1}),xu(xe("textarea",{name:"note",id:"note",placeholder:"Add new note","onUpdate:modelValue":h[0]||(h[0]=C=>n.value=C),maxlength:s0},null,512),[[Nu,n.value],[an(QI)]])]),_:1}),De(m,null,{default:Qe(()=>[De(v,{class:"btn-green"},{default:Qe(()=>[Jt("Add New Note")]),_:1})]),_:1})]),_:1},8,["onKeyup"])}}};function o0(t){return typeof t=="function"?t():an(t)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const NF=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[T\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/i,kF=/[YMDHhms]o|\[([^\]]+)\]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g;function LF(t,e,n,r){let i=t<12?"AM":"PM";return r&&(i=i.split("").reduce((o,u)=>o+=`${u}.`,"")),n?i.toLowerCase():i}function Ws(t){const e=["th","st","nd","rd"],n=t%100;return t+(e[(n-20)%10]||e[n]||e[0])}function MF(t,e,n={}){var r;const i=t.getFullYear(),o=t.getMonth(),u=t.getDate(),h=t.getHours(),f=t.getMinutes(),p=t.getSeconds(),m=t.getMilliseconds(),v=t.getDay(),E=(r=n.customMeridiem)!=null?r:LF,C={Yo:()=>Ws(i),YY:()=>String(i).slice(-2),YYYY:()=>i,M:()=>o+1,Mo:()=>Ws(o+1),MM:()=>`${o+1}`.padStart(2,"0"),MMM:()=>t.toLocaleDateString(n.locales,{month:"short"}),MMMM:()=>t.toLocaleDateString(n.locales,{month:"long"}),D:()=>String(u),Do:()=>Ws(u),DD:()=>`${u}`.padStart(2,"0"),H:()=>String(h),Ho:()=>Ws(h),HH:()=>`${h}`.padStart(2,"0"),h:()=>`${h%12||12}`.padStart(1,"0"),ho:()=>Ws(h%12||12),hh:()=>`${h%12||12}`.padStart(2,"0"),m:()=>String(f),mo:()=>Ws(f),mm:()=>`${f}`.padStart(2,"0"),s:()=>String(p),so:()=>Ws(p),ss:()=>`${p}`.padStart(2,"0"),SSS:()=>`${m}`.padStart(3,"0"),d:()=>v,dd:()=>t.toLocaleDateString(n.locales,{weekday:"narrow"}),ddd:()=>t.toLocaleDateString(n.locales,{weekday:"short"}),dddd:()=>t.toLocaleDateString(n.locales,{weekday:"long"}),A:()=>E(h,f),AA:()=>E(h,f,!1,!0),a:()=>E(h,f,!0),aa:()=>E(h,f,!0,!0)};return e.replace(kF,(V,q)=>{var $,z;return(z=q??(($=C[V])==null?void 0:$.call(C)))!=null?z:V})}function VF(t){if(t===null)return new Date(Number.NaN);if(t===void 0)return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){const e=t.match(NF);if(e){const n=e[2]-1||0,r=(e[7]||"0").substring(0,3);return new Date(e[1],n,e[3]||1,e[4]||0,e[5]||0,e[6]||0,r)}}return new Date(t)}function FF(t,e="HH:mm:ss",n={}){return Wt(()=>MF(VF(o0(t)),o0(e),n))}const XI=t=>(yi("data-v-df876aae"),t=t(),vi(),t),UF={class:"note-item"},BF={class:"note-item__text"},$F={class:"note-item__info"},qF=XI(()=>xe("hr",null,null,-1)),HF={class:"note-item__buttons"},WF=XI(()=>xe("hr",null,null,-1)),jF={__name:"NoteItem",props:["id","date","text","characters"],setup(t){const{id:e,date:n,text:r,characters:i}=t,o=Ea(),u=on(!1),h=on("Are you sure you want to delete this note?"),f=Wt(()=>`/notes/${e}`),p=Wt(()=>`${i} ${i>1?"characters":"character"}`),m=Wt(()=>{const V=new Date(+n);return FF(V,"YYYY-MM-DD @ HH:mm").value});function v(){u.value=!1}function E(){C(),u.value=!0}function C(){window.scrollTo(0,0)}return(V,q)=>{const $=Ut("RouterLink"),z=Ut("BaseButton"),te=Ut("BaseModal");return $e(),bt("li",UF,[xe("div",BF,pr(t.text),1),xe("div",$F,[xe("small",null,pr(m.value)+" created",1),xe("small",null,pr(p.value),1)]),qF,xe("div",HF,[xe("button",null,[De($,{to:f.value},{default:Qe(()=>[Jt("Edit")]),_:1},8,["to"])]),WF,xe("button",{onClick:E},"Delete")]),($e(),un(nx,{to:"body"},[u.value?($e(),un(te,{key:0,title:"Delete Note",active:u.value,"onUpdate:controlModal":q[1]||(q[1]=ne=>u.value=ne)},{description:Qe(()=>[Jt(pr(h.value),1)]),footer:Qe(()=>[De(z,{onClick:v,class:"btn-white"},{default:Qe(()=>[Jt("Cancel")]),_:1}),De(z,{onClick:q[0]||(q[0]=ne=>an(o).deleteNote(t.id)),class:"btn-red"},{default:Qe(()=>[Jt("Delete")]),_:1})]),_:1},8,["active"])):Qs("",!0)]))])}}},KF=Mt(jF,[["__scopeId","data-v-df876aae"]]),GF={},zF={class:"spinner"};function QF(t,e){return $e(),bt("div",zF)}const YF=Mt(GF,[["render",QF],["__scopeId","data-v-e4782a41"]]),XF=t=>(yi("data-v-36f5e773"),t=t(),vi(),t),JF={key:1,ref:"ul"},ZF={key:0},eU=XF(()=>xe("small",{class:"message"},"No notes here yet...",-1)),tU=[eU],nU={__name:"ListNotes",setup(t){const e=Ea(),n=Wt(()=>r=>{const i=e.getNotes.find(o=>o.id===r);return i.text||(i.text="NOTHING in NOTE"),i.text.length});return(r,i)=>($e(),bt("section",null,[an(e).isNotesLoaded?($e(),bt("ul",JF,[an(e).isNotes?($e(!0),bt(qn,{key:1},kP(an(e).getNotes,o=>($e(),un(KF,{key:o.id,id:o.id,date:o.date,text:o.text,characters:n.value(o.id)},null,8,["id","date","text","characters"]))),128)):($e(),bt("li",ZF,tU))],512)):($e(),un(YF,{key:0}))]))}},rU=Mt(nU,[["__scopeId","data-v-36f5e773"]]),iU={__name:"NotesContainer",setup(t){return(e,n)=>($e(),bt("section",null,[De(DF),De(rU)]))}},sU=Mt(iU,[["__scopeId","data-v-a64418e0"]]),Wg=t=>(yi("data-v-ec91e411"),t=t(),vi(),t),oU=Wg(()=>xe("thead",null,[xe("tr",null,[xe("th",null,"Stat"),xe("th",null,"Value")])],-1)),aU=Wg(()=>xe("td",null,"Number of Notes",-1)),uU=Wg(()=>xe("td",null,"Number of Characters (all notes)",-1)),cU={__name:"StatsTable",setup(t){const e=Ea(),n=Wt(()=>e.getNotes.length),r=Wt(()=>e.getNotes.reduce((i,o)=>(i+=o.text.length,i),0));return(i,o)=>($e(),bt("table",null,[oU,xe("tbody",null,[xe("tr",null,[aU,xe("td",null,pr(n.value),1)]),xe("tr",null,[uU,xe("td",null,pr(r.value),1)])])]))}},lU=Mt(cU,[["__scopeId","data-v-ec91e411"]]),a0=20,hU={__name:"StatsContainer",setup(t){const e=on(null);return YI(e,a0),(n,r)=>{const i=Ut("BaseFormItem");return $e(),bt("section",null,[De(lU),De(i,null,{default:Qe(()=>[xu(xe("input",{type:"text",placeholder:"Do you love noteballs?","onUpdate:modelValue":r[0]||(r[0]=o=>e.value=o),maxlength:a0},null,512),[[Nu,e.value],[an(QI)]])]),_:1})])}}},fU=Mt(hU,[["__scopeId","data-v-54a9abf7"]]),dU={};function pU(t,e){const n=Ut("BaseAuthModal");return $e(),un(n,{type:"login",title:"Login"})}const gU=Mt(dU,[["render",pU]]),mU={};function _U(t,e){const n=Ut("BaseAuthModal");return $e(),un(n,{type:"register",title:"Register"})}const yU=Mt(mU,[["render",_U]]),vU=t=>(yi("data-v-2e0b69ac"),t=t(),vi(),t),EU={class:"auth-container"},wU={class:"bar"},IU=vU(()=>xe("hr",null,null,-1)),TU={__name:"AuthContainer",setup(t){const e=on(!1),n=on(!1),r=on("login");function i(){r.value="login",e.value=!0,n.value=!1}function o(){r.value="register",n.value=!0,e.value=!1}return(u,h)=>($e(),bt("section",EU,[xe("div",wU,[xe("a",{onClick:i,class:pi({active:e.value})},"Login",2),xe("a",{onClick:o,class:pi({active:n.value})}," Register ",2)]),IU,De(zu,{name:"fade",mode:"out-in"},{default:Qe(()=>[r.value==="login"?($e(),un(gU,{key:0})):($e(),un(yU,{key:1}))]),_:1})]))}},AU=Mt(TU,[["__scopeId","data-v-2e0b69ac"]]);function RU(){const t=Hg();function e(){t.push("/notes")}return{cancel:e}}const SU={__name:"EditNote",setup(t){const e=OF(),n=Hg(),r=Ea(),{cancel:i}=RU(),o=on("Edit Note"),u=e.params.id,h=r.getNotes.find(V=>V.id===u),{text:f}=h||{text:"default"},p=on(f),m=on(null);function v(V,q,$){h&&h.text===p?window.confirm("Do you really want to leave? You have unsaved changes!")?$():$(!1):$()}function E(V){r.updateNote(p.value,V),n.push("/notes")}function C(V){if(V.submitter.classList.contains("btn-blue"))if(p.value!==f)E(u);else{o.value="Change text!",m.value=!0;return}else i()}return wF(v),(V,q)=>{const $=Ut("BaseFormItem"),z=Ut("BaseButton"),te=Ut("BaseForm");return $e(),un(te,{class:"form-blue form-edit",onSubmit:ku(C,["prevent"])},{default:Qe(()=>[De($,{class:"form-item"},{default:Qe(()=>[xe("label",{class:pi({warning:m.value})},pr(o.value),3),xu(xe("textarea",{name:"note",id:"note","onUpdate:modelValue":q[0]||(q[0]=ne=>p.value=ne)},pr(p.value),513),[[Nu,p.value]])]),_:1}),De($,{class:"form-item"},{default:Qe(()=>[De(z,{class:"btn-white"},{default:Qe(()=>[Jt("Cancel")]),_:1}),De(z,{class:"btn-blue"},{default:Qe(()=>[Jt("Save Note")]),_:1})]),_:1})]),_:1})}}},bU=Mt(SU,[["__scopeId","data-v-3b726c65"]]),CU={},PU=t=>(yi("data-v-b2169dcd"),t=t(),vi(),t),xU={class:"page404"},OU=PU(()=>xe("h2",null,"Nothing found! (404)",-1)),DU=[OU];function NU(t,e){return $e(),bt("section",xU,DU)}const kU=Mt(CU,[["render",NU],["__scopeId","data-v-b2169dcd"]]),jg=PF({history:rF("/"),routes:[{path:"/",redirect:"/notes"},{path:"/notes",name:"notes",component:sU},{path:"/notes/:id",name:"edit",component:bU},{path:"/stats",name:"stats",component:fU},{path:"/auth",name:"auth",component:AU},{path:"/:pathMatch(.*)*",name:"NotFound",component:kU}]});jg.beforeEach(async(t,e)=>{const n=uc();if(!n.user.id&&t.name!=="auth")return{name:"auth"};if(n.user.id&&t.name==="auth")return!1});const LU={};function MU(t,e){return $e(),bt("form",null,[us(t.$slots,"default",{},void 0)])}const VU=Mt(LU,[["render",MU],["__scopeId","data-v-dae4084f"]]),FU={},UU={class:"form-item"};function BU(t,e){return $e(),bt("div",UU,[us(t.$slots,"default",{},void 0)])}const $U=Mt(FU,[["render",BU],["__scopeId","data-v-882ee1f9"]]),qU={};function HU(t,e){return $e(),bt("button",null,[us(t.$slots,"default",{},void 0)])}const Kg=Mt(qU,[["render",HU],["__scopeId","data-v-8c28746c"]]),WU="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20opacity='0.4'%20d='M12%2022C17.5228%2022%2022%2017.5228%2022%2012C22%206.47715%2017.5228%202%2012%202C6.47715%202%202%206.47715%202%2012C2%2017.5228%206.47715%2022%2012%2022Z'%20fill='%23292D32'/%3e%3cpath%20d='M13.0594%2012.0001L15.3594%209.70011C15.6494%209.41011%2015.6494%208.93011%2015.3594%208.64011C15.0694%208.35011%2014.5894%208.35011%2014.2994%208.64011L11.9994%2010.9401L9.69937%208.64011C9.40937%208.35011%208.92937%208.35011%208.63938%208.64011C8.34938%208.93011%208.34938%209.41011%208.63938%209.70011L10.9394%2012.0001L8.63938%2014.3001C8.34938%2014.5901%208.34938%2015.0701%208.63938%2015.3601C8.78938%2015.5101%208.97937%2015.5801%209.16937%2015.5801C9.35937%2015.5801%209.54937%2015.5101%209.69937%2015.3601L11.9994%2013.0601L14.2994%2015.3601C14.4494%2015.5101%2014.6394%2015.5801%2014.8294%2015.5801C15.0194%2015.5801%2015.2094%2015.5101%2015.3594%2015.3601C15.6494%2015.0701%2015.6494%2014.5901%2015.3594%2014.3001L13.0594%2012.0001Z'%20fill='%23fff'/%3e%3c/svg%3e",jU=t=>(yi("data-v-0fa6ecc4"),t=t(),vi(),t),KU={class:"modal-container"},GU={class:"modal"},zU={class:"header"},QU={class:"title"},YU=jU(()=>xe("img",{src:WU,alt:"icon-close"},null,-1)),XU={class:"description"},JU={class:"footer"},ZU={__name:"BaseModal",props:["active","title"],emits:["update:control-modal"],setup(t,{emit:e}){const n=e,r=u=>{n("update:control-modal",u)};function i(){r(!1)}const o=u=>{u.key==="Escape"&&r(!1)};return Ph(()=>{document.addEventListener("keyup",o)}),xh(()=>{document.removeEventListener("keyup",o)}),(u,h)=>{const f=Ut("BaseDropShadow");return $e(),bt("div",KU,[xe("div",GU,[xe("div",zU,[xe("h2",QU,pr(t.title||"Modal"),1),De(Kg,{class:"btn-close",onClick:i},{default:Qe(()=>[YU]),_:1})]),xe("p",XU,[us(u.$slots,"description",{},void 0)]),xe("div",JU,[us(u.$slots,"footer",{},void 0)])]),t.active?($e(),un(f,{key:0,active:t.active,"onUpdate:active":h[0]||(h[0]=p=>r(p))},null,8,["active"])):Qs("",!0)])}}},e4=Mt(ZU,[["__scopeId","data-v-0fa6ecc4"]]),t4={__name:"BaseDropShadow",props:["active"],emits:["update:active"],setup(t,{emit:e}){const n=e,r=u=>{n("update:active",u)},i=on(null);function o(){r(!1),i.value.classList.remove("transparent--show")}return(u,h)=>($e(),bt("div",{ref_key:"divTransparent",ref:i,onClick:o,class:pi(["transparent",{"transparent--show":t.active}])},null,2))}},n4=Mt(t4,[["__scopeId","data-v-c1ba5d9e"]]),JI=t=>(yi("data-v-b6b6cdfd"),t=t(),vi(),t),r4={class:"section-auth"},i4=JI(()=>xe("label",{for:"email"},"Email",-1)),s4=JI(()=>xe("label",{for:"password"},"Password",-1)),o4={__name:"BaseAuthModal",props:["title","type"],setup(t){const{title:e,type:n}=t,r=uc();Hg();const i=da({email:"",password:null}),{email:o,password:u}=V0(i);function h(){if(!i.email||!i.password){alert("Please fill of your date the fields!");return}n==="login"&&r.loginUser(i),n=="register"&&r.registerUser(i),i.email="",i.password=""}return(f,p)=>{const m=Ut("BaseFormItem"),v=Ut("BaseForm");return $e(),bt("section",r4,[xe("h2",null,pr(t.title),1),De(v,{class:"form-auth",onSubmit:ku(h,["prevent"]),onKeyup:vE(ku(h,["alt"]),["enter"])},{default:Qe(()=>[De(m,null,{default:Qe(()=>[i4,xu(xe("input",{type:"email",name:"email",id:"email","onUpdate:modelValue":p[0]||(p[0]=E=>Bt(o)?o.value=E:null),placeholder:"john@gmail.com",required:""},null,512),[[Nu,an(o)]])]),_:1}),De(m,null,{default:Qe(()=>[s4,xu(xe("input",{type:"password",name:"password",id:"password","onUpdate:modelValue":p[1]||(p[1]=E=>Bt(u)?u.value=E:null),placeholder:"Enter a password",minlength:"6",maxlength:"10",required:""},null,512),[[Nu,an(u)]])]),_:1}),De(m,null,{default:Qe(()=>[De(Kg,{class:"btn-green"},{default:Qe(()=>[Jt(pr(t.title),1)]),_:1})]),_:1})]),_:1},8,["onKeyup"])])}}},a4=Mt(o4,[["__scopeId","data-v-b6b6cdfd"]]),u4={},c4=t=>(yi("data-v-397557d6"),t=t(),vi(),t),l4=c4(()=>xe("span",null,"Title",-1));function h4(t,e){return $e(),bt("label",null,[us(t.$slots,"title",{},()=>[l4]),us(t.$slots,"default",{},void 0)])}const f4=Mt(u4,[["render",h4],["__scopeId","data-v-397557d6"]]),d4={};function p4(t,e){return $e(),bt("span",null,[us(t.$slots,"default",{},()=>[Jt("Message Title")])])}const g4=Mt(d4,[["render",p4],["__scopeId","data-v-d787d83d"]]),br=Qx(S2),ZI=Zx();ZI.use(({store:t})=>{t.router=Th(jg)});br.component("BaseForm",VU);br.component("BaseFormItem",$U);br.component("BaseButton",Kg);br.component("BaseModal",e4);br.component("BaseDropShadow",n4);br.component("BaseAuthModal",a4);br.component("BaseLabel",f4);br.component("BaseTitleMessage",g4);br.use(ZI);br.use(jg);br.mount("#app");
